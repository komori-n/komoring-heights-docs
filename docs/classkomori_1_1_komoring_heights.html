<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>KomoringHeights: komori::KomoringHeights Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygen-awesome.css" rel="stylesheet" type="text/css"/>
<link href="custom.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">KomoringHeights
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespacekomori.html">komori</a></li><li class="navelem"><a class="el" href="classkomori_1_1_komoring_heights.html">KomoringHeights</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pri-methods">Private Member Functions</a> &#124;
<a href="#pri-attribs">Private Attributes</a> &#124;
<a href="classkomori_1_1_komoring_heights-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">komori::KomoringHeights Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>詰将棋探索の本体  
 <a href="classkomori_1_1_komoring_heights.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="komoring__heights_8hpp_source.html">komoring_heights.hpp</a>&gt;</code></p>
<div class="dynheader">
Collaboration diagram for komori::KomoringHeights:</div>
<div class="dyncontent">
<div class="center"><img src="classkomori_1_1_komoring_heights__coll__graph.png" border="0" usemap="#akomori_1_1_komoring_heights_coll__map" alt="Collaboration graph"/></div>
<map name="akomori_1_1_komoring_heights_coll__map" id="akomori_1_1_komoring_heights_coll__map">
<area shape="rect" title="詰将棋探索の本体" alt="" coords="1085,104,1272,131"/>
<area shape="rect" href="classkomori_1_1_pv_list.html" title="各手の探索結果とPVのリスト。" alt="" coords="833,13,947,40"/>
<area shape="rect" href="classkomori_1_1_search_result_comparer.html" title="SearchResult 同士の半順序関係。" alt="" coords="447,5,671,32"/>
<area shape="rect" href="classkomori_1_1_score.html" title="現在の探索状況に基づく評価値。" alt="" coords="835,72,945,99"/>
<area shape="rect" href="structkomori_1_1_define_not_equal_by_equal.html" title=" " alt="" coords="462,57,655,98"/>
<area shape="rect" href="structkomori_1_1_define_not_equal_by_equal.html" title="operator== から operator!= を自動定義するクラス。" alt="" coords="5,57,199,98"/>
<area shape="rect" href="classkomori_1_1_search_monitor.html" title="探索局面数を観測して nps を計算したり探索中断の判断をしたりするクラス。" alt="" coords="805,129,975,156"/>
<area shape="rect" href="classkomori_1_1_circular_array.html" title=" " alt="" coords="459,122,658,163"/>
<area shape="rect" href="classkomori_1_1_circular_array.html" title="長さ kSize 、型 T の循環配列。" alt="" coords="22,151,182,193"/>
<area shape="rect" href="classkomori_1_1_circular_array.html" title=" " alt="" coords="448,188,669,244"/>
<area shape="rect" href="classkomori_1_1_periodic_alarm.html" title="一定間隔で通知するアラーム" alt="" coords="475,268,642,295"/>
<area shape="rect" href="structkomori_1_1_engine_option.html" title="エンジンオプションの事前読み込みおよび提供を行うクラス。" alt="" coords="809,180,971,207"/>
</map>
<center><span class="legend">[<a href="graph_legend.html">legend</a>]</span></center></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:aa7b7d63d9edf2a4f065bfed9c4ab3fab"><td class="memItemLeft" align="right" valign="top"><a id="aa7b7d63d9edf2a4f065bfed9c4ab3fab"></a>
&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classkomori_1_1_komoring_heights.html#aa7b7d63d9edf2a4f065bfed9c4ab3fab">KomoringHeights</a> ()=default</td></tr>
<tr class="memdesc:aa7b7d63d9edf2a4f065bfed9c4ab3fab"><td class="mdescLeft">&#160;</td><td class="mdescRight">Default constructor(default) <br /></td></tr>
<tr class="separator:aa7b7d63d9edf2a4f065bfed9c4ab3fab"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7b49a5920fad8abe9e39dd989d253038"><td class="memItemLeft" align="right" valign="top"><a id="a7b49a5920fad8abe9e39dd989d253038"></a>
&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classkomori_1_1_komoring_heights.html#a7b49a5920fad8abe9e39dd989d253038">KomoringHeights</a> (const <a class="el" href="classkomori_1_1_komoring_heights.html">KomoringHeights</a> &amp;)=delete</td></tr>
<tr class="memdesc:a7b49a5920fad8abe9e39dd989d253038"><td class="mdescLeft">&#160;</td><td class="mdescRight">Copy constructor(delete) <br /></td></tr>
<tr class="separator:a7b49a5920fad8abe9e39dd989d253038"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4965afcca6f426bad2944d03145099ae"><td class="memItemLeft" align="right" valign="top"><a id="a4965afcca6f426bad2944d03145099ae"></a>
&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classkomori_1_1_komoring_heights.html#a4965afcca6f426bad2944d03145099ae">KomoringHeights</a> (<a class="el" href="classkomori_1_1_komoring_heights.html">KomoringHeights</a> &amp;&amp;)=delete</td></tr>
<tr class="memdesc:a4965afcca6f426bad2944d03145099ae"><td class="mdescLeft">&#160;</td><td class="mdescRight">Move constructor(delete) <br /></td></tr>
<tr class="separator:a4965afcca6f426bad2944d03145099ae"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0051d036f5c1afa117579c8ce8f11dcc"><td class="memItemLeft" align="right" valign="top"><a id="a0051d036f5c1afa117579c8ce8f11dcc"></a>
<a class="el" href="classkomori_1_1_komoring_heights.html">KomoringHeights</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classkomori_1_1_komoring_heights.html#a0051d036f5c1afa117579c8ce8f11dcc">operator=</a> (const <a class="el" href="classkomori_1_1_komoring_heights.html">KomoringHeights</a> &amp;)=delete</td></tr>
<tr class="memdesc:a0051d036f5c1afa117579c8ce8f11dcc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Copy assign operator(delete) <br /></td></tr>
<tr class="separator:a0051d036f5c1afa117579c8ce8f11dcc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a38f527a3713eb8eb3447bf94f23dd3ab"><td class="memItemLeft" align="right" valign="top"><a id="a38f527a3713eb8eb3447bf94f23dd3ab"></a>
<a class="el" href="classkomori_1_1_komoring_heights.html">KomoringHeights</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classkomori_1_1_komoring_heights.html#a38f527a3713eb8eb3447bf94f23dd3ab">operator=</a> (<a class="el" href="classkomori_1_1_komoring_heights.html">KomoringHeights</a> &amp;&amp;)=delete</td></tr>
<tr class="memdesc:a38f527a3713eb8eb3447bf94f23dd3ab"><td class="mdescLeft">&#160;</td><td class="mdescRight">Move assign operator(delete) <br /></td></tr>
<tr class="separator:a38f527a3713eb8eb3447bf94f23dd3ab"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4b0850956501700b699f55877bc64071"><td class="memItemLeft" align="right" valign="top"><a id="a4b0850956501700b699f55877bc64071"></a>
&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classkomori_1_1_komoring_heights.html#a4b0850956501700b699f55877bc64071">~KomoringHeights</a> ()=default</td></tr>
<tr class="memdesc:a4b0850956501700b699f55877bc64071"><td class="mdescLeft">&#160;</td><td class="mdescRight">Destructor(default) <br /></td></tr>
<tr class="separator:a4b0850956501700b699f55877bc64071"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acb62352c430c76c78131a0f01cc24525"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classkomori_1_1_komoring_heights.html#acb62352c430c76c78131a0f01cc24525">Init</a> (const <a class="el" href="structkomori_1_1_engine_option.html">EngineOption</a> &amp;option, std::uint32_t num_threads)</td></tr>
<tr class="memdesc:acb62352c430c76c78131a0f01cc24525"><td class="mdescLeft">&#160;</td><td class="mdescRight">エンジンを初期化する  <a href="classkomori_1_1_komoring_heights.html#acb62352c430c76c78131a0f01cc24525">More...</a><br /></td></tr>
<tr class="separator:acb62352c430c76c78131a0f01cc24525"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0bfd75cce087f94880f136cc75e2740f"><td class="memItemLeft" align="right" valign="top"><a id="a0bfd75cce087f94880f136cc75e2740f"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classkomori_1_1_komoring_heights.html#a0bfd75cce087f94880f136cc75e2740f">Clear</a> ()</td></tr>
<tr class="memdesc:a0bfd75cce087f94880f136cc75e2740f"><td class="mdescLeft">&#160;</td><td class="mdescRight">置換表の内容をすべて削除する。ベンチマーク用。 <br /></td></tr>
<tr class="separator:a0bfd75cce087f94880f136cc75e2740f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac8606e609eecf83f3274f6e3d04e4bf8"><td class="memItemLeft" align="right" valign="top">const std::vector&lt; Move &gt; &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classkomori_1_1_komoring_heights.html#ac8606e609eecf83f3274f6e3d04e4bf8">BestMoves</a> () const</td></tr>
<tr class="memdesc:ac8606e609eecf83f3274f6e3d04e4bf8"><td class="mdescLeft">&#160;</td><td class="mdescRight">詰み手順を取得する  <a href="classkomori_1_1_komoring_heights.html#ac8606e609eecf83f3274f6e3d04e4bf8">More...</a><br /></td></tr>
<tr class="separator:ac8606e609eecf83f3274f6e3d04e4bf8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1f773bcd39c7d521fe68bb7546eb9c19"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classkomori_1_1_komoring_heights.html#a1f773bcd39c7d521fe68bb7546eb9c19">NewSearch</a> (const Position &amp;n, bool is_root_or_node)</td></tr>
<tr class="memdesc:a1f773bcd39c7d521fe68bb7546eb9c19"><td class="mdescLeft">&#160;</td><td class="mdescRight"><a class="el" href="classkomori_1_1_komoring_heights.html#a46ca7753e4ed402263f06e9bab0dd832" title="詰め探索を行う。（探索本体）">Search()</a> の準備を行う。探索開始直前に main_thread から呼び出すこと。  <a href="classkomori_1_1_komoring_heights.html#a1f773bcd39c7d521fe68bb7546eb9c19">More...</a><br /></td></tr>
<tr class="separator:a1f773bcd39c7d521fe68bb7546eb9c19"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a46ca7753e4ed402263f06e9bab0dd832"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespacekomori.html#ada1a4eeb6080f15a12a946bf93ff7488">NodeState</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classkomori_1_1_komoring_heights.html#a46ca7753e4ed402263f06e9bab0dd832">Search</a> (const Position &amp;n, bool is_root_or_node)</td></tr>
<tr class="memdesc:a46ca7753e4ed402263f06e9bab0dd832"><td class="mdescLeft">&#160;</td><td class="mdescRight">詰め探索を行う。（探索本体）  <a href="classkomori_1_1_komoring_heights.html#a46ca7753e4ed402263f06e9bab0dd832">More...</a><br /></td></tr>
<tr class="separator:a46ca7753e4ed402263f06e9bab0dd832"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-methods"></a>
Private Member Functions</h2></td></tr>
<tr class="memitem:adfb4b9e964208439548db90325b90c80"><td class="memItemLeft" align="right" valign="top">std::pair&lt; <a class="el" href="namespacekomori.html#ada1a4eeb6080f15a12a946bf93ff7488">NodeState</a>, <a class="el" href="namespacekomori.html#af2c3856a7c53116227693f8dcca64199">MateLen</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classkomori_1_1_komoring_heights.html#adfb4b9e964208439548db90325b90c80">SearchMainLoop</a> (<a class="el" href="classkomori_1_1_node.html">Node</a> &amp;n)</td></tr>
<tr class="memdesc:adfb4b9e964208439548db90325b90c80"><td class="mdescLeft">&#160;</td><td class="mdescRight">詰み手順を探す  <a href="classkomori_1_1_komoring_heights.html#adfb4b9e964208439548db90325b90c80">More...</a><br /></td></tr>
<tr class="separator:adfb4b9e964208439548db90325b90c80"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1d0e3beed5538993268bab3b4b4271f9"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classkomori_1_1_search_result.html">SearchResult</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classkomori_1_1_komoring_heights.html#a1d0e3beed5538993268bab3b4b4271f9">SearchEntry</a> (<a class="el" href="classkomori_1_1_node.html">Node</a> &amp;n, <a class="el" href="namespacekomori.html#af2c3856a7c53116227693f8dcca64199">MateLen</a> len)</td></tr>
<tr class="memdesc:a1d0e3beed5538993268bab3b4b4271f9"><td class="mdescLeft">&#160;</td><td class="mdescRight"><code>n</code> が <code>len</code> 手以下で詰むかを探索する  <a href="classkomori_1_1_komoring_heights.html#a1d0e3beed5538993268bab3b4b4271f9">More...</a><br /></td></tr>
<tr class="separator:a1d0e3beed5538993268bab3b4b4271f9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a741b70fbddec68eaadddb2e8f347e0b9"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classkomori_1_1_search_result.html">SearchResult</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classkomori_1_1_komoring_heights.html#a741b70fbddec68eaadddb2e8f347e0b9">SearchImplForRoot</a> (<a class="el" href="classkomori_1_1_node.html">Node</a> &amp;n, <a class="el" href="namespacekomori.html#ae2b179f7c8adb463807f13c9d73ec34a">PnDn</a> thpn, <a class="el" href="namespacekomori.html#ae2b179f7c8adb463807f13c9d73ec34a">PnDn</a> thdn, <a class="el" href="namespacekomori.html#af2c3856a7c53116227693f8dcca64199">MateLen</a> len)</td></tr>
<tr class="memdesc:a741b70fbddec68eaadddb2e8f347e0b9"><td class="mdescLeft">&#160;</td><td class="mdescRight">詰め探索の本体。root node専用の <code><a class="el" href="classkomori_1_1_komoring_heights.html#ae18eeb5dea2a27dbfa7ed60939556170" title="詰め探索の本体。（再帰関数）">SearchImpl()</a></code>。  <a href="classkomori_1_1_komoring_heights.html#a741b70fbddec68eaadddb2e8f347e0b9">More...</a><br /></td></tr>
<tr class="separator:a741b70fbddec68eaadddb2e8f347e0b9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae18eeb5dea2a27dbfa7ed60939556170"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classkomori_1_1_search_result.html">SearchResult</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classkomori_1_1_komoring_heights.html#ae18eeb5dea2a27dbfa7ed60939556170">SearchImpl</a> (<a class="el" href="classkomori_1_1_node.html">Node</a> &amp;n, <a class="el" href="namespacekomori.html#ae2b179f7c8adb463807f13c9d73ec34a">PnDn</a> thpn, <a class="el" href="namespacekomori.html#ae2b179f7c8adb463807f13c9d73ec34a">PnDn</a> thdn, <a class="el" href="namespacekomori.html#af2c3856a7c53116227693f8dcca64199">MateLen</a> len, std::uint32_t &amp;inc_flag)</td></tr>
<tr class="memdesc:ae18eeb5dea2a27dbfa7ed60939556170"><td class="mdescLeft">&#160;</td><td class="mdescRight">詰め探索の本体。（再帰関数）  <a href="classkomori_1_1_komoring_heights.html#ae18eeb5dea2a27dbfa7ed60939556170">More...</a><br /></td></tr>
<tr class="separator:ae18eeb5dea2a27dbfa7ed60939556170"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3366c841ead237070560d6eafe9d9721"><td class="memItemLeft" align="right" valign="top">std::vector&lt; Move &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classkomori_1_1_komoring_heights.html#a3366c841ead237070560d6eafe9d9721">GetMatePath</a> (<a class="el" href="classkomori_1_1_node.html">Node</a> &amp;n, <a class="el" href="namespacekomori.html#af2c3856a7c53116227693f8dcca64199">MateLen</a> len, bool exact=false)</td></tr>
<tr class="memdesc:a3366c841ead237070560d6eafe9d9721"><td class="mdescLeft">&#160;</td><td class="mdescRight">現時点の探索結果から詰め手順を取得する  <a href="classkomori_1_1_komoring_heights.html#a3366c841ead237070560d6eafe9d9721">More...</a><br /></td></tr>
<tr class="separator:a3366c841ead237070560d6eafe9d9721"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acbf57b8309f9e93aebbc425d14358db7"><td class="memItemLeft" align="right" valign="top">std::pair&lt; Move, <a class="el" href="namespacekomori.html#af2c3856a7c53116227693f8dcca64199">MateLen</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classkomori_1_1_komoring_heights.html#acbf57b8309f9e93aebbc425d14358db7">GetBestMoveOrNode</a> (<a class="el" href="classkomori_1_1_node.html">Node</a> &amp;n, <a class="el" href="namespacekomori.html#af2c3856a7c53116227693f8dcca64199">MateLen</a> len, bool exact)</td></tr>
<tr class="memdesc:acbf57b8309f9e93aebbc425d14358db7"><td class="mdescLeft">&#160;</td><td class="mdescRight">OR node <code>n</code> における len 手以下詰めの最善手とそのときの詰み手数を取得する  <a href="classkomori_1_1_komoring_heights.html#acbf57b8309f9e93aebbc425d14358db7">More...</a><br /></td></tr>
<tr class="separator:acbf57b8309f9e93aebbc425d14358db7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a93894be39fd9d3d97ad767042d49afe3"><td class="memItemLeft" align="right" valign="top">std::pair&lt; Move, <a class="el" href="namespacekomori.html#af2c3856a7c53116227693f8dcca64199">MateLen</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classkomori_1_1_komoring_heights.html#a93894be39fd9d3d97ad767042d49afe3">GetBestMoveAndNode</a> (<a class="el" href="classkomori_1_1_node.html">Node</a> &amp;n, <a class="el" href="namespacekomori.html#af2c3856a7c53116227693f8dcca64199">MateLen</a> len, bool exact)</td></tr>
<tr class="memdesc:a93894be39fd9d3d97ad767042d49afe3"><td class="mdescLeft">&#160;</td><td class="mdescRight">AND node <code>n</code> における len 手以下詰めの最善手とそのときの詰み手数を取得する  <a href="classkomori_1_1_komoring_heights.html#a93894be39fd9d3d97ad767042d49afe3">More...</a><br /></td></tr>
<tr class="separator:a93894be39fd9d3d97ad767042d49afe3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abc9afb32381a9ebfa45d6f2c8d947c83"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classkomori_1_1_komoring_heights.html#abc9afb32381a9ebfa45d6f2c8d947c83">UpdateFinalPv</a> (<a class="el" href="classkomori_1_1_node.html">Node</a> &amp;n, Move move, const <a class="el" href="classkomori_1_1_search_result.html">SearchResult</a> &amp;result)</td></tr>
<tr class="memdesc:abc9afb32381a9ebfa45d6f2c8d947c83"><td class="mdescLeft">&#160;</td><td class="mdescRight"><code>move</code> に対する PV を構成して <code>pv_list_</code> を更新する  <a href="classkomori_1_1_komoring_heights.html#abc9afb32381a9ebfa45d6f2c8d947c83">More...</a><br /></td></tr>
<tr class="separator:abc9afb32381a9ebfa45d6f2c8d947c83"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1716f99cbc6053f69973929c21bdd83f"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classkomori_1_1_usi_info.html">UsiInfo</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classkomori_1_1_komoring_heights.html#a1716f99cbc6053f69973929c21bdd83f">CurrentInfo</a> () const</td></tr>
<tr class="memdesc:a1716f99cbc6053f69973929c21bdd83f"><td class="mdescLeft">&#160;</td><td class="mdescRight">現在の探索情報を取得する  <a href="classkomori_1_1_komoring_heights.html#a1716f99cbc6053f69973929c21bdd83f">More...</a><br /></td></tr>
<tr class="separator:a1716f99cbc6053f69973929c21bdd83f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0b299d81408b0a5d664379564c145fbc"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classkomori_1_1_komoring_heights.html#a0b299d81408b0a5d664379564c145fbc">Print</a> (const <a class="el" href="classkomori_1_1_node.html">Node</a> &amp;n)</td></tr>
<tr class="memdesc:a0b299d81408b0a5d664379564c145fbc"><td class="mdescLeft">&#160;</td><td class="mdescRight">探索情報を出力する  <a href="classkomori_1_1_komoring_heights.html#a0b299d81408b0a5d664379564c145fbc">More...</a><br /></td></tr>
<tr class="separator:a0b299d81408b0a5d664379564c145fbc"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-attribs"></a>
Private Attributes</h2></td></tr>
<tr class="memitem:a2eb40980781c686a6872134c50ac44c1"><td class="memItemLeft" align="right" valign="top"><a id="a2eb40980781c686a6872134c50ac44c1"></a>
<a class="el" href="namespacekomori_1_1tt.html#ab367c034eba59afd3939578f638b0ffb">tt::TranspositionTable</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classkomori_1_1_komoring_heights.html#a2eb40980781c686a6872134c50ac44c1">tt_</a></td></tr>
<tr class="memdesc:a2eb40980781c686a6872134c50ac44c1"><td class="mdescLeft">&#160;</td><td class="mdescRight">置換表 <br /></td></tr>
<tr class="separator:a2eb40980781c686a6872134c50ac44c1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a415304d73d4e58f2472b239cb4f803a2"><td class="memItemLeft" align="right" valign="top"><a id="a415304d73d4e58f2472b239cb4f803a2"></a>
<a class="el" href="structkomori_1_1_engine_option.html">EngineOption</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classkomori_1_1_komoring_heights.html#a415304d73d4e58f2472b239cb4f803a2">option_</a></td></tr>
<tr class="memdesc:a415304d73d4e58f2472b239cb4f803a2"><td class="mdescLeft">&#160;</td><td class="mdescRight">エンジンオプション <br /></td></tr>
<tr class="separator:a415304d73d4e58f2472b239cb4f803a2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae29416c22a13f8fb6aee9d4cabd729c8"><td class="memItemLeft" align="right" valign="top"><a id="ae29416c22a13f8fb6aee9d4cabd729c8"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classkomori_1_1_komoring_heights.html#ae29416c22a13f8fb6aee9d4cabd729c8">pv_search_</a> {false}</td></tr>
<tr class="memdesc:ae29416c22a13f8fb6aee9d4cabd729c8"><td class="mdescLeft">&#160;</td><td class="mdescRight">現在PV探索中かどうか <br /></td></tr>
<tr class="separator:ae29416c22a13f8fb6aee9d4cabd729c8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3018f07e82d4b5c7b00515cdfdf3898d"><td class="memItemLeft" align="right" valign="top"><a id="a3018f07e82d4b5c7b00515cdfdf3898d"></a>
<a class="el" href="classkomori_1_1_search_monitor.html">SearchMonitor</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classkomori_1_1_komoring_heights.html#a3018f07e82d4b5c7b00515cdfdf3898d">monitor_</a></td></tr>
<tr class="memdesc:a3018f07e82d4b5c7b00515cdfdf3898d"><td class="mdescLeft">&#160;</td><td class="mdescRight">探索モニター <br /></td></tr>
<tr class="separator:a3018f07e82d4b5c7b00515cdfdf3898d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae8e5b63d79c00770185b1e4a01c8256c"><td class="memItemLeft" align="right" valign="top"><a id="ae8e5b63d79c00770185b1e4a01c8256c"></a>
std::vector&lt; Move &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classkomori_1_1_komoring_heights.html#ae8e5b63d79c00770185b1e4a01c8256c">best_moves_</a></td></tr>
<tr class="memdesc:ae8e5b63d79c00770185b1e4a01c8256c"><td class="mdescLeft">&#160;</td><td class="mdescRight">詰み手順 <br /></td></tr>
<tr class="separator:ae8e5b63d79c00770185b1e4a01c8256c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4fed39d218eda93d18ecde5cb8a634cc"><td class="memItemLeft" align="right" valign="top"><a id="a4fed39d218eda93d18ecde5cb8a634cc"></a>
std::deque&lt; <a class="el" href="classkomori_1_1_expansion_stack.html">ExpansionStack</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classkomori_1_1_komoring_heights.html#a4fed39d218eda93d18ecde5cb8a634cc">expansion_list_</a> {}</td></tr>
<tr class="memdesc:a4fed39d218eda93d18ecde5cb8a634cc"><td class="mdescLeft">&#160;</td><td class="mdescRight">局面展開のための一時領域 <br /></td></tr>
<tr class="separator:a4fed39d218eda93d18ecde5cb8a634cc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6802a2115e6b29d1cbf6d18c380b5f36"><td class="memItemLeft" align="right" valign="top"><a id="a6802a2115e6b29d1cbf6d18c380b5f36"></a>
<a class="el" href="classkomori_1_1_score.html">Score</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classkomori_1_1_komoring_heights.html#a6802a2115e6b29d1cbf6d18c380b5f36">score_</a> {}</td></tr>
<tr class="memdesc:a6802a2115e6b29d1cbf6d18c380b5f36"><td class="mdescLeft">&#160;</td><td class="mdescRight">現在の探索評価値。余詰探索中に <a class="el" href="classkomori_1_1_komoring_heights.html#a1716f99cbc6053f69973929c21bdd83f" title="現在の探索情報を取得する">CurrentInfo()</a> で取得できるようにここにおいておく <br /></td></tr>
<tr class="separator:a6802a2115e6b29d1cbf6d18c380b5f36"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a856d03e886c2453b211aaa53587df01e"><td class="memItemLeft" align="right" valign="top"><a id="a856d03e886c2453b211aaa53587df01e"></a>
<a class="el" href="classkomori_1_1_pv_list.html">PvList</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classkomori_1_1_komoring_heights.html#a856d03e886c2453b211aaa53587df01e">pv_list_</a></td></tr>
<tr class="memdesc:a856d03e886c2453b211aaa53587df01e"><td class="mdescLeft">&#160;</td><td class="mdescRight">各手に対する PV の一覧 <br /></td></tr>
<tr class="separator:a856d03e886c2453b211aaa53587df01e"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>詰将棋探索の本体 </p>

<p class="definition">Definition at line <a class="el" href="komoring__heights_8hpp_source.html#l00022">22</a> of file <a class="el" href="komoring__heights_8hpp_source.html">komoring_heights.hpp</a>.</p>
</div><h2 class="groupheader">Member Function Documentation</h2>
<a id="ac8606e609eecf83f3274f6e3d04e4bf8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac8606e609eecf83f3274f6e3d04e4bf8">&#9670;&nbsp;</a></span>BestMoves()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const std::vector&lt;Move&gt;&amp; komori::KomoringHeights::BestMoves </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>詰み手順を取得する </p>
<dl class="section pre"><dt>Precondition</dt><dd><a class="el" href="classkomori_1_1_komoring_heights.html#a46ca7753e4ed402263f06e9bab0dd832" title="詰め探索を行う。（探索本体）">Search()</a> の戻り値が <code><a class="el" href="namespacekomori.html#ada1a4eeb6080f15a12a946bf93ff7488a91941e19d11188fa06c946a61bef1d7d" title="詰み">NodeState::kProven</a></code> </dd></dl>
<dl class="section return"><dt>Returns</dt><dd>詰み手順 </dd></dl>

<p class="definition">Definition at line <a class="el" href="komoring__heights_8hpp_source.html#l00051">51</a> of file <a class="el" href="komoring__heights_8hpp_source.html">komoring_heights.hpp</a>.</p>

</div>
</div>
<a id="a1716f99cbc6053f69973929c21bdd83f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1716f99cbc6053f69973929c21bdd83f">&#9670;&nbsp;</a></span>CurrentInfo()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classkomori_1_1_usi_info.html">UsiInfo</a> komori::KomoringHeights::CurrentInfo </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>現在の探索情報を取得する </p>
<dl class="section pre"><dt>Precondition</dt><dd>メインスレッドから呼び出すこと </dd></dl>

<p class="definition">Definition at line <a class="el" href="komoring__heights_8cpp_source.html#l00574">574</a> of file <a class="el" href="komoring__heights_8cpp_source.html">komoring_heights.cpp</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classkomori_1_1_komoring_heights_a1716f99cbc6053f69973929c21bdd83f_cgraph.png" border="0" usemap="#aclasskomori_1_1_komoring_heights_a1716f99cbc6053f69973929c21bdd83f_cgraph" alt=""/></div>
<map name="aclasskomori_1_1_komoring_heights_a1716f99cbc6053f69973929c21bdd83f_cgraph" id="aclasskomori_1_1_komoring_heights_a1716f99cbc6053f69973929c21bdd83f_cgraph">
<area shape="rect" title="現在の探索情報を取得する" alt="" coords="5,97,192,139"/>
<area shape="rect" href="classkomori_1_1_search_monitor.html#a8bd76ec3242a3b0cc6af65285b0f30b9" title="現在の探索情報を UsiInfo に詰めて返す。" alt="" coords="245,5,414,47"/>
<area shape="rect" href="classkomori_1_1_usi_info.html#abc0d87a921059d9c1a503e390eb2f0e3" title="key に val を設定する。" alt="" coords="489,71,639,98"/>
<area shape="rect" href="classkomori_1_1tt_1_1detail_1_1_transposition_table_impl.html#a4179ad57f2d4a73ece89f9c380a7751a" title="置換表使用率（千分率）を計算する" alt="" coords="240,122,419,178"/>
<area shape="rect" href="classkomori_1_1_score.html#a8d4d0c6ccf9d41846b8ebe16be1f7faa" title="現在の評価値を USI 文字列で返す" alt="" coords="244,202,415,229"/>
<area shape="rect" href="classkomori_1_1_search_monitor.html#a52109fe1ac3359f99fc605e4b020ddfc" title="現在の探索局面数" alt="" coords="479,5,649,47"/>
<area shape="rect" href="classkomori_1_1tt_1_1_regular_table.html#a9d2dd0f37b92f3af3f34b3b412a5c8a8" title="通常テーブルのメモリ使用率を見積もる。" alt="" coords="475,125,653,167"/>
<area shape="rect" href="classkomori_1_1tt_1_1_repetition_table.html#a164c681a2c3ac0b306e8807d2d6014cd" title="置換表のメモリ使用率を求める。" alt="" coords="467,191,661,232"/>
</map>
</div>

</div>
</div>
<a id="a93894be39fd9d3d97ad767042d49afe3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a93894be39fd9d3d97ad767042d49afe3">&#9670;&nbsp;</a></span>GetBestMoveAndNode()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::pair&lt; Move, <a class="el" href="namespacekomori.html#af2c3856a7c53116227693f8dcca64199">MateLen</a> &gt; komori::KomoringHeights::GetBestMoveAndNode </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classkomori_1_1_node.html">Node</a> &amp;&#160;</td>
          <td class="paramname"><em>n</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespacekomori.html#af2c3856a7c53116227693f8dcca64199">MateLen</a>&#160;</td>
          <td class="paramname"><em>len</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>exact</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>AND node <code>n</code> における len 手以下詰めの最善手とそのときの詰み手数を取得する </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">n</td><td>現局面 </td></tr>
    <tr><td class="paramname">len</td><td>詰み手数の上限値 </td></tr>
    <tr><td class="paramname">exact</td><td>正確に len 手詰を取得するか </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>最善手とそのときの詰み手数 </dd></dl>

<p class="definition">Definition at line <a class="el" href="komoring__heights_8cpp_source.html#l00511">511</a> of file <a class="el" href="komoring__heights_8cpp_source.html">komoring_heights.cpp</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classkomori_1_1_komoring_heights_a93894be39fd9d3d97ad767042d49afe3_cgraph.png" border="0" usemap="#aclasskomori_1_1_komoring_heights_a93894be39fd9d3d97ad767042d49afe3_cgraph" alt=""/></div>
<map name="aclasskomori_1_1_komoring_heights_a93894be39fd9d3d97ad767042d49afe3_cgraph" id="aclasskomori_1_1_komoring_heights_a93894be39fd9d3d97ad767042d49afe3_cgraph">
<area shape="rect" title="AND node n における len 手以下詰めの最善手とそのときの詰み手数を取得する" alt="" coords="5,115,192,156"/>
<area shape="rect" href="classkomori_1_1_bit_set.html#a44f83fc0843130cea8ea99086d586a15" title="フラグをすべて true にした BitSet を返す。" alt="" coords="259,5,408,47"/>
<area shape="rect" href="classkomori_1_1_node.html#a19fbde5adf6e542e61f6c620df5b4d16" title="現在の探索深さ" alt="" coords="1015,223,1194,250"/>
<area shape="rect" href="classkomori_1_1_node.html#a4340f73789f45570ffe593fc9d0aafa9" title="現在 OR node かどうか" alt="" coords="1016,173,1193,199"/>
<area shape="rect" href="classkomori_1_1detail_1_1_mate_len_impl.html#ab53b046400e9408fdc8c744f56e09e27" title="詰み手数を返す" alt="" coords="987,337,1223,363"/>
<area shape="rect" href="classkomori_1_1_komoring_heights.html#ae18eeb5dea2a27dbfa7ed60939556170" title="詰め探索の本体。（再帰関数）" alt="" coords="240,764,427,805"/>
<area shape="rect" href="classkomori_1_1_node.html#acd0ed0838fa087e459aadae9cf563b0c" title="現在の手番" alt="" coords="1309,362,1444,389"/>
<area shape="rect" href="classkomori_1_1_node.html#a485678f91b4653d87fcf5ee6071351de" title="このクラスが保持する Position への参照" alt="" coords="1540,1130,1680,1157"/>
<area shape="rect" href="classkomori_1_1tt_1_1detail_1_1_transposition_table_impl.html#a03fe64f10c6759a3d546410a9a5dd97c" title="ガベージコレクションを実行する" alt="" coords="481,173,660,229"/>
<area shape="rect" href="classkomori_1_1_search_result.html#af8b976b730b126e74a8c062f275444e9" title="dn" alt="" coords="1011,401,1198,427"/>
<area shape="rect" href="classkomori_1_1_node.html#a082d5d0045420c8978206fda2b518e17" title="move で1手進める" alt="" coords="1019,1269,1190,1295"/>
<area shape="rect" href="classkomori_1_1_node.html#a2c10b9d22f4966f51b47495088f4fd4b" title="現在の攻め方の持ち駒" alt="" coords="1293,1079,1460,1106"/>
<area shape="rect" href="classkomori_1_1tt_1_1detail_1_1_transposition_table_impl.html#a4179ad57f2d4a73ece89f9c380a7751a" title="置換表使用率（千分率）を計算する" alt="" coords="1015,629,1194,685"/>
<area shape="rect" href="classkomori_1_1_search_result.html#a0d81252fa8281a46c86b05b609434429" title="千日手の探索結果で初期化する" alt="" coords="491,376,651,417"/>
<area shape="rect" href="classkomori_1_1_search_result.html#a87047b35fcd4a5b7be3b7ee76d8b740c" title="pn" alt="" coords="1013,790,1197,817"/>
<area shape="rect" href="classkomori_1_1_komoring_heights.html#a0b299d81408b0a5d664379564c145fbc" title="探索情報を出力する" alt="" coords="477,600,664,641"/>
<area shape="rect" href="classkomori_1_1_search_monitor.html#a7358be665cb6c316b9f3a546460b42f7" title="次回の置換表使用率チェックタイミングを更新する" alt="" coords="475,887,667,928"/>
<area shape="rect" href="classkomori_1_1_search_monitor.html#a3c46f5106bac15dd00fe455f32eb4037" title="今すぐ置換表使用率をチェックすべきなら true" alt="" coords="486,1135,655,1176"/>
<area shape="rect" href="classkomori_1_1_search_monitor.html#ae4757752658cf49aaf451f062766441c" title="今すぐ評価値を出力すべきかどうか。定期的に呼び出す必要がある。" alt="" coords="486,989,655,1031"/>
<area shape="rect" href="classkomori_1_1_search_monitor.html#a69bf484d9bdcf77f15e33acef0b2b4cc" title="今すぐ探索をやめるべきなら true" alt="" coords="486,1055,655,1096"/>
<area shape="rect" href="classkomori_1_1_node.html#aad7fe2734b150a1d9645ea72e2fdda83" title="DoMove() で進めた局面を元に戻す" alt="" coords="1011,1439,1198,1466"/>
<area shape="rect" href="classkomori_1_1_search_monitor.html#a0d7f5b2f59638e754faa4e7c4a6d1cb4" title="深さ depth の局面に訪れたことを報告する" alt="" coords="486,535,655,576"/>
<area shape="rect" href="classkomori_1_1tt_1_1_regular_table.html#abc27e107c2b787df207bc94082d05e3e" title="通常テーブルの中で、メモリ使用率が高いエントリを間引く" alt="" coords="738,5,915,47"/>
<area shape="rect" href="classkomori_1_1tt_1_1_regular_table.html#afa4c0e9340b321a94d0f21f42fd0ecbb" title="エントリをできるだけ手前の方に移動させる（コンパクション）" alt="" coords="1016,5,1193,47"/>
<area shape="rect" href="classkomori_1_1_fixed_size_stack.html#a5f9f4c0e10424bb96f652c18cfc6afc7" title="スタックの末尾（最も後に保存した要素）" alt="" coords="1291,1465,1463,1507"/>
<area shape="rect" href="classkomori_1_1_node.html#afc3ff609d7a14aae03aab36317148f63" title="現在の盤面ハッシュ値" alt="" coords="1287,1247,1466,1274"/>
<area shape="rect" href="classkomori_1_1_node.html#a6dfeb2e63ce33d5b9043010cbb8428c3" title="move 後の経路ハッシュ値" alt="" coords="1277,1349,1477,1375"/>
<area shape="rect" href="classkomori_1_1_fixed_size_stack.html#a122fd54c4b21ad3d1ce129cf1b2d6f3f" title="val をスタックに追加する" alt="" coords="1291,1181,1463,1223"/>
<area shape="rect" href="classkomori_1_1_visit_history.html#a3ba89e53fbe90e03b07b2c68eea98334" title="(board_key, hand) を履歴に登録する" alt="" coords="1301,1400,1452,1441"/>
<area shape="rect" href="namespacekomori.html#ae0ab7ef1101897b620e05208fc8975ee" title="現在の path_key と手 move から1手後の path_key を計算する。" alt="" coords="1531,1349,1689,1375"/>
<area shape="rect" href="classkomori_1_1_visit_history.html#a62769876f5547de5b474300c666cea8a" title="index の次のインデックスを求める" alt="" coords="1535,1591,1685,1632"/>
<area shape="rect" href="classkomori_1_1_visit_history.html#ab3ed82ca4c526f4f34c90c9277ba7d5b" title="board_key に対する探索開始インデックスを求める" alt="" coords="1535,1441,1685,1483"/>
<area shape="rect" href="classkomori_1_1tt_1_1_regular_table.html#a9d2dd0f37b92f3af3f34b3b412a5c8a8" title="通常テーブルのメモリ使用率を見積もる。" alt="" coords="1288,668,1465,709"/>
<area shape="rect" href="classkomori_1_1tt_1_1_repetition_table.html#a164c681a2c3ac0b306e8807d2d6014cd" title="置換表のメモリ使用率を求める。" alt="" coords="1279,603,1474,644"/>
<area shape="rect" href="classkomori_1_1_pv_list.html#a85a551e599bdb9159a720d24ecba85a7" title="開始局面における PV を返す" alt="" coords="729,898,924,925"/>
<area shape="rect" href="classkomori_1_1_komoring_heights.html#a1716f99cbc6053f69973929c21bdd83f" title="現在の探索情報を取得する" alt="" coords="733,629,920,671"/>
<area shape="rect" href="classkomori_1_1_pv_list.html#ab154752ca42ecfacef247d2b3c241ce8" title="各手の探索結果とPVをまとめた配列を返す。" alt="" coords="735,847,919,874"/>
<area shape="rect" href="classkomori_1_1_node.html#ad8aec0a7fdeb5376090cd1e5c3a833a2" title="開始局面が OR Node かどうか" alt="" coords="723,173,930,199"/>
<area shape="rect" href="classkomori_1_1_score.html#abde38682068f6f88a2a014aec7efb8bf" title="Score オブジェクトを構築する。" alt="" coords="749,426,904,453"/>
<area shape="rect" href="classkomori_1_1_node.html#aa6cdedb1efb346e60168dadfb24aa980" title="開始局面からの指し手" alt="" coords="715,477,939,503"/>
<area shape="rect" href="namespacekomori.html#acd8be37a9f85d1912131fe1379f30e70" title="Iterable の先頭 kTake 要素だけを取ってくる" alt="" coords="775,527,879,554"/>
<area shape="rect" href="namespacekomori.html#ac8e4cfe49668438b31f8af11d1043bbe" title="pn/dn 値を文字列に変換する" alt="" coords="763,578,890,605"/>
<area shape="rect" href="classkomori_1_1_pv_list.html#a289167d3bc2e10c3e726dc4e35d63843" title="手 move に対する探索結果を更新する" alt="" coords="742,695,911,722"/>
<area shape="rect" href="classkomori_1_1_pv_list.html#a83cae4bad864ff71f444890950854efa" title="idx_ を comparer_ に従って評価値がいい順に並べ替える" alt="" coords="1001,854,1208,881"/>
<area shape="rect" href="classkomori_1_1_search_monitor.html#a8bd76ec3242a3b0cc6af65285b0f30b9" title="現在の探索情報を UsiInfo に詰めて返す。" alt="" coords="1020,713,1189,755"/>
<area shape="rect" href="classkomori_1_1_search_monitor.html#a52109fe1ac3359f99fc605e4b020ddfc" title="現在の探索局面数" alt="" coords="1292,992,1461,1033"/>
<area shape="rect" href="classkomori_1_1_periodic_alarm.html#a6ed397d4b0c0ae64041789caae1197f7" title="現在時刻を確認し、前回の true を返してから interval_ms_ が経過していれば true を返す" alt="" coords="743,1051,910,1092"/>
<area shape="rect" href="classkomori_1_1_visit_history.html#a3af0755f672c9b15c72253aebc682aa5" title="(board_key, hand) を履歴から消す" alt="" coords="1301,1633,1452,1675"/>
<area shape="rect" href="classkomori_1_1_node.html#a7f1c13d7f57b6af7f34ac77240342d71" title="move 直前の経路ハッシュ値" alt="" coords="1271,1531,1483,1558"/>
<area shape="rect" href="classkomori_1_1_fixed_size_stack.html#a30a23ee0ab5980d4fad72185cafed9d0" title="スタックから要素を1つ削除する" alt="" coords="1275,1582,1479,1609"/>
</map>
</div>

</div>
</div>
<a id="acbf57b8309f9e93aebbc425d14358db7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acbf57b8309f9e93aebbc425d14358db7">&#9670;&nbsp;</a></span>GetBestMoveOrNode()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::pair&lt; Move, <a class="el" href="namespacekomori.html#af2c3856a7c53116227693f8dcca64199">MateLen</a> &gt; komori::KomoringHeights::GetBestMoveOrNode </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classkomori_1_1_node.html">Node</a> &amp;&#160;</td>
          <td class="paramname"><em>n</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespacekomori.html#af2c3856a7c53116227693f8dcca64199">MateLen</a>&#160;</td>
          <td class="paramname"><em>len</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>exact</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>OR node <code>n</code> における len 手以下詰めの最善手とそのときの詰み手数を取得する </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">n</td><td>現局面 </td></tr>
    <tr><td class="paramname">len</td><td>詰み手数の上限値 </td></tr>
    <tr><td class="paramname">exact</td><td>正確に len 手詰を取得するか </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>最善手とそのときの詰み手数 </dd></dl>

<p class="definition">Definition at line <a class="el" href="komoring__heights_8cpp_source.html#l00486">486</a> of file <a class="el" href="komoring__heights_8cpp_source.html">komoring_heights.cpp</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classkomori_1_1_komoring_heights_acbf57b8309f9e93aebbc425d14358db7_cgraph.png" border="0" usemap="#aclasskomori_1_1_komoring_heights_acbf57b8309f9e93aebbc425d14358db7_cgraph" alt=""/></div>
<map name="aclasskomori_1_1_komoring_heights_acbf57b8309f9e93aebbc425d14358db7_cgraph" id="aclasskomori_1_1_komoring_heights_acbf57b8309f9e93aebbc425d14358db7_cgraph">
<area shape="rect" title="OR node n における len 手以下詰めの最善手とそのときの詰み手数を取得する" alt="" coords="5,633,192,674"/>
<area shape="rect" href="classkomori_1_1_bit_set.html#a44f83fc0843130cea8ea99086d586a15" title="フラグをすべて true にした BitSet を返す。" alt="" coords="259,382,408,423"/>
<area shape="rect" href="classkomori_1_1_node.html#a4340f73789f45570ffe593fc9d0aafa9" title="現在 OR node かどうか" alt="" coords="1016,564,1193,591"/>
<area shape="rect" href="classkomori_1_1detail_1_1_mate_len_impl.html#ab53b046400e9408fdc8c744f56e09e27" title="詰み手数を返す" alt="" coords="987,1596,1223,1623"/>
<area shape="rect" href="classkomori_1_1_komoring_heights.html#ae18eeb5dea2a27dbfa7ed60939556170" title="詰め探索の本体。（再帰関数）" alt="" coords="240,793,427,834"/>
<area shape="rect" href="classkomori_1_1_node.html#acd0ed0838fa087e459aadae9cf563b0c" title="現在の手番" alt="" coords="1309,624,1444,651"/>
<area shape="rect" href="classkomori_1_1_node.html#a485678f91b4653d87fcf5ee6071351de" title="このクラスが保持する Position への参照" alt="" coords="1540,421,1680,448"/>
<area shape="rect" href="classkomori_1_1tt_1_1detail_1_1_transposition_table_impl.html#a03fe64f10c6759a3d546410a9a5dd97c" title="ガベージコレクションを実行する" alt="" coords="481,549,660,605"/>
<area shape="rect" href="classkomori_1_1_search_result.html#af8b976b730b126e74a8c062f275444e9" title="dn" alt="" coords="1011,1533,1198,1560"/>
<area shape="rect" href="classkomori_1_1_node.html#a082d5d0045420c8978206fda2b518e17" title="move で1手進める" alt="" coords="1019,283,1190,309"/>
<area shape="rect" href="classkomori_1_1_node.html#a2c10b9d22f4966f51b47495088f4fd4b" title="現在の攻め方の持ち駒" alt="" coords="1293,421,1460,448"/>
<area shape="rect" href="classkomori_1_1_node.html#a19fbde5adf6e542e61f6c620df5b4d16" title="現在の探索深さ" alt="" coords="1015,1255,1194,1281"/>
<area shape="rect" href="classkomori_1_1tt_1_1detail_1_1_transposition_table_impl.html#a4179ad57f2d4a73ece89f9c380a7751a" title="置換表使用率（千分率）を計算する" alt="" coords="1015,969,1194,1025"/>
<area shape="rect" href="classkomori_1_1_search_result.html#a0d81252fa8281a46c86b05b609434429" title="千日手の探索結果で初期化する" alt="" coords="491,943,651,985"/>
<area shape="rect" href="classkomori_1_1_search_result.html#a87047b35fcd4a5b7be3b7ee76d8b740c" title="pn" alt="" coords="1013,1471,1197,1497"/>
<area shape="rect" href="classkomori_1_1_komoring_heights.html#a0b299d81408b0a5d664379564c145fbc" title="探索情報を出力する" alt="" coords="477,1121,664,1162"/>
<area shape="rect" href="classkomori_1_1_search_monitor.html#a7358be665cb6c316b9f3a546460b42f7" title="次回の置換表使用率チェックタイミングを更新する" alt="" coords="475,826,667,867"/>
<area shape="rect" href="classkomori_1_1_search_monitor.html#a3c46f5106bac15dd00fe455f32eb4037" title="今すぐ置換表使用率をチェックすべきなら true" alt="" coords="486,761,655,802"/>
<area shape="rect" href="classkomori_1_1_search_monitor.html#ae4757752658cf49aaf451f062766441c" title="今すぐ評価値を出力すべきかどうか。定期的に呼び出す必要がある。" alt="" coords="486,695,655,737"/>
<area shape="rect" href="classkomori_1_1_search_monitor.html#a69bf484d9bdcf77f15e33acef0b2b4cc" title="今すぐ探索をやめるべきなら true" alt="" coords="486,630,655,671"/>
<area shape="rect" href="classkomori_1_1_node.html#aad7fe2734b150a1d9645ea72e2fdda83" title="DoMove() で進めた局面を元に戻す" alt="" coords="1011,447,1198,473"/>
<area shape="rect" href="classkomori_1_1_search_monitor.html#a0d7f5b2f59638e754faa4e7c4a6d1cb4" title="深さ depth の局面に訪れたことを報告する" alt="" coords="486,1186,655,1227"/>
<area shape="rect" href="classkomori_1_1tt_1_1_regular_table.html#abc27e107c2b787df207bc94082d05e3e" title="通常テーブルの中で、メモリ使用率が高いエントリを間引く" alt="" coords="738,549,915,590"/>
<area shape="rect" href="classkomori_1_1tt_1_1_regular_table.html#afa4c0e9340b321a94d0f21f42fd0ecbb" title="エントリをできるだけ手前の方に移動させる（コンパクション）" alt="" coords="1016,498,1193,539"/>
<area shape="rect" href="classkomori_1_1_fixed_size_stack.html#a5f9f4c0e10424bb96f652c18cfc6afc7" title="スタックの末尾（最も後に保存した要素）" alt="" coords="1291,305,1463,346"/>
<area shape="rect" href="classkomori_1_1_node.html#afc3ff609d7a14aae03aab36317148f63" title="現在の盤面ハッシュ値" alt="" coords="1287,371,1466,397"/>
<area shape="rect" href="classkomori_1_1_node.html#a6dfeb2e63ce33d5b9043010cbb8428c3" title="move 後の経路ハッシュ値" alt="" coords="1277,5,1477,32"/>
<area shape="rect" href="classkomori_1_1_fixed_size_stack.html#a122fd54c4b21ad3d1ce129cf1b2d6f3f" title="val をスタックに追加する" alt="" coords="1291,122,1463,163"/>
<area shape="rect" href="classkomori_1_1_visit_history.html#a3ba89e53fbe90e03b07b2c68eea98334" title="(board_key, hand) を履歴に登録する" alt="" coords="1301,57,1452,98"/>
<area shape="rect" href="namespacekomori.html#ae0ab7ef1101897b620e05208fc8975ee" title="現在の path_key と手 move から1手後の path_key を計算する。" alt="" coords="1531,5,1689,32"/>
<area shape="rect" href="classkomori_1_1_visit_history.html#a62769876f5547de5b474300c666cea8a" title="index の次のインデックスを求める" alt="" coords="1535,171,1685,213"/>
<area shape="rect" href="classkomori_1_1_visit_history.html#ab3ed82ca4c526f4f34c90c9277ba7d5b" title="board_key に対する探索開始インデックスを求める" alt="" coords="1535,89,1685,130"/>
<area shape="rect" href="classkomori_1_1tt_1_1_regular_table.html#a9d2dd0f37b92f3af3f34b3b412a5c8a8" title="通常テーブルのメモリ使用率を見積もる。" alt="" coords="1288,943,1465,985"/>
<area shape="rect" href="classkomori_1_1tt_1_1_repetition_table.html#a164c681a2c3ac0b306e8807d2d6014cd" title="置換表のメモリ使用率を求める。" alt="" coords="1279,1009,1474,1050"/>
<area shape="rect" href="classkomori_1_1_pv_list.html#a85a551e599bdb9159a720d24ecba85a7" title="開始局面における PV を返す" alt="" coords="729,1052,924,1079"/>
<area shape="rect" href="classkomori_1_1_komoring_heights.html#a1716f99cbc6053f69973929c21bdd83f" title="現在の探索情報を取得する" alt="" coords="733,986,920,1027"/>
<area shape="rect" href="classkomori_1_1_pv_list.html#ab154752ca42ecfacef247d2b3c241ce8" title="各手の探索結果とPVをまとめた配列を返す。" alt="" coords="735,1204,919,1231"/>
<area shape="rect" href="classkomori_1_1_node.html#ad8aec0a7fdeb5376090cd1e5c3a833a2" title="開始局面が OR Node かどうか" alt="" coords="723,935,930,961"/>
<area shape="rect" href="classkomori_1_1_score.html#abde38682068f6f88a2a014aec7efb8bf" title="Score オブジェクトを構築する。" alt="" coords="749,1508,904,1535"/>
<area shape="rect" href="classkomori_1_1_node.html#aa6cdedb1efb346e60168dadfb24aa980" title="開始局面からの指し手" alt="" coords="715,1305,939,1332"/>
<area shape="rect" href="namespacekomori.html#acd8be37a9f85d1912131fe1379f30e70" title="Iterable の先頭 kTake 要素だけを取ってくる" alt="" coords="775,1356,879,1383"/>
<area shape="rect" href="namespacekomori.html#ac8e4cfe49668438b31f8af11d1043bbe" title="pn/dn 値を文字列に変換する" alt="" coords="763,1103,890,1129"/>
<area shape="rect" href="classkomori_1_1_pv_list.html#a289167d3bc2e10c3e726dc4e35d63843" title="手 move に対する探索結果を更新する" alt="" coords="742,1153,911,1180"/>
<area shape="rect" href="classkomori_1_1_pv_list.html#a83cae4bad864ff71f444890950854efa" title="idx_ を comparer_ に従って評価値がいい順に並べ替える" alt="" coords="1001,1060,1208,1087"/>
<area shape="rect" href="classkomori_1_1_search_monitor.html#a8bd76ec3242a3b0cc6af65285b0f30b9" title="現在の探索情報を UsiInfo に詰めて返す。" alt="" coords="1020,898,1189,939"/>
<area shape="rect" href="classkomori_1_1_search_monitor.html#a52109fe1ac3359f99fc605e4b020ddfc" title="現在の探索局面数" alt="" coords="1292,775,1461,817"/>
<area shape="rect" href="classkomori_1_1_periodic_alarm.html#a6ed397d4b0c0ae64041789caae1197f7" title="現在時刻を確認し、前回の true を返してから interval_ms_ が経過していれば true を返す" alt="" coords="743,666,910,707"/>
<area shape="rect" href="classkomori_1_1_visit_history.html#a3af0755f672c9b15c72253aebc682aa5" title="(board_key, hand) を履歴から消す" alt="" coords="1301,187,1452,229"/>
<area shape="rect" href="classkomori_1_1_node.html#a7f1c13d7f57b6af7f34ac77240342d71" title="move 直前の経路ハッシュ値" alt="" coords="1271,472,1483,499"/>
<area shape="rect" href="classkomori_1_1_fixed_size_stack.html#a30a23ee0ab5980d4fad72185cafed9d0" title="スタックから要素を1つ削除する" alt="" coords="1275,523,1479,549"/>
</map>
</div>

</div>
</div>
<a id="a3366c841ead237070560d6eafe9d9721"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3366c841ead237070560d6eafe9d9721">&#9670;&nbsp;</a></span>GetMatePath()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt; Move &gt; komori::KomoringHeights::GetMatePath </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classkomori_1_1_node.html">Node</a> &amp;&#160;</td>
          <td class="paramname"><em>n</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespacekomori.html#af2c3856a7c53116227693f8dcca64199">MateLen</a>&#160;</td>
          <td class="paramname"><em>len</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>exact</em> = <code>false</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>現時点の探索結果から詰め手順を取得する </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">n</td><td>現局面 </td></tr>
    <tr><td class="paramname">len</td><td>詰み手数の上限値 </td></tr>
    <tr><td class="paramname">exact</td><td>正確に len 手詰を取得するか（default: false） </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>詰み手順 </dd></dl>
<dl class="section pre"><dt>Precondition</dt><dd>メインスレッドから呼び出すこと </dd></dl>

<p class="definition">Definition at line <a class="el" href="komoring__heights_8cpp_source.html#l00456">456</a> of file <a class="el" href="komoring__heights_8cpp_source.html">komoring_heights.cpp</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classkomori_1_1_komoring_heights_a3366c841ead237070560d6eafe9d9721_cgraph.png" border="0" usemap="#aclasskomori_1_1_komoring_heights_a3366c841ead237070560d6eafe9d9721_cgraph" alt=""/></div>
<map name="aclasskomori_1_1_komoring_heights_a3366c841ead237070560d6eafe9d9721_cgraph" id="aclasskomori_1_1_komoring_heights_a3366c841ead237070560d6eafe9d9721_cgraph">
<area shape="rect" title="現時点の探索結果から詰め手順を取得する" alt="" coords="5,653,192,694"/>
<area shape="rect" href="namespacekomori.html#af60b97ffafc4e100347e046e86ef02ac" title="(OR node限定) n が 1 手詰かどうか判定する。" alt="" coords="480,287,656,313"/>
<area shape="rect" href="classkomori_1_1_node.html#a082d5d0045420c8978206fda2b518e17" title="move で1手進める" alt="" coords="720,479,891,505"/>
<area shape="rect" href="classkomori_1_1_komoring_heights.html#a93894be39fd9d3d97ad767042d49afe3" title="AND node n における len 手以下詰めの最善手とそのときの詰み手数を取得する" alt="" coords="240,925,427,966"/>
<area shape="rect" href="classkomori_1_1_node.html#a4340f73789f45570ffe593fc9d0aafa9" title="現在 OR node かどうか" alt="" coords="1251,711,1428,737"/>
<area shape="rect" href="classkomori_1_1detail_1_1_mate_len_impl.html#ab53b046400e9408fdc8c744f56e09e27" title="詰み手数を返す" alt="" coords="1221,1681,1457,1708"/>
<area shape="rect" href="classkomori_1_1_komoring_heights.html#acbf57b8309f9e93aebbc425d14358db7" title="OR node n における len 手以下詰めの最善手とそのときの詰み手数を取得する" alt="" coords="240,762,427,803"/>
<area shape="rect" href="namespacekomori.html#a13b1a743c345f921833c153fd537a50d" title="局面 n から moves で手を一気に戻す。n に対し、moves の後ろから順に n.UndoMove(m) を適用する。" alt="" coords="267,440,399,467"/>
<area shape="rect" href="namespacekomori.html#ace83f8e2ffff818bd25b6def2e075904" title="move 後の手駒が after_hand のとき、移動前の持ち駒を返す" alt="" coords="729,236,881,263"/>
<area shape="rect" href="classkomori_1_1_node.html#a485678f91b4653d87fcf5ee6071351de" title="このクラスが保持する Position への参照" alt="" coords="1748,377,1888,404"/>
<area shape="rect" href="classkomori_1_1_node.html#aad7fe2734b150a1d9645ea72e2fdda83" title="DoMove() で進めた局面を元に戻す" alt="" coords="712,287,899,313"/>
<area shape="rect" href="classkomori_1_1_fixed_size_stack.html#a5f9f4c0e10424bb96f652c18cfc6afc7" title="スタックの末尾（最も後に保存した要素）" alt="" coords="975,311,1147,353"/>
<area shape="rect" href="classkomori_1_1_node.html#afc3ff609d7a14aae03aab36317148f63" title="現在の盤面ハッシュ値" alt="" coords="972,195,1151,221"/>
<area shape="rect" href="classkomori_1_1_node.html#a2c10b9d22f4966f51b47495088f4fd4b" title="現在の攻め方の持ち駒" alt="" coords="978,559,1145,585"/>
<area shape="rect" href="classkomori_1_1_node.html#a6dfeb2e63ce33d5b9043010cbb8428c3" title="move 後の経路ハッシュ値" alt="" coords="1239,504,1439,531"/>
<area shape="rect" href="classkomori_1_1_fixed_size_stack.html#a122fd54c4b21ad3d1ce129cf1b2d6f3f" title="val をスタックに追加する" alt="" coords="975,377,1147,418"/>
<area shape="rect" href="classkomori_1_1_visit_history.html#a3ba89e53fbe90e03b07b2c68eea98334" title="(board_key, hand) を履歴に登録する" alt="" coords="986,442,1137,483"/>
<area shape="rect" href="namespacekomori.html#ae0ab7ef1101897b620e05208fc8975ee" title="現在の path_key と手 move から1手後の path_key を計算する。" alt="" coords="1523,388,1682,415"/>
<area shape="rect" href="classkomori_1_1_visit_history.html#a62769876f5547de5b474300c666cea8a" title="index の次のインデックスを求める" alt="" coords="1264,373,1415,414"/>
<area shape="rect" href="classkomori_1_1_visit_history.html#ab3ed82ca4c526f4f34c90c9277ba7d5b" title="board_key に対する探索開始インデックスを求める" alt="" coords="1264,275,1415,317"/>
<area shape="rect" href="classkomori_1_1_visit_history.html#a3af0755f672c9b15c72253aebc682aa5" title="(board_key, hand) を履歴から消す" alt="" coords="986,246,1137,287"/>
<area shape="rect" href="classkomori_1_1_node.html#a7f1c13d7f57b6af7f34ac77240342d71" title="move 直前の経路ハッシュ値" alt="" coords="955,144,1167,171"/>
<area shape="rect" href="classkomori_1_1_fixed_size_stack.html#a30a23ee0ab5980d4fad72185cafed9d0" title="スタックから要素を1つ削除する" alt="" coords="959,93,1163,120"/>
<area shape="rect" href="namespacekomori.html#af65c288516ec71f448f2947aac9e755b" title="1手後の path_key と手 move から現在の path_key を計算する。" alt="" coords="1254,160,1425,187"/>
<area shape="rect" href="classkomori_1_1_bit_set.html#a44f83fc0843130cea8ea99086d586a15" title="フラグをすべて true にした BitSet を返す。" alt="" coords="493,762,643,803"/>
<area shape="rect" href="classkomori_1_1_node.html#a19fbde5adf6e542e61f6c620df5b4d16" title="現在の探索深さ" alt="" coords="1250,1325,1429,1352"/>
<area shape="rect" href="classkomori_1_1_komoring_heights.html#ae18eeb5dea2a27dbfa7ed60939556170" title="詰め探索の本体。（再帰関数）" alt="" coords="475,1023,661,1065"/>
<area shape="rect" href="classkomori_1_1_node.html#acd0ed0838fa087e459aadae9cf563b0c" title="現在の手番" alt="" coords="1535,685,1670,712"/>
<area shape="rect" href="classkomori_1_1tt_1_1detail_1_1_transposition_table_impl.html#a03fe64f10c6759a3d546410a9a5dd97c" title="ガベージコレクションを実行する" alt="" coords="716,812,895,868"/>
<area shape="rect" href="classkomori_1_1_search_result.html#af8b976b730b126e74a8c062f275444e9" title="dn" alt="" coords="1246,1580,1433,1607"/>
<area shape="rect" href="classkomori_1_1tt_1_1detail_1_1_transposition_table_impl.html#a4179ad57f2d4a73ece89f9c380a7751a" title="置換表使用率（千分率）を計算する" alt="" coords="1250,1180,1429,1236"/>
<area shape="rect" href="classkomori_1_1_search_result.html#a0d81252fa8281a46c86b05b609434429" title="千日手の探索結果で初期化する" alt="" coords="725,958,885,999"/>
<area shape="rect" href="classkomori_1_1_search_result.html#a87047b35fcd4a5b7be3b7ee76d8b740c" title="pn" alt="" coords="1247,1504,1431,1531"/>
<area shape="rect" href="classkomori_1_1_komoring_heights.html#a0b299d81408b0a5d664379564c145fbc" title="探索情報を出力する" alt="" coords="712,893,899,934"/>
<area shape="rect" href="classkomori_1_1_search_monitor.html#a7358be665cb6c316b9f3a546460b42f7" title="次回の置換表使用率チェックタイミングを更新する" alt="" coords="709,1023,901,1065"/>
<area shape="rect" href="classkomori_1_1_search_monitor.html#a3c46f5106bac15dd00fe455f32eb4037" title="今すぐ置換表使用率をチェックすべきなら true" alt="" coords="721,1089,890,1130"/>
<area shape="rect" href="classkomori_1_1_search_monitor.html#ae4757752658cf49aaf451f062766441c" title="今すぐ評価値を出力すべきかどうか。定期的に呼び出す必要がある。" alt="" coords="721,1154,890,1195"/>
<area shape="rect" href="classkomori_1_1_search_monitor.html#a69bf484d9bdcf77f15e33acef0b2b4cc" title="今すぐ探索をやめるべきなら true" alt="" coords="721,1219,890,1261"/>
<area shape="rect" href="classkomori_1_1_search_monitor.html#a0d7f5b2f59638e754faa4e7c4a6d1cb4" title="深さ depth の局面に訪れたことを報告する" alt="" coords="721,1387,890,1429"/>
<area shape="rect" href="classkomori_1_1tt_1_1_regular_table.html#abc27e107c2b787df207bc94082d05e3e" title="通常テーブルの中で、メモリ使用率が高いエントリを間引く" alt="" coords="973,813,1150,854"/>
<area shape="rect" href="classkomori_1_1tt_1_1_regular_table.html#a9d2dd0f37b92f3af3f34b3b412a5c8a8" title="通常テーブルのメモリ使用率を見積もる。" alt="" coords="1514,1221,1691,1262"/>
<area shape="rect" href="classkomori_1_1tt_1_1_repetition_table.html#a164c681a2c3ac0b306e8807d2d6014cd" title="置換表のメモリ使用率を求める。" alt="" coords="1505,1155,1700,1197"/>
<area shape="rect" href="classkomori_1_1_pv_list.html#a85a551e599bdb9159a720d24ecba85a7" title="開始局面における PV を返す" alt="" coords="964,1031,1159,1057"/>
<area shape="rect" href="classkomori_1_1_komoring_heights.html#a1716f99cbc6053f69973929c21bdd83f" title="現在の探索情報を取得する" alt="" coords="968,1133,1155,1174"/>
<area shape="rect" href="classkomori_1_1_pv_list.html#ab154752ca42ecfacef247d2b3c241ce8" title="各手の探索結果とPVをまとめた配列を返す。" alt="" coords="969,1081,1153,1108"/>
<area shape="rect" href="classkomori_1_1_node.html#ad8aec0a7fdeb5376090cd1e5c3a833a2" title="開始局面が OR Node かどうか" alt="" coords="958,879,1165,905"/>
<area shape="rect" href="classkomori_1_1_score.html#abde38682068f6f88a2a014aec7efb8bf" title="Score オブジェクトを構築する。" alt="" coords="984,1555,1139,1581"/>
<area shape="rect" href="classkomori_1_1_node.html#aa6cdedb1efb346e60168dadfb24aa980" title="開始局面からの指し手" alt="" coords="949,929,1173,956"/>
<area shape="rect" href="namespacekomori.html#acd8be37a9f85d1912131fe1379f30e70" title="Iterable の先頭 kTake 要素だけを取ってくる" alt="" coords="1009,980,1113,1007"/>
<area shape="rect" href="namespacekomori.html#ac8e4cfe49668438b31f8af11d1043bbe" title="pn/dn 値を文字列に変換する" alt="" coords="998,1199,1125,1225"/>
</map>
</div>

</div>
</div>
<a id="acb62352c430c76c78131a0f01cc24525"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acb62352c430c76c78131a0f01cc24525">&#9670;&nbsp;</a></span>Init()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void komori::KomoringHeights::Init </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structkomori_1_1_engine_option.html">EngineOption</a> &amp;&#160;</td>
          <td class="paramname"><em>option</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::uint32_t&#160;</td>
          <td class="paramname"><em>num_threads</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>エンジンを初期化する </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">option</td><td>探索オプション </td></tr>
    <tr><td class="paramname">num_threads</td><td>スレッド数 </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="komoring__heights_8cpp_source.html#l00121">121</a> of file <a class="el" href="komoring__heights_8cpp_source.html">komoring_heights.cpp</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classkomori_1_1_komoring_heights_acb62352c430c76c78131a0f01cc24525_cgraph.png" border="0" usemap="#aclasskomori_1_1_komoring_heights_acb62352c430c76c78131a0f01cc24525_cgraph" alt=""/></div>
<map name="aclasskomori_1_1_komoring_heights_acb62352c430c76c78131a0f01cc24525_cgraph" id="aclasskomori_1_1_komoring_heights_acb62352c430c76c78131a0f01cc24525_cgraph">
<area shape="rect" title="エンジンを初期化する" alt="" coords="5,108,192,149"/>
<area shape="rect" href="classkomori_1_1tt_1_1detail_1_1_transposition_table_impl.html#a38165a8d6b382f5b9454f51c717c90cd" title="バイナリ入力ストリーム in から置換表エントリを読み込む。" alt="" coords="240,71,459,112"/>
<area shape="rect" href="classkomori_1_1tt_1_1detail_1_1_transposition_table_impl.html#a315463f0ac29c325849d661a15cdc167" title="置換表サイズを hash_size_mb に変更し、書かれていた内容をすべて消去する。" alt="" coords="260,137,439,193"/>
<area shape="rect" href="classkomori_1_1tt_1_1_regular_table.html#a58fb5620ad6be47be76f6b33626ba643" title="バイナリ入力ストリーム in から置換表エントリを読み込む。" alt="" coords="515,71,693,112"/>
<area shape="rect" href="classkomori_1_1tt_1_1_entry.html#a1d3881f8878d1682512df5cec19df4c9" title="盤面ハッシュ値（コンパクション用）" alt="" coords="779,5,914,47"/>
<area shape="rect" href="classkomori_1_1tt_1_1_regular_table.html#aa6ac86c8e1152cbe7a18e8d81a55fcef" title="board_key に対応する循環領域へのポインタを取得する" alt="" coords="758,71,935,112"/>
<area shape="rect" href="classkomori_1_1tt_1_1_repetition_table.html#a3d0ab73a60dfafe31459ccf8423ca3d7" title="置換表サイズを table_size へ変更する。" alt="" coords="507,136,701,177"/>
<area shape="rect" href="classkomori_1_1tt_1_1_regular_table.html#a25ac332dc05bf44ac45e1e3aecd0a0c7" title="要素数が num_entries 個になるようにメモリの確保・解放を行う" alt="" coords="515,201,693,243"/>
<area shape="rect" href="classkomori_1_1tt_1_1_repetition_table.html#a1cf06ccf4ee8c44a6f965ec43f21185a" title="置換表に保存された経路ハッシュ値をすべて削除する。" alt="" coords="749,136,944,177"/>
<area shape="rect" href="classkomori_1_1tt_1_1_regular_table.html#a0fb34e7a1f84b14f29e014f9bb8b41f6" title="以前の探索結果をすべて消去する。" alt="" coords="758,201,935,243"/>
</map>
</div>

</div>
</div>
<a id="a1f773bcd39c7d521fe68bb7546eb9c19"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1f773bcd39c7d521fe68bb7546eb9c19">&#9670;&nbsp;</a></span>NewSearch()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void komori::KomoringHeights::NewSearch </td>
          <td>(</td>
          <td class="paramtype">const Position &amp;&#160;</td>
          <td class="paramname"><em>n</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>is_root_or_node</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p><a class="el" href="classkomori_1_1_komoring_heights.html#a46ca7753e4ed402263f06e9bab0dd832" title="詰め探索を行う。（探索本体）">Search()</a> の準備を行う。探索開始直前に main_thread から呼び出すこと。 </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">n</td><td>現局面 </td></tr>
    <tr><td class="paramname">is_root_or_node</td><td><code>n</code> が OR node かどうか </td></tr>
  </table>
  </dd>
</dl>
<dl class="section pre"><dt>Precondition</dt><dd>メインスレッドから呼び出すこと </dd></dl>

<p class="definition">Definition at line <a class="el" href="komoring__heights_8cpp_source.html#l00143">143</a> of file <a class="el" href="komoring__heights_8cpp_source.html">komoring_heights.cpp</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classkomori_1_1_komoring_heights_a1f773bcd39c7d521fe68bb7546eb9c19_cgraph.png" border="0" usemap="#aclasskomori_1_1_komoring_heights_a1f773bcd39c7d521fe68bb7546eb9c19_cgraph" alt=""/></div>
<map name="aclasskomori_1_1_komoring_heights_a1f773bcd39c7d521fe68bb7546eb9c19_cgraph" id="aclasskomori_1_1_komoring_heights_a1f773bcd39c7d521fe68bb7546eb9c19_cgraph">
<area shape="rect" title="Search() の準備を行う。探索開始直前に main_thread から呼び出すこと。" alt="" coords="5,229,192,270"/>
<area shape="rect" href="classkomori_1_1tt_1_1detail_1_1_transposition_table_impl.html#a153f8d7584e9c0cb08d8d3f6cf011cb3" title="置換表に保存可能な要素数の概算値を取得する。" alt="" coords="248,5,427,61"/>
<area shape="rect" href="classkomori_1_1tt_1_1detail_1_1_transposition_table_impl.html#a03fe64f10c6759a3d546410a9a5dd97c" title="ガベージコレクションを実行する" alt="" coords="248,91,427,147"/>
<area shape="rect" href="classkomori_1_1tt_1_1detail_1_1_transposition_table_impl.html#a4179ad57f2d4a73ece89f9c380a7751a" title="置換表使用率（千分率）を計算する" alt="" coords="248,181,427,237"/>
<area shape="rect" href="classkomori_1_1tt_1_1detail_1_1_transposition_table_impl.html#a60ba9bb9c00c85a2475c98b256ab1051" title="新しい探索を始める" alt="" coords="248,261,427,317"/>
<area shape="rect" href="classkomori_1_1_pv_list.html#aad8ba37f7c4fdab1bc6794d7bca526c1" title="新しい探索を始める" alt="" coords="240,385,435,412"/>
<area shape="rect" href="classkomori_1_1_search_monitor.html#a6ba8d47cd7287004b42ea6019bf59818" title="変数を初期化して探索を開始する。" alt="" coords="253,619,422,661"/>
<area shape="rect" href="classkomori_1_1tt_1_1_regular_table.html#a95d62200a1d7e2346e4b2678eeec31e7" title="通常テーブルに保存可能な要素数。" alt="" coords="491,7,669,49"/>
<area shape="rect" href="classkomori_1_1tt_1_1_regular_table.html#abc27e107c2b787df207bc94082d05e3e" title="通常テーブルの中で、メモリ使用率が高いエントリを間引く" alt="" coords="491,73,669,114"/>
<area shape="rect" href="classkomori_1_1tt_1_1_regular_table.html#afa4c0e9340b321a94d0f21f42fd0ecbb" title="エントリをできるだけ手前の方に移動させる（コンパクション）" alt="" coords="738,73,915,114"/>
<area shape="rect" href="classkomori_1_1tt_1_1_regular_table.html#aa6ac86c8e1152cbe7a18e8d81a55fcef" title="board_key に対応する循環領域へのポインタを取得する" alt="" coords="976,73,1153,114"/>
<area shape="rect" href="classkomori_1_1tt_1_1_regular_table.html#a9d2dd0f37b92f3af3f34b3b412a5c8a8" title="通常テーブルのメモリ使用率を見積もる。" alt="" coords="491,138,669,179"/>
<area shape="rect" href="classkomori_1_1tt_1_1_repetition_table.html#a164c681a2c3ac0b306e8807d2d6014cd" title="置換表のメモリ使用率を求める。" alt="" coords="483,203,677,245"/>
<area shape="rect" href="classkomori_1_1tt_1_1_repetition_table.html#a1cf06ccf4ee8c44a6f965ec43f21185a" title="置換表に保存された経路ハッシュ値をすべて削除する。" alt="" coords="483,269,677,310"/>
<area shape="rect" href="classkomori_1_1_pv_list.html#a9b1b8e9fe2080faea1ac90af6a883a73" title="探索情報を削除する" alt="" coords="502,335,658,361"/>
<area shape="rect" href="classkomori_1_1_node.html#a4340f73789f45570ffe593fc9d0aafa9" title="現在 OR node かどうか" alt="" coords="491,385,669,412"/>
<area shape="rect" href="classkomori_1_1_search_result.html#a11407d50b68b88ce01feff0227ccdf65" title="Unknown（1回目）の探索結果で初期化する" alt="" coords="500,437,660,478"/>
<area shape="rect" href="namespacekomori.html#a592455f5972570f64271d49fa7ffe9ff" title="添字つきのrange&#45;based for 文用オブジェクトを生成する。" alt="" coords="509,503,651,529"/>
<area shape="rect" href="classkomori_1_1_node.html#acd0ed0838fa087e459aadae9cf563b0c" title="現在の手番" alt="" coords="759,385,894,412"/>
<area shape="rect" href="classkomori_1_1_node.html#a485678f91b4653d87fcf5ee6071351de" title="このクラスが保持する Position への参照" alt="" coords="995,385,1135,412"/>
<area shape="rect" href="classkomori_1_1_bit_set.html#a44f83fc0843130cea8ea99086d586a15" title="フラグをすべて true にした BitSet を返す。" alt="" coords="752,437,901,478"/>
<area shape="rect" href="classkomori_1_1_circular_array.html#aa62e891f09071eefff29a06498526414" title="全要素をデフォルトコンストラクタで初期化する。" alt="" coords="500,554,660,595"/>
<area shape="rect" href="namespacekomori_1_1detail.html#abe71454b986eab9bbd9936ebfb3d4c22" title="HashfullCheck の周期を計算する" alt="" coords="493,619,667,661"/>
<area shape="rect" href="classkomori_1_1_search_monitor.html#a7358be665cb6c316b9f3a546460b42f7" title="次回の置換表使用率チェックタイミングを更新する" alt="" coords="484,685,676,726"/>
<area shape="rect" href="classkomori_1_1_periodic_alarm.html#a00712a5675d75fd64c14a73a13a82538" title="周期タイマーを開始する" alt="" coords="497,750,663,791"/>
<area shape="rect" href="classkomori_1_1_search_monitor.html#a52109fe1ac3359f99fc605e4b020ddfc" title="現在の探索局面数" alt="" coords="742,685,911,726"/>
<area shape="rect" href="classkomori_1_1_periodic_alarm.html#a021fd50396141ea07f6fd8341c1e7693" title="Time Point をミリ秒で取得する" alt="" coords="725,757,928,784"/>
</map>
</div>

</div>
</div>
<a id="a0b299d81408b0a5d664379564c145fbc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0b299d81408b0a5d664379564c145fbc">&#9670;&nbsp;</a></span>Print()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void komori::KomoringHeights::Print </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classkomori_1_1_node.html">Node</a> &amp;&#160;</td>
          <td class="paramname"><em>n</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>探索情報を出力する </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">n</td><td>現局面 </td></tr>
  </table>
  </dd>
</dl>
<dl class="section pre"><dt>Precondition</dt><dd>メインスレッドから呼び出すこと </dd></dl>

<p class="definition">Definition at line <a class="el" href="komoring__heights_8cpp_source.html#l00582">582</a> of file <a class="el" href="komoring__heights_8cpp_source.html">komoring_heights.cpp</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classkomori_1_1_komoring_heights_a0b299d81408b0a5d664379564c145fbc_cgraph.png" border="0" usemap="#aclasskomori_1_1_komoring_heights_a0b299d81408b0a5d664379564c145fbc_cgraph" alt=""/></div>
<map name="aclasskomori_1_1_komoring_heights_a0b299d81408b0a5d664379564c145fbc_cgraph" id="aclasskomori_1_1_komoring_heights_a0b299d81408b0a5d664379564c145fbc_cgraph">
<area shape="rect" title="探索情報を出力する" alt="" coords="5,373,192,414"/>
<area shape="rect" href="classkomori_1_1_pv_list.html#a85a551e599bdb9159a720d24ecba85a7" title="開始局面における PV を返す" alt="" coords="255,24,449,51"/>
<area shape="rect" href="classkomori_1_1_komoring_heights.html#a1716f99cbc6053f69973929c21bdd83f" title="現在の探索情報を取得する" alt="" coords="259,179,445,221"/>
<area shape="rect" href="classkomori_1_1_node.html#a19fbde5adf6e542e61f6c620df5b4d16" title="現在の探索深さ" alt="" coords="541,304,719,331"/>
<area shape="rect" href="classkomori_1_1_pv_list.html#ab154752ca42ecfacef247d2b3c241ce8" title="各手の探索結果とPVをまとめた配列を返す。" alt="" coords="260,92,444,119"/>
<area shape="rect" href="classkomori_1_1_node.html#ad8aec0a7fdeb5376090cd1e5c3a833a2" title="開始局面が OR Node かどうか" alt="" coords="249,355,455,381"/>
<area shape="rect" href="classkomori_1_1_score.html#abde38682068f6f88a2a014aec7efb8bf" title="Score オブジェクトを構築する。" alt="" coords="275,464,429,491"/>
<area shape="rect" href="classkomori_1_1_node.html#aa6cdedb1efb346e60168dadfb24aa980" title="開始局面からの指し手" alt="" coords="240,515,464,541"/>
<area shape="rect" href="namespacekomori.html#acd8be37a9f85d1912131fe1379f30e70" title="Iterable の先頭 kTake 要素だけを取ってくる" alt="" coords="300,565,404,592"/>
<area shape="rect" href="namespacekomori.html#ac8e4cfe49668438b31f8af11d1043bbe" title="pn/dn 値を文字列に変換する" alt="" coords="289,616,415,643"/>
<area shape="rect" href="classkomori_1_1_pv_list.html#a289167d3bc2e10c3e726dc4e35d63843" title="手 move に対する探索結果を更新する" alt="" coords="267,409,437,436"/>
<area shape="rect" href="classkomori_1_1_pv_list.html#a83cae4bad864ff71f444890950854efa" title="idx_ を comparer_ に従って評価値がいい順に並べ替える" alt="" coords="527,5,733,32"/>
<area shape="rect" href="classkomori_1_1_search_monitor.html#a8bd76ec3242a3b0cc6af65285b0f30b9" title="現在の探索情報を UsiInfo に詰めて返す。" alt="" coords="545,238,715,279"/>
<area shape="rect" href="classkomori_1_1_usi_info.html#abc0d87a921059d9c1a503e390eb2f0e3" title="key に val を設定する。" alt="" coords="818,161,969,188"/>
<area shape="rect" href="classkomori_1_1tt_1_1detail_1_1_transposition_table_impl.html#a4179ad57f2d4a73ece89f9c380a7751a" title="置換表使用率（千分率）を計算する" alt="" coords="541,56,719,112"/>
<area shape="rect" href="classkomori_1_1_score.html#a8d4d0c6ccf9d41846b8ebe16be1f7faa" title="現在の評価値を USI 文字列で返す" alt="" coords="545,187,715,213"/>
<area shape="rect" href="classkomori_1_1_search_monitor.html#a52109fe1ac3359f99fc605e4b020ddfc" title="現在の探索局面数" alt="" coords="809,238,978,279"/>
<area shape="rect" href="classkomori_1_1tt_1_1_regular_table.html#a9d2dd0f37b92f3af3f34b3b412a5c8a8" title="通常テーブルのメモリ使用率を見積もる。" alt="" coords="805,79,982,121"/>
<area shape="rect" href="classkomori_1_1tt_1_1_repetition_table.html#a164c681a2c3ac0b306e8807d2d6014cd" title="置換表のメモリ使用率を求める。" alt="" coords="796,14,991,55"/>
<area shape="rect" href="classkomori_1_1_node.html#a4340f73789f45570ffe593fc9d0aafa9" title="現在 OR node かどうか" alt="" coords="541,355,719,381"/>
<area shape="rect" href="classkomori_1_1_node.html#acd0ed0838fa087e459aadae9cf563b0c" title="現在の手番" alt="" coords="826,355,961,381"/>
<area shape="rect" href="classkomori_1_1_node.html#a485678f91b4653d87fcf5ee6071351de" title="このクラスが保持する Position への参照" alt="" coords="1039,355,1179,381"/>
<area shape="rect" href="classkomori_1_1_score.html#a992a9272df730122ff52335e7ef339d1" title="デフォルトコンストラクタ" alt="" coords="553,675,707,701"/>
<area shape="rect" href="classkomori_1_1_search_result.html#af8b976b730b126e74a8c062f275444e9" title="dn" alt="" coords="800,544,987,571"/>
<area shape="rect" href="classkomori_1_1_search_result.html#ae03260ca26fcff04cc38cd1fc6bd27c0" title="詰み／不詰の結論が出ているか" alt="" coords="550,406,710,447"/>
<area shape="rect" href="classkomori_1_1_search_result.html#a87047b35fcd4a5b7be3b7ee76d8b740c" title="pn" alt="" coords="801,443,985,469"/>
<area shape="rect" href="classkomori_1_1_search_result.html#af353f0cfab41b586a7c994d2507ca699" title="探索時の残り手数" alt="" coords="535,573,725,600"/>
<area shape="rect" href="classkomori_1_1detail_1_1_mate_len_impl.html#ab53b046400e9408fdc8c744f56e09e27" title="詰み手数を返す" alt="" coords="512,523,748,549"/>
</map>
</div>

</div>
</div>
<a id="a46ca7753e4ed402263f06e9bab0dd832"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a46ca7753e4ed402263f06e9bab0dd832">&#9670;&nbsp;</a></span>Search()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespacekomori.html#ada1a4eeb6080f15a12a946bf93ff7488">NodeState</a> komori::KomoringHeights::Search </td>
          <td>(</td>
          <td class="paramtype">const Position &amp;&#160;</td>
          <td class="paramname"><em>n</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>is_root_or_node</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>詰め探索を行う。（探索本体） </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">n</td><td>現局面 </td></tr>
    <tr><td class="paramname">is_root_or_node</td><td><code>n</code> が OR node かどうか </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>探索結果 </dd></dl>

<p class="definition">Definition at line <a class="el" href="komoring__heights_8cpp_source.html#l00158">158</a> of file <a class="el" href="komoring__heights_8cpp_source.html">komoring_heights.cpp</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classkomori_1_1_komoring_heights_a46ca7753e4ed402263f06e9bab0dd832_cgraph.png" border="0" usemap="#aclasskomori_1_1_komoring_heights_a46ca7753e4ed402263f06e9bab0dd832_cgraph" alt=""/></div>
<map name="aclasskomori_1_1_komoring_heights_a46ca7753e4ed402263f06e9bab0dd832_cgraph" id="aclasskomori_1_1_komoring_heights_a46ca7753e4ed402263f06e9bab0dd832_cgraph">
<area shape="rect" title="詰め探索を行う。（探索本体）" alt="" coords="5,356,192,397"/>
<area shape="rect" href="classkomori_1_1tt_1_1detail_1_1_transposition_table_impl.html#a1e58a8adc4d1f758e77aa32caa4b34ba" title="置換表の中身をバイナリ出力ストリーム os へ出力する" alt="" coords="240,187,459,228"/>
<area shape="rect" href="classkomori_1_1_komoring_heights.html#adfb4b9e964208439548db90325b90c80" title="詰み手順を探す" alt="" coords="256,388,443,429"/>
<area shape="rect" href="classkomori_1_1tt_1_1_regular_table.html#ad675f3ae1432dd82b49b1a39b7286766" title="置換表の中身をバイナリ出力ストリーム os へ出力する" alt="" coords="511,51,689,92"/>
<area shape="rect" href="classkomori_1_1_pv_list.html#a85a551e599bdb9159a720d24ecba85a7" title="開始局面における PV を返す" alt="" coords="2164,370,2359,397"/>
<area shape="rect" href="classkomori_1_1_komoring_heights.html#a1716f99cbc6053f69973929c21bdd83f" title="現在の探索情報を取得する" alt="" coords="2168,85,2355,127"/>
<area shape="rect" href="classkomori_1_1_komoring_heights.html#a3366c841ead237070560d6eafe9d9721" title="現時点の探索結果から詰め手順を取得する" alt="" coords="1211,1789,1397,1831"/>
<area shape="rect" href="classkomori_1_1_node.html#a2c10b9d22f4966f51b47495088f4fd4b" title="現在の攻め方の持ち駒" alt="" coords="2178,1535,2345,1562"/>
<area shape="rect" href="classkomori_1_1_komoring_heights.html#a0b299d81408b0a5d664379564c145fbc" title="探索情報を出力する" alt="" coords="1915,456,2101,497"/>
<area shape="rect" href="classkomori_1_1_node.html#ad8aec0a7fdeb5376090cd1e5c3a833a2" title="開始局面が OR Node かどうか" alt="" coords="2158,1713,2365,1739"/>
<area shape="rect" href="classkomori_1_1_score.html#abde38682068f6f88a2a014aec7efb8bf" title="Score オブジェクトを構築する。" alt="" coords="2184,623,2339,650"/>
<area shape="rect" href="classkomori_1_1_pv_list.html#a289167d3bc2e10c3e726dc4e35d63843" title="手 move に対する探索結果を更新する" alt="" coords="2177,725,2346,751"/>
<area shape="rect" href="classkomori_1_1_search_monitor.html#a69bf484d9bdcf77f15e33acef0b2b4cc" title="今すぐ探索をやめるべきなら true" alt="" coords="1923,269,2093,311"/>
<area shape="rect" href="namespacekomori.html#ab4c8398dda0325cc3ecd032c30a01425" title="整数 i に対し、序数（Ordinal Number）の文字列を返す" alt="" coords="513,167,687,194"/>
<area shape="rect" href="classkomori_1_1_komoring_heights.html#a1d0e3beed5538993268bab3b4b4271f9" title="n が len 手以下で詰むかを探索する" alt="" coords="507,1035,693,1076"/>
<area shape="rect" href="classkomori_1_1_pv_list.html#a83cae4bad864ff71f444890950854efa" title="idx_ を comparer_ に従って評価値がいい順に並べ替える" alt="" coords="2436,421,2643,447"/>
<area shape="rect" href="classkomori_1_1_search_monitor.html#a8bd76ec3242a3b0cc6af65285b0f30b9" title="現在の探索情報を UsiInfo に詰めて返す。" alt="" coords="2455,85,2624,127"/>
<area shape="rect" href="classkomori_1_1_usi_info.html#abc0d87a921059d9c1a503e390eb2f0e3" title="key に val を設定する。" alt="" coords="2727,15,2878,42"/>
<area shape="rect" href="classkomori_1_1tt_1_1detail_1_1_transposition_table_impl.html#a4179ad57f2d4a73ece89f9c380a7751a" title="置換表使用率（千分率）を計算する" alt="" coords="2450,221,2629,277"/>
<area shape="rect" href="classkomori_1_1_score.html#a8d4d0c6ccf9d41846b8ebe16be1f7faa" title="現在の評価値を USI 文字列で返す" alt="" coords="2454,34,2625,61"/>
<area shape="rect" href="classkomori_1_1_search_monitor.html#a52109fe1ac3359f99fc605e4b020ddfc" title="現在の探索局面数" alt="" coords="2718,121,2887,163"/>
<area shape="rect" href="classkomori_1_1tt_1_1_regular_table.html#a9d2dd0f37b92f3af3f34b3b412a5c8a8" title="通常テーブルのメモリ使用率を見積もる。" alt="" coords="2714,252,2891,293"/>
<area shape="rect" href="classkomori_1_1tt_1_1_repetition_table.html#a164c681a2c3ac0b306e8807d2d6014cd" title="置換表のメモリ使用率を求める。" alt="" coords="2705,187,2900,228"/>
<area shape="rect" href="namespacekomori.html#af60b97ffafc4e100347e046e86ef02ac" title="(OR node限定) n が 1 手詰かどうか判定する。" alt="" coords="1685,1687,1861,1714"/>
<area shape="rect" href="classkomori_1_1_node.html#a082d5d0045420c8978206fda2b518e17" title="move で1手進める" alt="" coords="1923,1535,2093,1562"/>
<area shape="rect" href="classkomori_1_1_komoring_heights.html#a93894be39fd9d3d97ad767042d49afe3" title="AND node n における len 手以下詰めの最善手とそのときの詰み手数を取得する" alt="" coords="1445,1789,1632,1831"/>
<area shape="rect" href="classkomori_1_1_node.html#a4340f73789f45570ffe593fc9d0aafa9" title="現在 OR node かどうか" alt="" coords="2451,2058,2628,2085"/>
<area shape="rect" href="classkomori_1_1detail_1_1_mate_len_impl.html#ab53b046400e9408fdc8c744f56e09e27" title="詰み手数を返す" alt="" coords="2421,1839,2657,1866"/>
<area shape="rect" href="classkomori_1_1_komoring_heights.html#acbf57b8309f9e93aebbc425d14358db7" title="OR node n における len 手以下詰めの最善手とそのときの詰み手数を取得する" alt="" coords="1445,1957,1632,1999"/>
<area shape="rect" href="namespacekomori.html#a13b1a743c345f921833c153fd537a50d" title="局面 n から moves で手を一気に戻す。n に対し、moves の後ろから順に n.UndoMove(m) を適用する。" alt="" coords="1473,1333,1605,1359"/>
<area shape="rect" href="namespacekomori.html#ace83f8e2ffff818bd25b6def2e075904" title="move 後の手駒が after_hand のとき、移動前の持ち駒を返す" alt="" coords="1932,1687,2084,1714"/>
<area shape="rect" href="classkomori_1_1_node.html#a485678f91b4653d87fcf5ee6071351de" title="このクラスが保持する Position への参照" alt="" coords="2469,1535,2609,1562"/>
<area shape="rect" href="classkomori_1_1_node.html#aad7fe2734b150a1d9645ea72e2fdda83" title="DoMove() で進めた局面を元に戻す" alt="" coords="1915,1333,2101,1359"/>
<area shape="rect" href="classkomori_1_1_bit_set.html#a44f83fc0843130cea8ea99086d586a15" title="フラグをすべて true にした BitSet を返す。" alt="" coords="1699,1941,1848,1983"/>
<area shape="rect" href="classkomori_1_1_node.html#a19fbde5adf6e542e61f6c620df5b4d16" title="現在の探索深さ" alt="" coords="2450,1282,2629,1309"/>
<area shape="rect" href="classkomori_1_1_komoring_heights.html#ae18eeb5dea2a27dbfa7ed60939556170" title="詰め探索の本体。（再帰関数）" alt="" coords="1680,1115,1867,1156"/>
<area shape="rect" href="classkomori_1_1_search_result.html#af8b976b730b126e74a8c062f275444e9" title="dn" alt="" coords="2709,877,2896,903"/>
<area shape="rect" href="classkomori_1_1_search_result.html#a87047b35fcd4a5b7be3b7ee76d8b740c" title="pn" alt="" coords="2711,717,2895,743"/>
<area shape="rect" href="classkomori_1_1_pv_list.html#ab154752ca42ecfacef247d2b3c241ce8" title="各手の探索結果とPVをまとめた配列を返す。" alt="" coords="2169,471,2353,498"/>
<area shape="rect" href="classkomori_1_1_node.html#aa6cdedb1efb346e60168dadfb24aa980" title="開始局面からの指し手" alt="" coords="2149,522,2373,549"/>
<area shape="rect" href="namespacekomori.html#acd8be37a9f85d1912131fe1379f30e70" title="Iterable の先頭 kTake 要素だけを取ってくる" alt="" coords="2209,573,2313,599"/>
<area shape="rect" href="namespacekomori.html#ac8e4cfe49668438b31f8af11d1043bbe" title="pn/dn 値を文字列に変換する" alt="" coords="2198,421,2325,447"/>
<area shape="rect" href="classkomori_1_1_score.html#a992a9272df730122ff52335e7ef339d1" title="デフォルトコンストラクタ" alt="" coords="2462,607,2617,634"/>
<area shape="rect" href="classkomori_1_1_search_result.html#ae03260ca26fcff04cc38cd1fc6bd27c0" title="詰み／不詰の結論が出ているか" alt="" coords="2459,709,2619,751"/>
<area shape="rect" href="classkomori_1_1_search_result.html#af353f0cfab41b586a7c994d2507ca699" title="探索時の残り手数" alt="" coords="2444,775,2635,802"/>
<area shape="rect" href="classkomori_1_1_periodic_alarm.html#a6ed397d4b0c0ae64041789caae1197f7" title="現在時刻を確認し、前回の true を返してから interval_ms_ が経過していれば true を返す" alt="" coords="2178,203,2345,244"/>
<area shape="rect" href="classkomori_1_1tt_1_1detail_1_1_transposition_table_impl.html#a96c4e38870490176e0053914a17c908c" title="局面 n のエントリを読み書きするためのクエリを返す" alt="" coords="1919,1450,2097,1506"/>
<area shape="rect" href="classkomori_1_1_komoring_heights.html#a741b70fbddec68eaadddb2e8f347e0b9" title="詰め探索の本体。root node専用の SearchImpl()。" alt="" coords="741,819,928,860"/>
<area shape="rect" href="classkomori_1_1_komoring_heights.html#abc9afb32381a9ebfa45d6f2c8d947c83" title="move に対する PV を構成して pv_list_ を更新する" alt="" coords="976,1064,1163,1105"/>
<area shape="rect" href="classkomori_1_1tt_1_1_query.html#add5f4c6c79b8cf305918bd62683a0078" title="探索結果 result を置換表に書き込む" alt="" coords="765,1005,904,1047"/>
</map>
</div>

</div>
</div>
<a id="a1d0e3beed5538993268bab3b4b4271f9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1d0e3beed5538993268bab3b4b4271f9">&#9670;&nbsp;</a></span>SearchEntry()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classkomori_1_1_search_result.html">SearchResult</a> komori::KomoringHeights::SearchEntry </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classkomori_1_1_node.html">Node</a> &amp;&#160;</td>
          <td class="paramname"><em>n</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespacekomori.html#af2c3856a7c53116227693f8dcca64199">MateLen</a>&#160;</td>
          <td class="paramname"><em>len</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p><code>n</code> が <code>len</code> 手以下で詰むかを探索する </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">n</td><td>現局面 </td></tr>
    <tr><td class="paramname">len</td><td>詰み手数 </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>探索結果</dd></dl>
<p><code><a class="el" href="classkomori_1_1_komoring_heights.html#ae18eeb5dea2a27dbfa7ed60939556170" title="詰め探索の本体。（再帰関数）">SearchImpl()</a></code> による再帰探索のエントリポイント。しきい値をいい感じに変化させることで探索の途中経過を 標準出力に出しながら探索を進めることができる。 </p>

<p class="definition">Definition at line <a class="el" href="komoring__heights_8cpp_source.html#l00256">256</a> of file <a class="el" href="komoring__heights_8cpp_source.html">komoring_heights.cpp</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classkomori_1_1_komoring_heights_a1d0e3beed5538993268bab3b4b4271f9_cgraph.png" border="0" usemap="#aclasskomori_1_1_komoring_heights_a1d0e3beed5538993268bab3b4b4271f9_cgraph" alt=""/></div>
<map name="aclasskomori_1_1_komoring_heights_a1d0e3beed5538993268bab3b4b4271f9_cgraph" id="aclasskomori_1_1_komoring_heights_a1d0e3beed5538993268bab3b4b4271f9_cgraph">
<area shape="rect" title="n が len 手以下で詰むかを探索する" alt="" coords="5,619,192,660"/>
<area shape="rect" href="classkomori_1_1tt_1_1detail_1_1_transposition_table_impl.html#a96c4e38870490176e0053914a17c908c" title="局面 n のエントリを読み書きするためのクエリを返す" alt="" coords="972,606,1151,662"/>
<area shape="rect" href="classkomori_1_1_node.html#a19fbde5adf6e542e61f6c620df5b4d16" title="現在の探索深さ" alt="" coords="1232,786,1411,813"/>
<area shape="rect" href="classkomori_1_1_komoring_heights.html#a1716f99cbc6053f69973929c21bdd83f" title="現在の探索情報を取得する" alt="" coords="968,425,1155,467"/>
<area shape="rect" href="classkomori_1_1_bit_set.html#a44f83fc0843130cea8ea99086d586a15" title="フラグをすべて true にした BitSet を返す。" alt="" coords="259,560,408,601"/>
<area shape="rect" href="classkomori_1_1_komoring_heights.html#ae18eeb5dea2a27dbfa7ed60939556170" title="詰め探索の本体。（再帰関数）" alt="" coords="475,501,661,543"/>
<area shape="rect" href="classkomori_1_1_search_monitor.html#a69bf484d9bdcf77f15e33acef0b2b4cc" title="今すぐ探索をやめるべきなら true" alt="" coords="721,47,890,88"/>
<area shape="rect" href="classkomori_1_1_komoring_heights.html#a741b70fbddec68eaadddb2e8f347e0b9" title="詰め探索の本体。root node専用の SearchImpl()。" alt="" coords="240,821,427,863"/>
<area shape="rect" href="classkomori_1_1_komoring_heights.html#abc9afb32381a9ebfa45d6f2c8d947c83" title="move に対する PV を構成して pv_list_ を更新する" alt="" coords="475,1645,661,1687"/>
<area shape="rect" href="classkomori_1_1tt_1_1_query.html#add5f4c6c79b8cf305918bd62683a0078" title="探索結果 result を置換表に書き込む" alt="" coords="264,939,403,980"/>
<area shape="rect" href="classkomori_1_1_node.html#a4181d9d06d60b7f11701b8add6a2e69f" title="現在の経路ハッシュ値" alt="" coords="1225,681,1417,707"/>
<area shape="rect" href="classkomori_1_1_node.html#a2c10b9d22f4966f51b47495088f4fd4b" title="現在の攻め方の持ち駒" alt="" coords="1238,1529,1405,1555"/>
<area shape="rect" href="classkomori_1_1_node.html#a485678f91b4653d87fcf5ee6071351de" title="このクラスが保持する Position への参照" alt="" coords="1497,1579,1637,1606"/>
<area shape="rect" href="classkomori_1_1tt_1_1_regular_table.html#aa6ac86c8e1152cbe7a18e8d81a55fcef" title="board_key に対応する循環領域へのポインタを取得する" alt="" coords="1233,615,1410,656"/>
<area shape="rect" href="classkomori_1_1_search_monitor.html#a8bd76ec3242a3b0cc6af65285b0f30b9" title="現在の探索情報を UsiInfo に詰めて返す。" alt="" coords="1237,345,1406,387"/>
<area shape="rect" href="classkomori_1_1_usi_info.html#abc0d87a921059d9c1a503e390eb2f0e3" title="key に val を設定する。" alt="" coords="1491,433,1642,459"/>
<area shape="rect" href="classkomori_1_1tt_1_1detail_1_1_transposition_table_impl.html#a4179ad57f2d4a73ece89f9c380a7751a" title="置換表使用率（千分率）を計算する" alt="" coords="1232,265,1411,321"/>
<area shape="rect" href="classkomori_1_1_score.html#a8d4d0c6ccf9d41846b8ebe16be1f7faa" title="現在の評価値を USI 文字列で返す" alt="" coords="1236,411,1407,438"/>
<area shape="rect" href="classkomori_1_1_search_monitor.html#a52109fe1ac3359f99fc605e4b020ddfc" title="現在の探索局面数" alt="" coords="1482,156,1651,197"/>
<area shape="rect" href="classkomori_1_1tt_1_1_regular_table.html#a9d2dd0f37b92f3af3f34b3b412a5c8a8" title="通常テーブルのメモリ使用率を見積もる。" alt="" coords="1478,247,1655,288"/>
<area shape="rect" href="classkomori_1_1tt_1_1_repetition_table.html#a164c681a2c3ac0b306e8807d2d6014cd" title="置換表のメモリ使用率を求める。" alt="" coords="1469,312,1664,353"/>
<area shape="rect" href="classkomori_1_1tt_1_1detail_1_1_transposition_table_impl.html#a03fe64f10c6759a3d546410a9a5dd97c" title="ガベージコレクションを実行する" alt="" coords="716,426,895,482"/>
<area shape="rect" href="classkomori_1_1_search_result.html#af8b976b730b126e74a8c062f275444e9" title="dn" alt="" coords="1473,1075,1660,1102"/>
<area shape="rect" href="classkomori_1_1_node.html#a082d5d0045420c8978206fda2b518e17" title="move で1手進める" alt="" coords="976,1755,1147,1782"/>
<area shape="rect" href="classkomori_1_1_search_result.html#a0d81252fa8281a46c86b05b609434429" title="千日手の探索結果で初期化する" alt="" coords="725,557,885,599"/>
<area shape="rect" href="classkomori_1_1_search_result.html#a87047b35fcd4a5b7be3b7ee76d8b740c" title="pn" alt="" coords="1475,1294,1659,1321"/>
<area shape="rect" href="classkomori_1_1_komoring_heights.html#a0b299d81408b0a5d664379564c145fbc" title="探索情報を出力する" alt="" coords="712,904,899,945"/>
<area shape="rect" href="classkomori_1_1_search_monitor.html#a7358be665cb6c316b9f3a546460b42f7" title="次回の置換表使用率チェックタイミングを更新する" alt="" coords="709,243,901,284"/>
<area shape="rect" href="classkomori_1_1_search_monitor.html#a3c46f5106bac15dd00fe455f32eb4037" title="今すぐ置換表使用率をチェックすべきなら true" alt="" coords="721,177,890,219"/>
<area shape="rect" href="classkomori_1_1_search_monitor.html#ae4757752658cf49aaf451f062766441c" title="今すぐ評価値を出力すべきかどうか。定期的に呼び出す必要がある。" alt="" coords="721,112,890,153"/>
<area shape="rect" href="classkomori_1_1_node.html#aad7fe2734b150a1d9645ea72e2fdda83" title="DoMove() で進めた局面を元に戻す" alt="" coords="968,1598,1155,1625"/>
<area shape="rect" href="classkomori_1_1_search_monitor.html#a0d7f5b2f59638e754faa4e7c4a6d1cb4" title="深さ depth の局面に訪れたことを報告する" alt="" coords="721,360,890,401"/>
<area shape="rect" href="classkomori_1_1tt_1_1_regular_table.html#abc27e107c2b787df207bc94082d05e3e" title="通常テーブルの中で、メモリ使用率が高いエントリを間引く" alt="" coords="973,360,1150,401"/>
<area shape="rect" href="classkomori_1_1_fixed_size_stack.html#a5f9f4c0e10424bb96f652c18cfc6afc7" title="スタックの末尾（最も後に保存した要素）" alt="" coords="1235,1631,1407,1672"/>
<area shape="rect" href="classkomori_1_1_node.html#afc3ff609d7a14aae03aab36317148f63" title="現在の盤面ハッシュ値" alt="" coords="1232,1697,1411,1723"/>
<area shape="rect" href="classkomori_1_1_node.html#a6dfeb2e63ce33d5b9043010cbb8428c3" title="move 後の経路ハッシュ値" alt="" coords="1221,1814,1421,1841"/>
<area shape="rect" href="classkomori_1_1_fixed_size_stack.html#a122fd54c4b21ad3d1ce129cf1b2d6f3f" title="val をスタックに追加する" alt="" coords="1235,1865,1407,1907"/>
<area shape="rect" href="classkomori_1_1_visit_history.html#a3ba89e53fbe90e03b07b2c68eea98334" title="(board_key, hand) を履歴に登録する" alt="" coords="1246,1748,1397,1789"/>
<area shape="rect" href="classkomori_1_1_pv_list.html#a85a551e599bdb9159a720d24ecba85a7" title="開始局面における PV を返す" alt="" coords="964,939,1159,966"/>
<area shape="rect" href="classkomori_1_1_pv_list.html#ab154752ca42ecfacef247d2b3c241ce8" title="各手の探索結果とPVをまとめた配列を返す。" alt="" coords="969,990,1153,1017"/>
<area shape="rect" href="classkomori_1_1_node.html#ad8aec0a7fdeb5376090cd1e5c3a833a2" title="開始局面が OR Node かどうか" alt="" coords="958,1041,1165,1067"/>
<area shape="rect" href="classkomori_1_1_score.html#abde38682068f6f88a2a014aec7efb8bf" title="Score オブジェクトを構築する。" alt="" coords="984,1142,1139,1169"/>
<area shape="rect" href="classkomori_1_1_node.html#aa6cdedb1efb346e60168dadfb24aa980" title="開始局面からの指し手" alt="" coords="949,889,1173,915"/>
<area shape="rect" href="classkomori_1_1_pv_list.html#a289167d3bc2e10c3e726dc4e35d63843" title="手 move に対する探索結果を更新する" alt="" coords="977,1193,1146,1219"/>
<area shape="rect" href="classkomori_1_1_node.html#a4340f73789f45570ffe593fc9d0aafa9" title="現在 OR node かどうか" alt="" coords="1233,1982,1410,2009"/>
<area shape="rect" href="classkomori_1_1_search_result.html#ae03260ca26fcff04cc38cd1fc6bd27c0" title="詰み／不詰の結論が出ているか" alt="" coords="1241,1228,1401,1269"/>
<area shape="rect" href="classkomori_1_1_search_result.html#af353f0cfab41b586a7c994d2507ca699" title="探索時の残り手数" alt="" coords="1226,1361,1417,1387"/>
<area shape="rect" href="classkomori_1_1_periodic_alarm.html#a6ed397d4b0c0ae64041789caae1197f7" title="現在時刻を確認し、前回の true を返してから interval_ms_ が経過していれば true を返す" alt="" coords="978,47,1145,88"/>
<area shape="rect" href="classkomori_1_1_komoring_heights.html#a3366c841ead237070560d6eafe9d9721" title="現時点の探索結果から詰め手順を取得する" alt="" coords="712,1801,899,1843"/>
<area shape="rect" href="classkomori_1_1_pv_list.html#a83a4d84ad86fc845c42c8fbd016da0ab" title="手 move が証明済み（詰み）かどうかを返す" alt="" coords="716,1699,895,1726"/>
</map>
</div>

</div>
</div>
<a id="ae18eeb5dea2a27dbfa7ed60939556170"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae18eeb5dea2a27dbfa7ed60939556170">&#9670;&nbsp;</a></span>SearchImpl()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classkomori_1_1_search_result.html">SearchResult</a> komori::KomoringHeights::SearchImpl </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classkomori_1_1_node.html">Node</a> &amp;&#160;</td>
          <td class="paramname"><em>n</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespacekomori.html#ae2b179f7c8adb463807f13c9d73ec34a">PnDn</a>&#160;</td>
          <td class="paramname"><em>thpn</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespacekomori.html#ae2b179f7c8adb463807f13c9d73ec34a">PnDn</a>&#160;</td>
          <td class="paramname"><em>thdn</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespacekomori.html#af2c3856a7c53116227693f8dcca64199">MateLen</a>&#160;</td>
          <td class="paramname"><em>len</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::uint32_t &amp;&#160;</td>
          <td class="paramname"><em>inc_flag</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>詰め探索の本体。（再帰関数） </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">n</td><td>現局面 </td></tr>
    <tr><td class="paramname">thpn</td><td>pn のしきい値 </td></tr>
    <tr><td class="paramname">thdn</td><td>dn のしきい値 </td></tr>
    <tr><td class="paramname">len</td><td>残り手数 </td></tr>
    <tr><td class="paramname">inc_flag</td><td>TCA の探索延長フラグ </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>探索結果 </dd></dl>
<p><code>inc_flag</code> の値は探索前より小さくなっているはず</p>

<p class="definition">Definition at line <a class="el" href="komoring__heights_8cpp_source.html#l00364">364</a> of file <a class="el" href="komoring__heights_8cpp_source.html">komoring_heights.cpp</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classkomori_1_1_komoring_heights_ae18eeb5dea2a27dbfa7ed60939556170_cgraph.png" border="0" usemap="#aclasskomori_1_1_komoring_heights_ae18eeb5dea2a27dbfa7ed60939556170_cgraph" alt=""/></div>
<map name="aclasskomori_1_1_komoring_heights_ae18eeb5dea2a27dbfa7ed60939556170_cgraph" id="aclasskomori_1_1_komoring_heights_ae18eeb5dea2a27dbfa7ed60939556170_cgraph">
<area shape="rect" title="詰め探索の本体。（再帰関数）" alt="" coords="5,990,192,1031"/>
<area shape="rect" href="classkomori_1_1tt_1_1detail_1_1_transposition_table_impl.html#a03fe64f10c6759a3d546410a9a5dd97c" title="ガベージコレクションを実行する" alt="" coords="247,5,425,61"/>
<area shape="rect" href="classkomori_1_1_search_result.html#af8b976b730b126e74a8c062f275444e9" title="dn" alt="" coords="1011,169,1197,196"/>
<area shape="rect" href="classkomori_1_1_node.html#a082d5d0045420c8978206fda2b518e17" title="move で1手進める" alt="" coords="251,1337,421,1364"/>
<area shape="rect" href="classkomori_1_1_node.html#a2c10b9d22f4966f51b47495088f4fd4b" title="現在の攻め方の持ち駒" alt="" coords="509,1611,675,1637"/>
<area shape="rect" href="classkomori_1_1_node.html#a19fbde5adf6e542e61f6c620df5b4d16" title="現在の探索深さ" alt="" coords="766,772,945,799"/>
<area shape="rect" href="classkomori_1_1tt_1_1detail_1_1_transposition_table_impl.html#a4179ad57f2d4a73ece89f9c380a7751a" title="置換表使用率（千分率）を計算する" alt="" coords="766,405,945,461"/>
<area shape="rect" href="classkomori_1_1_search_result.html#a0d81252fa8281a46c86b05b609434429" title="千日手の探索結果で初期化する" alt="" coords="256,1574,416,1615"/>
<area shape="rect" href="classkomori_1_1_search_result.html#a87047b35fcd4a5b7be3b7ee76d8b740c" title="pn" alt="" coords="1012,220,1196,247"/>
<area shape="rect" href="classkomori_1_1_komoring_heights.html#a0b299d81408b0a5d664379564c145fbc" title="探索情報を出力する" alt="" coords="243,613,429,654"/>
<area shape="rect" href="classkomori_1_1_search_monitor.html#a7358be665cb6c316b9f3a546460b42f7" title="次回の置換表使用率チェックタイミングを更新する" alt="" coords="240,925,432,966"/>
<area shape="rect" href="classkomori_1_1_search_monitor.html#a3c46f5106bac15dd00fe455f32eb4037" title="今すぐ置換表使用率をチェックすべきなら true" alt="" coords="251,1129,421,1170"/>
<area shape="rect" href="classkomori_1_1_search_monitor.html#ae4757752658cf49aaf451f062766441c" title="今すぐ評価値を出力すべきかどうか。定期的に呼び出す必要がある。" alt="" coords="251,990,421,1031"/>
<area shape="rect" href="classkomori_1_1_search_monitor.html#a69bf484d9bdcf77f15e33acef0b2b4cc" title="今すぐ探索をやめるべきなら true" alt="" coords="251,1055,421,1097"/>
<area shape="rect" href="classkomori_1_1_node.html#aad7fe2734b150a1d9645ea72e2fdda83" title="DoMove() で進めた局面を元に戻す" alt="" coords="243,1523,429,1549"/>
<area shape="rect" href="classkomori_1_1_search_monitor.html#a0d7f5b2f59638e754faa4e7c4a6d1cb4" title="深さ depth の局面に訪れたことを報告する" alt="" coords="251,1639,421,1681"/>
<area shape="rect" href="classkomori_1_1tt_1_1_regular_table.html#abc27e107c2b787df207bc94082d05e3e" title="通常テーブルの中で、メモリ使用率が高いエントリを間引く" alt="" coords="503,13,681,54"/>
<area shape="rect" href="classkomori_1_1tt_1_1_regular_table.html#afa4c0e9340b321a94d0f21f42fd0ecbb" title="エントリをできるだけ手前の方に移動させる（コンパクション）" alt="" coords="767,13,944,54"/>
<area shape="rect" href="classkomori_1_1_fixed_size_stack.html#a5f9f4c0e10424bb96f652c18cfc6afc7" title="スタックの末尾（最も後に保存した要素）" alt="" coords="506,1545,678,1586"/>
<area shape="rect" href="classkomori_1_1_node.html#afc3ff609d7a14aae03aab36317148f63" title="現在の盤面ハッシュ値" alt="" coords="503,1493,681,1520"/>
<area shape="rect" href="classkomori_1_1_node.html#a485678f91b4653d87fcf5ee6071351de" title="このクラスが保持する Position への参照" alt="" coords="785,1552,925,1579"/>
<area shape="rect" href="classkomori_1_1_node.html#a6dfeb2e63ce33d5b9043010cbb8428c3" title="move 後の経路ハッシュ値" alt="" coords="492,1260,692,1287"/>
<area shape="rect" href="classkomori_1_1_fixed_size_stack.html#a122fd54c4b21ad3d1ce129cf1b2d6f3f" title="val をスタックに追加する" alt="" coords="506,1194,678,1235"/>
<area shape="rect" href="classkomori_1_1_visit_history.html#a3ba89e53fbe90e03b07b2c68eea98334" title="(board_key, hand) を履歴に登録する" alt="" coords="517,1311,667,1353"/>
<area shape="rect" href="namespacekomori.html#ae0ab7ef1101897b620e05208fc8975ee" title="現在の path_key と手 move から1手後の path_key を計算する。" alt="" coords="776,1260,935,1287"/>
<area shape="rect" href="classkomori_1_1_visit_history.html#a62769876f5547de5b474300c666cea8a" title="index の次のインデックスを求める" alt="" coords="780,1311,931,1353"/>
<area shape="rect" href="classkomori_1_1_visit_history.html#ab3ed82ca4c526f4f34c90c9277ba7d5b" title="board_key に対する探索開始インデックスを求める" alt="" coords="780,1377,931,1418"/>
<area shape="rect" href="classkomori_1_1tt_1_1_regular_table.html#a9d2dd0f37b92f3af3f34b3b412a5c8a8" title="通常テーブルのメモリ使用率を見積もる。" alt="" coords="1015,446,1193,487"/>
<area shape="rect" href="classkomori_1_1tt_1_1_repetition_table.html#a164c681a2c3ac0b306e8807d2d6014cd" title="置換表のメモリ使用率を求める。" alt="" coords="1007,381,1201,422"/>
<area shape="rect" href="classkomori_1_1_pv_list.html#a85a551e599bdb9159a720d24ecba85a7" title="開始局面における PV を返す" alt="" coords="495,519,689,545"/>
<area shape="rect" href="classkomori_1_1_komoring_heights.html#a1716f99cbc6053f69973929c21bdd83f" title="現在の探索情報を取得する" alt="" coords="499,453,685,494"/>
<area shape="rect" href="classkomori_1_1_pv_list.html#ab154752ca42ecfacef247d2b3c241ce8" title="各手の探索結果とPVをまとめた配列を返す。" alt="" coords="500,569,684,596"/>
<area shape="rect" href="classkomori_1_1_node.html#ad8aec0a7fdeb5376090cd1e5c3a833a2" title="開始局面が OR Node かどうか" alt="" coords="489,620,695,647"/>
<area shape="rect" href="classkomori_1_1_score.html#abde38682068f6f88a2a014aec7efb8bf" title="Score オブジェクトを構築する。" alt="" coords="515,304,669,331"/>
<area shape="rect" href="classkomori_1_1_node.html#aa6cdedb1efb346e60168dadfb24aa980" title="開始局面からの指し手" alt="" coords="480,823,704,849"/>
<area shape="rect" href="namespacekomori.html#acd8be37a9f85d1912131fe1379f30e70" title="Iterable の先頭 kTake 要素だけを取ってくる" alt="" coords="540,671,644,697"/>
<area shape="rect" href="namespacekomori.html#ac8e4cfe49668438b31f8af11d1043bbe" title="pn/dn 値を文字列に変換する" alt="" coords="529,721,655,748"/>
<area shape="rect" href="classkomori_1_1_pv_list.html#a289167d3bc2e10c3e726dc4e35d63843" title="手 move に対する探索結果を更新する" alt="" coords="507,224,677,251"/>
<area shape="rect" href="classkomori_1_1_pv_list.html#a83cae4bad864ff71f444890950854efa" title="idx_ を comparer_ に従って評価値がいい順に並べ替える" alt="" coords="752,653,959,680"/>
<area shape="rect" href="classkomori_1_1_search_monitor.html#a8bd76ec3242a3b0cc6af65285b0f30b9" title="現在の探索情報を UsiInfo に詰めて返す。" alt="" coords="771,587,940,629"/>
<area shape="rect" href="classkomori_1_1_usi_info.html#abc0d87a921059d9c1a503e390eb2f0e3" title="key に val を設定する。" alt="" coords="1029,553,1179,580"/>
<area shape="rect" href="classkomori_1_1_score.html#a8d4d0c6ccf9d41846b8ebe16be1f7faa" title="現在の評価値を USI 文字列で返す" alt="" coords="770,536,941,563"/>
<area shape="rect" href="classkomori_1_1_search_monitor.html#a52109fe1ac3359f99fc605e4b020ddfc" title="現在の探索局面数" alt="" coords="1019,967,1189,1009"/>
<area shape="rect" href="classkomori_1_1_node.html#a4340f73789f45570ffe593fc9d0aafa9" title="現在 OR node かどうか" alt="" coords="767,704,944,731"/>
<area shape="rect" href="classkomori_1_1_score.html#a992a9272df730122ff52335e7ef339d1" title="デフォルトコンストラクタ" alt="" coords="778,304,933,331"/>
<area shape="rect" href="classkomori_1_1_search_result.html#ae03260ca26fcff04cc38cd1fc6bd27c0" title="詰み／不詰の結論が出ているか" alt="" coords="775,187,935,229"/>
<area shape="rect" href="classkomori_1_1_periodic_alarm.html#a6ed397d4b0c0ae64041789caae1197f7" title="現在時刻を確認し、前回の true を返してから interval_ms_ が経過していれば true を返す" alt="" coords="509,1026,675,1067"/>
<area shape="rect" href="classkomori_1_1_visit_history.html#a3af0755f672c9b15c72253aebc682aa5" title="(board_key, hand) を履歴から消す" alt="" coords="517,1377,667,1418"/>
<area shape="rect" href="classkomori_1_1_node.html#a7f1c13d7f57b6af7f34ac77240342d71" title="move 直前の経路ハッシュ値" alt="" coords="486,1763,698,1789"/>
<area shape="rect" href="classkomori_1_1_fixed_size_stack.html#a30a23ee0ab5980d4fad72185cafed9d0" title="スタックから要素を1つ削除する" alt="" coords="490,1712,694,1739"/>
</map>
</div>

</div>
</div>
<a id="a741b70fbddec68eaadddb2e8f347e0b9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a741b70fbddec68eaadddb2e8f347e0b9">&#9670;&nbsp;</a></span>SearchImplForRoot()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classkomori_1_1_search_result.html">SearchResult</a> komori::KomoringHeights::SearchImplForRoot </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classkomori_1_1_node.html">Node</a> &amp;&#160;</td>
          <td class="paramname"><em>n</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespacekomori.html#ae2b179f7c8adb463807f13c9d73ec34a">PnDn</a>&#160;</td>
          <td class="paramname"><em>thpn</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespacekomori.html#ae2b179f7c8adb463807f13c9d73ec34a">PnDn</a>&#160;</td>
          <td class="paramname"><em>thdn</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespacekomori.html#af2c3856a7c53116227693f8dcca64199">MateLen</a>&#160;</td>
          <td class="paramname"><em>len</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>詰め探索の本体。root node専用の <code><a class="el" href="classkomori_1_1_komoring_heights.html#ae18eeb5dea2a27dbfa7ed60939556170" title="詰め探索の本体。（再帰関数）">SearchImpl()</a></code>。 </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">n</td><td>現局面（root node） </td></tr>
    <tr><td class="paramname">thpn</td><td>pn のしきい値 </td></tr>
    <tr><td class="paramname">thdn</td><td>dn のしきい値 </td></tr>
    <tr><td class="paramname">len</td><td>残り手数 </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>探索結果 </dd></dl>

<p class="definition">Definition at line <a class="el" href="komoring__heights_8cpp_source.html#l00300">300</a> of file <a class="el" href="komoring__heights_8cpp_source.html">komoring_heights.cpp</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classkomori_1_1_komoring_heights_a741b70fbddec68eaadddb2e8f347e0b9_cgraph.png" border="0" usemap="#aclasskomori_1_1_komoring_heights_a741b70fbddec68eaadddb2e8f347e0b9_cgraph" alt=""/></div>
<map name="aclasskomori_1_1_komoring_heights_a741b70fbddec68eaadddb2e8f347e0b9_cgraph" id="aclasskomori_1_1_komoring_heights_a741b70fbddec68eaadddb2e8f347e0b9_cgraph">
<area shape="rect" title="詰め探索の本体。root node専用の SearchImpl()。" alt="" coords="5,795,192,837"/>
<area shape="rect" href="classkomori_1_1_search_result.html#af8b976b730b126e74a8c062f275444e9" title="dn" alt="" coords="1247,128,1433,155"/>
<area shape="rect" href="classkomori_1_1_node.html#a082d5d0045420c8978206fda2b518e17" title="move で1手進める" alt="" coords="741,1069,912,1096"/>
<area shape="rect" href="classkomori_1_1_node.html#a19fbde5adf6e542e61f6c620df5b4d16" title="現在の探索深さ" alt="" coords="1003,665,1182,692"/>
<area shape="rect" href="classkomori_1_1_search_result.html#ae03260ca26fcff04cc38cd1fc6bd27c0" title="詰み／不詰の結論が出ているか" alt="" coords="1013,230,1173,271"/>
<area shape="rect" href="classkomori_1_1_search_result.html#a87047b35fcd4a5b7be3b7ee76d8b740c" title="pn" alt="" coords="1248,296,1432,323"/>
<area shape="rect" href="classkomori_1_1_komoring_heights.html#a0b299d81408b0a5d664379564c145fbc" title="探索情報を出力する" alt="" coords="477,686,664,727"/>
<area shape="rect" href="classkomori_1_1_komoring_heights.html#ae18eeb5dea2a27dbfa7ed60939556170" title="詰め探索の本体。（再帰関数）" alt="" coords="240,1246,427,1287"/>
<area shape="rect" href="classkomori_1_1_search_monitor.html#ae4757752658cf49aaf451f062766441c" title="今すぐ評価値を出力すべきかどうか。定期的に呼び出す必要がある。" alt="" coords="486,1721,655,1762"/>
<area shape="rect" href="classkomori_1_1_search_monitor.html#a69bf484d9bdcf77f15e33acef0b2b4cc" title="今すぐ探索をやめるべきなら true" alt="" coords="486,1786,655,1827"/>
<area shape="rect" href="classkomori_1_1_node.html#aad7fe2734b150a1d9645ea72e2fdda83" title="DoMove() で進めた局面を元に戻す" alt="" coords="733,1157,920,1184"/>
<area shape="rect" href="classkomori_1_1_komoring_heights.html#abc9afb32381a9ebfa45d6f2c8d947c83" title="move に対する PV を構成して pv_list_ を更新する" alt="" coords="240,445,427,486"/>
<area shape="rect" href="classkomori_1_1_fixed_size_stack.html#a5f9f4c0e10424bb96f652c18cfc6afc7" title="スタックの末尾（最も後に保存した要素）" alt="" coords="1007,950,1179,991"/>
<area shape="rect" href="classkomori_1_1_node.html#afc3ff609d7a14aae03aab36317148f63" title="現在の盤面ハッシュ値" alt="" coords="1003,1132,1182,1159"/>
<area shape="rect" href="classkomori_1_1_node.html#a485678f91b4653d87fcf5ee6071351de" title="このクラスが保持する Position への参照" alt="" coords="1270,1208,1410,1235"/>
<area shape="rect" href="classkomori_1_1_node.html#a2c10b9d22f4966f51b47495088f4fd4b" title="現在の攻め方の持ち駒" alt="" coords="1009,1284,1176,1311"/>
<area shape="rect" href="classkomori_1_1_node.html#a6dfeb2e63ce33d5b9043010cbb8428c3" title="move 後の経路ハッシュ値" alt="" coords="993,833,1193,860"/>
<area shape="rect" href="classkomori_1_1_fixed_size_stack.html#a122fd54c4b21ad3d1ce129cf1b2d6f3f" title="val をスタックに追加する" alt="" coords="1007,767,1179,809"/>
<area shape="rect" href="classkomori_1_1_visit_history.html#a3ba89e53fbe90e03b07b2c68eea98334" title="(board_key, hand) を履歴に登録する" alt="" coords="1017,885,1168,926"/>
<area shape="rect" href="namespacekomori.html#ae0ab7ef1101897b620e05208fc8975ee" title="現在の path_key と手 move から1手後の path_key を計算する。" alt="" coords="1261,833,1419,860"/>
<area shape="rect" href="classkomori_1_1_visit_history.html#a62769876f5547de5b474300c666cea8a" title="index の次のインデックスを求める" alt="" coords="1265,917,1415,958"/>
<area shape="rect" href="classkomori_1_1_visit_history.html#ab3ed82ca4c526f4f34c90c9277ba7d5b" title="board_key に対する探索開始インデックスを求める" alt="" coords="1265,999,1415,1041"/>
<area shape="rect" href="classkomori_1_1_pv_list.html#a85a551e599bdb9159a720d24ecba85a7" title="開始局面における PV を返す" alt="" coords="729,752,924,779"/>
<area shape="rect" href="classkomori_1_1_komoring_heights.html#a1716f99cbc6053f69973929c21bdd83f" title="現在の探索情報を取得する" alt="" coords="733,1393,920,1434"/>
<area shape="rect" href="classkomori_1_1_pv_list.html#ab154752ca42ecfacef247d2b3c241ce8" title="各手の探索結果とPVをまとめた配列を返す。" alt="" coords="735,803,919,829"/>
<area shape="rect" href="classkomori_1_1_node.html#ad8aec0a7fdeb5376090cd1e5c3a833a2" title="開始局面が OR Node かどうか" alt="" coords="723,549,930,576"/>
<area shape="rect" href="classkomori_1_1_score.html#abde38682068f6f88a2a014aec7efb8bf" title="Score オブジェクトを構築する。" alt="" coords="749,448,904,475"/>
<area shape="rect" href="classkomori_1_1_node.html#aa6cdedb1efb346e60168dadfb24aa980" title="開始局面からの指し手" alt="" coords="715,600,939,627"/>
<area shape="rect" href="namespacekomori.html#acd8be37a9f85d1912131fe1379f30e70" title="Iterable の先頭 kTake 要素だけを取ってくる" alt="" coords="775,651,879,677"/>
<area shape="rect" href="namespacekomori.html#ac8e4cfe49668438b31f8af11d1043bbe" title="pn/dn 値を文字列に変換する" alt="" coords="763,701,890,728"/>
<area shape="rect" href="classkomori_1_1_pv_list.html#a289167d3bc2e10c3e726dc4e35d63843" title="手 move に対する探索結果を更新する" alt="" coords="742,245,911,272"/>
<area shape="rect" href="classkomori_1_1_pv_list.html#a83cae4bad864ff71f444890950854efa" title="idx_ を comparer_ に従って評価値がいい順に並べ替える" alt="" coords="989,615,1196,641"/>
<area shape="rect" href="classkomori_1_1_search_monitor.html#a8bd76ec3242a3b0cc6af65285b0f30b9" title="現在の探索情報を UsiInfo に詰めて返す。" alt="" coords="1008,1487,1177,1529"/>
<area shape="rect" href="classkomori_1_1_usi_info.html#abc0d87a921059d9c1a503e390eb2f0e3" title="key に val を設定する。" alt="" coords="1265,1465,1415,1492"/>
<area shape="rect" href="classkomori_1_1tt_1_1detail_1_1_transposition_table_impl.html#a4179ad57f2d4a73ece89f9c380a7751a" title="置換表使用率（千分率）を計算する" alt="" coords="1003,1553,1182,1609"/>
<area shape="rect" href="classkomori_1_1_score.html#a8d4d0c6ccf9d41846b8ebe16be1f7faa" title="現在の評価値を USI 文字列で返す" alt="" coords="1007,1385,1178,1412"/>
<area shape="rect" href="classkomori_1_1_search_monitor.html#a52109fe1ac3359f99fc605e4b020ddfc" title="現在の探索局面数" alt="" coords="1255,1677,1425,1718"/>
<area shape="rect" href="classkomori_1_1_node.html#a4340f73789f45570ffe593fc9d0aafa9" title="現在 OR node かどうか" alt="" coords="1004,347,1181,373"/>
<area shape="rect" href="classkomori_1_1_search_result.html#af353f0cfab41b586a7c994d2507ca699" title="探索時の残り手数" alt="" coords="997,499,1188,525"/>
<area shape="rect" href="classkomori_1_1tt_1_1detail_1_1_transposition_table_impl.html#a03fe64f10c6759a3d546410a9a5dd97c" title="ガベージコレクションを実行する" alt="" coords="481,1509,660,1565"/>
<area shape="rect" href="classkomori_1_1_search_result.html#a0d81252fa8281a46c86b05b609434429" title="千日手の探索結果で初期化する" alt="" coords="491,1158,651,1199"/>
<area shape="rect" href="classkomori_1_1_search_monitor.html#a7358be665cb6c316b9f3a546460b42f7" title="次回の置換表使用率チェックタイミングを更新する" alt="" coords="475,1590,667,1631"/>
<area shape="rect" href="classkomori_1_1_search_monitor.html#a3c46f5106bac15dd00fe455f32eb4037" title="今すぐ置換表使用率をチェックすべきなら true" alt="" coords="486,1655,655,1697"/>
<area shape="rect" href="classkomori_1_1_search_monitor.html#a0d7f5b2f59638e754faa4e7c4a6d1cb4" title="深さ depth の局面に訪れたことを報告する" alt="" coords="486,1275,655,1317"/>
<area shape="rect" href="classkomori_1_1_periodic_alarm.html#a6ed397d4b0c0ae64041789caae1197f7" title="現在時刻を確認し、前回の true を返してから interval_ms_ が経過していれば true を返す" alt="" coords="743,1786,910,1827"/>
<area shape="rect" href="classkomori_1_1_visit_history.html#a3af0755f672c9b15c72253aebc682aa5" title="(board_key, hand) を履歴から消す" alt="" coords="1017,1015,1168,1057"/>
<area shape="rect" href="classkomori_1_1_node.html#a7f1c13d7f57b6af7f34ac77240342d71" title="move 直前の経路ハッシュ値" alt="" coords="987,1233,1199,1260"/>
<area shape="rect" href="classkomori_1_1_fixed_size_stack.html#a30a23ee0ab5980d4fad72185cafed9d0" title="スタックから要素を1つ削除する" alt="" coords="991,1183,1195,1209"/>
<area shape="rect" href="classkomori_1_1_komoring_heights.html#a3366c841ead237070560d6eafe9d9721" title="現時点の探索結果から詰め手順を取得する" alt="" coords="477,499,664,541"/>
<area shape="rect" href="classkomori_1_1_pv_list.html#a83a4d84ad86fc845c42c8fbd016da0ab" title="手 move が証明済み（詰み）かどうかを返す" alt="" coords="481,397,660,424"/>
</map>
</div>

</div>
</div>
<a id="adfb4b9e964208439548db90325b90c80"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adfb4b9e964208439548db90325b90c80">&#9670;&nbsp;</a></span>SearchMainLoop()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::pair&lt; <a class="el" href="namespacekomori.html#ada1a4eeb6080f15a12a946bf93ff7488">NodeState</a>, <a class="el" href="namespacekomori.html#af2c3856a7c53116227693f8dcca64199">MateLen</a> &gt; komori::KomoringHeights::SearchMainLoop </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classkomori_1_1_node.html">Node</a> &amp;&#160;</td>
          <td class="paramname"><em>n</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>詰み手順を探す </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">n</td><td>現局面 </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>探索結果と詰み手数</dd></dl>
<p><code><a class="el" href="classkomori_1_1_komoring_heights.html#a1d0e3beed5538993268bab3b4b4271f9" title="n が len 手以下で詰むかを探索する">SearchEntry()</a></code> や <code><a class="el" href="classkomori_1_1_komoring_heights.html#ae18eeb5dea2a27dbfa7ed60939556170" title="詰め探索の本体。（再帰関数）">SearchImpl()</a></code> のような df-pn 探索では「詰みかどうか」の探索は得意だが 「最短の詰み手順かどうか」の判定は難しい。この関数では、詰み手数を変えながら <code><a class="el" href="classkomori_1_1_komoring_heights.html#a1d0e3beed5538993268bab3b4b4271f9" title="n が len 手以下で詰むかを探索する">SearchEntry()</a></code> を 呼ぶことで局面 <code>n</code> の詰み手数の区間を狭めていくことが目的の関数である。 </p>

<p class="definition">Definition at line <a class="el" href="komoring__heights_8cpp_source.html#l00185">185</a> of file <a class="el" href="komoring__heights_8cpp_source.html">komoring_heights.cpp</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classkomori_1_1_komoring_heights_adfb4b9e964208439548db90325b90c80_cgraph.png" border="0" usemap="#aclasskomori_1_1_komoring_heights_adfb4b9e964208439548db90325b90c80_cgraph" alt=""/></div>
<map name="aclasskomori_1_1_komoring_heights_adfb4b9e964208439548db90325b90c80_cgraph" id="aclasskomori_1_1_komoring_heights_adfb4b9e964208439548db90325b90c80_cgraph">
<area shape="rect" title="詰み手順を探す" alt="" coords="5,811,192,853"/>
<area shape="rect" href="classkomori_1_1_pv_list.html#a85a551e599bdb9159a720d24ecba85a7" title="開始局面における PV を返す" alt="" coords="1897,320,2092,347"/>
<area shape="rect" href="classkomori_1_1_komoring_heights.html#a1716f99cbc6053f69973929c21bdd83f" title="現在の探索情報を取得する" alt="" coords="1901,86,2088,127"/>
<area shape="rect" href="classkomori_1_1_komoring_heights.html#a3366c841ead237070560d6eafe9d9721" title="現時点の探索結果から詰め手順を取得する" alt="" coords="944,1022,1131,1063"/>
<area shape="rect" href="classkomori_1_1_node.html#a2c10b9d22f4966f51b47495088f4fd4b" title="現在の攻め方の持ち駒" alt="" coords="1911,1552,2078,1579"/>
<area shape="rect" href="classkomori_1_1_komoring_heights.html#a0b299d81408b0a5d664379564c145fbc" title="探索情報を出力する" alt="" coords="1648,625,1835,666"/>
<area shape="rect" href="classkomori_1_1_node.html#ad8aec0a7fdeb5376090cd1e5c3a833a2" title="開始局面が OR Node かどうか" alt="" coords="1891,776,2098,803"/>
<area shape="rect" href="classkomori_1_1_score.html#abde38682068f6f88a2a014aec7efb8bf" title="Score オブジェクトを構築する。" alt="" coords="1917,1856,2072,1883"/>
<area shape="rect" href="classkomori_1_1_pv_list.html#a289167d3bc2e10c3e726dc4e35d63843" title="手 move に対する探索結果を更新する" alt="" coords="1910,2012,2079,2039"/>
<area shape="rect" href="classkomori_1_1_search_monitor.html#a69bf484d9bdcf77f15e33acef0b2b4cc" title="今すぐ探索をやめるべきなら true" alt="" coords="1657,305,1826,346"/>
<area shape="rect" href="namespacekomori.html#ab4c8398dda0325cc3ecd032c30a01425" title="整数 i に対し、序数（Ordinal Number）の文字列を返す" alt="" coords="246,2251,421,2277"/>
<area shape="rect" href="classkomori_1_1_komoring_heights.html#a1d0e3beed5538993268bab3b4b4271f9" title="n が len 手以下で詰むかを探索する" alt="" coords="240,1094,427,1135"/>
<area shape="rect" href="classkomori_1_1_pv_list.html#a83cae4bad864ff71f444890950854efa" title="idx_ を comparer_ に従って評価値がいい順に並べ替える" alt="" coords="2169,329,2376,356"/>
<area shape="rect" href="classkomori_1_1_search_monitor.html#a8bd76ec3242a3b0cc6af65285b0f30b9" title="現在の探索情報を UsiInfo に詰めて返す。" alt="" coords="2188,35,2357,77"/>
<area shape="rect" href="classkomori_1_1_usi_info.html#abc0d87a921059d9c1a503e390eb2f0e3" title="key に val を設定する。" alt="" coords="2461,13,2611,40"/>
<area shape="rect" href="classkomori_1_1tt_1_1detail_1_1_transposition_table_impl.html#a4179ad57f2d4a73ece89f9c380a7751a" title="置換表使用率（千分率）を計算する" alt="" coords="2183,244,2362,300"/>
<area shape="rect" href="classkomori_1_1_score.html#a8d4d0c6ccf9d41846b8ebe16be1f7faa" title="現在の評価値を USI 文字列で返す" alt="" coords="2187,101,2358,128"/>
<area shape="rect" href="classkomori_1_1_search_monitor.html#a52109fe1ac3359f99fc605e4b020ddfc" title="現在の探索局面数" alt="" coords="2451,75,2621,117"/>
<area shape="rect" href="classkomori_1_1tt_1_1_regular_table.html#a9d2dd0f37b92f3af3f34b3b412a5c8a8" title="通常テーブルのメモリ使用率を見積もる。" alt="" coords="2447,283,2625,325"/>
<area shape="rect" href="classkomori_1_1tt_1_1_repetition_table.html#a164c681a2c3ac0b306e8807d2d6014cd" title="置換表のメモリ使用率を求める。" alt="" coords="2439,218,2633,259"/>
<area shape="rect" href="namespacekomori.html#af60b97ffafc4e100347e046e86ef02ac" title="(OR node限定) n が 1 手詰かどうか判定する。" alt="" coords="1419,1451,1595,1477"/>
<area shape="rect" href="classkomori_1_1_node.html#a082d5d0045420c8978206fda2b518e17" title="move で1手進める" alt="" coords="1656,1349,1827,1376"/>
<area shape="rect" href="classkomori_1_1_komoring_heights.html#a93894be39fd9d3d97ad767042d49afe3" title="AND node n における len 手以下詰めの最善手とそのときの詰み手数を取得する" alt="" coords="1179,946,1365,987"/>
<area shape="rect" href="classkomori_1_1_node.html#a4340f73789f45570ffe593fc9d0aafa9" title="現在 OR node かどうか" alt="" coords="2184,472,2361,499"/>
<area shape="rect" href="classkomori_1_1detail_1_1_mate_len_impl.html#ab53b046400e9408fdc8c744f56e09e27" title="詰み手数を返す" alt="" coords="2155,953,2391,980"/>
<area shape="rect" href="classkomori_1_1_komoring_heights.html#acbf57b8309f9e93aebbc425d14358db7" title="OR node n における len 手以下詰めの最善手とそのときの詰み手数を取得する" alt="" coords="1179,819,1365,861"/>
<area shape="rect" href="namespacekomori.html#a13b1a743c345f921833c153fd537a50d" title="局面 n から moves で手を一気に戻す。n に対し、moves の後ろから順に n.UndoMove(m) を適用する。" alt="" coords="1206,1457,1338,1484"/>
<area shape="rect" href="namespacekomori.html#ace83f8e2ffff818bd25b6def2e075904" title="move 後の手駒が after_hand のとき、移動前の持ち駒を返す" alt="" coords="1665,1451,1817,1477"/>
<area shape="rect" href="classkomori_1_1_node.html#a485678f91b4653d87fcf5ee6071351de" title="このクラスが保持する Position への参照" alt="" coords="2203,1527,2343,1553"/>
<area shape="rect" href="classkomori_1_1_node.html#aad7fe2734b150a1d9645ea72e2fdda83" title="DoMove() で進めた局面を元に戻す" alt="" coords="1648,1552,1835,1579"/>
<area shape="rect" href="classkomori_1_1_fixed_size_stack.html#a5f9f4c0e10424bb96f652c18cfc6afc7" title="スタックの末尾（最も後に保存した要素）" alt="" coords="1909,1435,2081,1477"/>
<area shape="rect" href="classkomori_1_1_node.html#afc3ff609d7a14aae03aab36317148f63" title="現在の盤面ハッシュ値" alt="" coords="1905,1384,2084,1411"/>
<area shape="rect" href="classkomori_1_1_node.html#a6dfeb2e63ce33d5b9043010cbb8428c3" title="move 後の経路ハッシュ値" alt="" coords="1895,1283,2095,1309"/>
<area shape="rect" href="classkomori_1_1_bit_set.html#a44f83fc0843130cea8ea99086d586a15" title="フラグをすべて true にした BitSet を返す。" alt="" coords="1432,819,1581,861"/>
<area shape="rect" href="classkomori_1_1_node.html#a19fbde5adf6e542e61f6c620df5b4d16" title="現在の探索深さ" alt="" coords="2183,1131,2362,1157"/>
<area shape="rect" href="classkomori_1_1_komoring_heights.html#ae18eeb5dea2a27dbfa7ed60939556170" title="詰め探索の本体。（再帰関数）" alt="" coords="1413,1115,1600,1157"/>
<area shape="rect" href="classkomori_1_1_search_result.html#af8b976b730b126e74a8c062f275444e9" title="dn" alt="" coords="2443,1753,2629,1780"/>
<area shape="rect" href="classkomori_1_1_search_result.html#a87047b35fcd4a5b7be3b7ee76d8b740c" title="pn" alt="" coords="2444,2073,2628,2100"/>
<area shape="rect" href="classkomori_1_1_pv_list.html#ab154752ca42ecfacef247d2b3c241ce8" title="各手の探索結果とPVをまとめた配列を返す。" alt="" coords="1903,523,2087,549"/>
<area shape="rect" href="classkomori_1_1_node.html#aa6cdedb1efb346e60168dadfb24aa980" title="開始局面からの指し手" alt="" coords="1883,624,2107,651"/>
<area shape="rect" href="namespacekomori.html#acd8be37a9f85d1912131fe1379f30e70" title="Iterable の先頭 kTake 要素だけを取ってくる" alt="" coords="1943,675,2047,701"/>
<area shape="rect" href="namespacekomori.html#ac8e4cfe49668438b31f8af11d1043bbe" title="pn/dn 値を文字列に変換する" alt="" coords="1931,725,2058,752"/>
<area shape="rect" href="classkomori_1_1_score.html#a992a9272df730122ff52335e7ef339d1" title="デフォルトコンストラクタ" alt="" coords="2195,1855,2350,1881"/>
<area shape="rect" href="classkomori_1_1_search_result.html#ae03260ca26fcff04cc38cd1fc6bd27c0" title="詰み／不詰の結論が出ているか" alt="" coords="2193,2007,2353,2049"/>
<area shape="rect" href="classkomori_1_1_search_result.html#af353f0cfab41b586a7c994d2507ca699" title="探索時の残り手数" alt="" coords="2177,1956,2368,1983"/>
<area shape="rect" href="classkomori_1_1_periodic_alarm.html#a6ed397d4b0c0ae64041789caae1197f7" title="現在時刻を確認し、前回の true を返してから interval_ms_ が経過していれば true を返す" alt="" coords="1911,203,2078,245"/>
<area shape="rect" href="classkomori_1_1tt_1_1detail_1_1_transposition_table_impl.html#a96c4e38870490176e0053914a17c908c" title="局面 n のエントリを読み書きするためのクエリを返す" alt="" coords="1652,1664,1831,1720"/>
<area shape="rect" href="classkomori_1_1_komoring_heights.html#a741b70fbddec68eaadddb2e8f347e0b9" title="詰め探索の本体。root node専用の SearchImpl()。" alt="" coords="475,1342,661,1383"/>
<area shape="rect" href="classkomori_1_1_komoring_heights.html#abc9afb32381a9ebfa45d6f2c8d947c83" title="move に対する PV を構成して pv_list_ を更新する" alt="" coords="709,1737,896,1778"/>
<area shape="rect" href="classkomori_1_1tt_1_1_query.html#add5f4c6c79b8cf305918bd62683a0078" title="探索結果 result を置換表に書き込む" alt="" coords="499,1065,637,1106"/>
</map>
</div>

</div>
</div>
<a id="abc9afb32381a9ebfa45d6f2c8d947c83"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abc9afb32381a9ebfa45d6f2c8d947c83">&#9670;&nbsp;</a></span>UpdateFinalPv()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void komori::KomoringHeights::UpdateFinalPv </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classkomori_1_1_node.html">Node</a> &amp;&#160;</td>
          <td class="paramname"><em>n</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Move&#160;</td>
          <td class="paramname"><em>move</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classkomori_1_1_search_result.html">SearchResult</a> &amp;&#160;</td>
          <td class="paramname"><em>result</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p><code>move</code> に対する PV を構成して <code>pv_list_</code> を更新する </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">n</td><td>現局面 </td></tr>
    <tr><td class="paramname">move</td><td>PV に追加する手 </td></tr>
    <tr><td class="paramname">result</td><td>探索結果</td></tr>
  </table>
  </dd>
</dl>
<p><code>move</code> が詰みのとき、詰みに至るまでの手順を1つ <code>pv_list_</code> へ登録する。このとき、<code>result.Len()</code> に書かれた 手数以下の詰み手順が登録されることは保証されているが、厳密に <code>result.Len()</code> 手詰みであることは保証されない。</p>
<p><code>move</code> が（余詰探索関係なく）不詰のとき、<code>n</code> が OR node であれば <code>move</code> 直後に詰みを逃れる応手を PV へ追加して 結果を登録する。 </p>

<p class="definition">Definition at line <a class="el" href="komoring__heights_8cpp_source.html#l00548">548</a> of file <a class="el" href="komoring__heights_8cpp_source.html">komoring_heights.cpp</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classkomori_1_1_komoring_heights_abc9afb32381a9ebfa45d6f2c8d947c83_cgraph.png" border="0" usemap="#aclasskomori_1_1_komoring_heights_abc9afb32381a9ebfa45d6f2c8d947c83_cgraph" alt=""/></div>
<map name="aclasskomori_1_1_komoring_heights_abc9afb32381a9ebfa45d6f2c8d947c83_cgraph" id="aclasskomori_1_1_komoring_heights_abc9afb32381a9ebfa45d6f2c8d947c83_cgraph">
<area shape="rect" title="move に対する PV を構成して pv_list_ を更新する" alt="" coords="5,882,192,923"/>
<area shape="rect" href="classkomori_1_1_search_result.html#af8b976b730b126e74a8c062f275444e9" title="dn" alt="" coords="1749,164,1936,190"/>
<area shape="rect" href="classkomori_1_1_node.html#a082d5d0045420c8978206fda2b518e17" title="move で1手進める" alt="" coords="1008,1060,1179,1086"/>
<area shape="rect" href="classkomori_1_1_komoring_heights.html#a3366c841ead237070560d6eafe9d9721" title="現時点の探索結果から詰め手順を取得する" alt="" coords="242,823,429,864"/>
<area shape="rect" href="classkomori_1_1_node.html#aad7fe2734b150a1d9645ea72e2fdda83" title="DoMove() で進めた局面を元に戻す" alt="" coords="1000,1161,1187,1188"/>
<area shape="rect" href="classkomori_1_1_node.html#a4340f73789f45570ffe593fc9d0aafa9" title="現在 OR node かどうか" alt="" coords="743,830,920,857"/>
<area shape="rect" href="classkomori_1_1_search_result.html#a87047b35fcd4a5b7be3b7ee76d8b740c" title="pn" alt="" coords="1751,46,1935,73"/>
<area shape="rect" href="classkomori_1_1_pv_list.html#a289167d3bc2e10c3e726dc4e35d63843" title="手 move に対する探索結果を更新する" alt="" coords="1259,105,1428,132"/>
<area shape="rect" href="classkomori_1_1_pv_list.html#a83a4d84ad86fc845c42c8fbd016da0ab" title="手 move が証明済み（詰み）かどうかを返す" alt="" coords="246,1212,425,1238"/>
<area shape="rect" href="classkomori_1_1_search_result.html#af353f0cfab41b586a7c994d2507ca699" title="探索時の残り手数" alt="" coords="240,1262,431,1289"/>
<area shape="rect" href="classkomori_1_1_fixed_size_stack.html#a5f9f4c0e10424bb96f652c18cfc6afc7" title="スタックの末尾（最も後に保存した要素）" alt="" coords="1257,1111,1429,1152"/>
<area shape="rect" href="classkomori_1_1_node.html#afc3ff609d7a14aae03aab36317148f63" title="現在の盤面ハッシュ値" alt="" coords="1254,1177,1433,1204"/>
<area shape="rect" href="classkomori_1_1_node.html#a485678f91b4653d87fcf5ee6071351de" title="このクラスが保持する Position への参照" alt="" coords="1527,1114,1667,1141"/>
<area shape="rect" href="classkomori_1_1_node.html#a2c10b9d22f4966f51b47495088f4fd4b" title="現在の攻め方の持ち駒" alt="" coords="1260,1009,1427,1036"/>
<area shape="rect" href="classkomori_1_1_node.html#a6dfeb2e63ce33d5b9043010cbb8428c3" title="move 後の経路ハッシュ値" alt="" coords="1497,742,1697,769"/>
<area shape="rect" href="classkomori_1_1_fixed_size_stack.html#a122fd54c4b21ad3d1ce129cf1b2d6f3f" title="val をスタックに追加する" alt="" coords="1257,762,1429,803"/>
<area shape="rect" href="classkomori_1_1_visit_history.html#a3ba89e53fbe90e03b07b2c68eea98334" title="(board_key, hand) を履歴に登録する" alt="" coords="1268,827,1419,868"/>
<area shape="rect" href="namespacekomori.html#ae0ab7ef1101897b620e05208fc8975ee" title="現在の path_key と手 move から1手後の path_key を計算する。" alt="" coords="1763,981,1922,1008"/>
<area shape="rect" href="classkomori_1_1_visit_history.html#a62769876f5547de5b474300c666cea8a" title="index の次のインデックスを求める" alt="" coords="1522,827,1673,868"/>
<area shape="rect" href="classkomori_1_1_visit_history.html#ab3ed82ca4c526f4f34c90c9277ba7d5b" title="board_key に対する探索開始インデックスを求める" alt="" coords="1522,892,1673,934"/>
<area shape="rect" href="namespacekomori.html#af60b97ffafc4e100347e046e86ef02ac" title="(OR node限定) n が 1 手詰かどうか判定する。" alt="" coords="743,1060,919,1086"/>
<area shape="rect" href="classkomori_1_1_komoring_heights.html#a93894be39fd9d3d97ad767042d49afe3" title="AND node n における len 手以下詰めの最善手とそのときの詰み手数を取得する" alt="" coords="479,696,665,738"/>
<area shape="rect" href="classkomori_1_1detail_1_1_mate_len_impl.html#ab53b046400e9408fdc8c744f56e09e27" title="詰み手数を返す" alt="" coords="713,645,949,672"/>
<area shape="rect" href="classkomori_1_1_komoring_heights.html#acbf57b8309f9e93aebbc425d14358db7" title="OR node n における len 手以下詰めの最善手とそのときの詰み手数を取得する" alt="" coords="479,762,665,803"/>
<area shape="rect" href="namespacekomori.html#a13b1a743c345f921833c153fd537a50d" title="局面 n から moves で手を一気に戻す。n に対し、moves の後ろから順に n.UndoMove(m) を適用する。" alt="" coords="506,1108,638,1134"/>
<area shape="rect" href="namespacekomori.html#ace83f8e2ffff818bd25b6def2e075904" title="move 後の手駒が after_hand のとき、移動前の持ち駒を返す" alt="" coords="1017,1110,1169,1137"/>
<area shape="rect" href="classkomori_1_1_visit_history.html#a3af0755f672c9b15c72253aebc682aa5" title="(board_key, hand) を履歴から消す" alt="" coords="1268,892,1419,934"/>
<area shape="rect" href="classkomori_1_1_node.html#a7f1c13d7f57b6af7f34ac77240342d71" title="move 直前の経路ハッシュ値" alt="" coords="1237,1329,1449,1356"/>
<area shape="rect" href="classkomori_1_1_fixed_size_stack.html#a30a23ee0ab5980d4fad72185cafed9d0" title="スタックから要素を1つ削除する" alt="" coords="1241,1278,1445,1305"/>
<area shape="rect" href="namespacekomori.html#af65c288516ec71f448f2947aac9e755b" title="1手後の path_key と手 move から現在の path_key を計算する。" alt="" coords="1512,1274,1683,1301"/>
<area shape="rect" href="classkomori_1_1_bit_set.html#a44f83fc0843130cea8ea99086d586a15" title="フラグをすべて true にした BitSet を返す。" alt="" coords="757,696,906,738"/>
<area shape="rect" href="classkomori_1_1_node.html#a19fbde5adf6e542e61f6c620df5b4d16" title="現在の探索深さ" alt="" coords="1254,265,1433,292"/>
<area shape="rect" href="classkomori_1_1_komoring_heights.html#ae18eeb5dea2a27dbfa7ed60939556170" title="詰め探索の本体。（再帰関数）" alt="" coords="738,762,925,803"/>
<area shape="rect" href="classkomori_1_1_node.html#acd0ed0838fa087e459aadae9cf563b0c" title="現在の手番" alt="" coords="1026,1009,1161,1036"/>
<area shape="rect" href="classkomori_1_1tt_1_1detail_1_1_transposition_table_impl.html#a03fe64f10c6759a3d546410a9a5dd97c" title="ガベージコレクションを実行する" alt="" coords="1004,616,1183,672"/>
<area shape="rect" href="classkomori_1_1tt_1_1detail_1_1_transposition_table_impl.html#a4179ad57f2d4a73ece89f9c380a7751a" title="置換表使用率（千分率）を計算する" alt="" coords="1508,389,1687,445"/>
<area shape="rect" href="classkomori_1_1_search_result.html#a0d81252fa8281a46c86b05b609434429" title="千日手の探索結果で初期化する" alt="" coords="1013,484,1173,526"/>
<area shape="rect" href="classkomori_1_1_komoring_heights.html#a0b299d81408b0a5d664379564c145fbc" title="探索情報を出力する" alt="" coords="1000,367,1187,408"/>
<area shape="rect" href="classkomori_1_1_search_monitor.html#a7358be665cb6c316b9f3a546460b42f7" title="次回の置換表使用率チェックタイミングを更新する" alt="" coords="997,550,1189,591"/>
<area shape="rect" href="classkomori_1_1_search_monitor.html#a3c46f5106bac15dd00fe455f32eb4037" title="今すぐ置換表使用率をチェックすべきなら true" alt="" coords="1009,696,1178,738"/>
<area shape="rect" href="classkomori_1_1_search_monitor.html#ae4757752658cf49aaf451f062766441c" title="今すぐ評価値を出力すべきかどうか。定期的に呼び出す必要がある。" alt="" coords="1009,762,1178,803"/>
<area shape="rect" href="classkomori_1_1_search_monitor.html#a69bf484d9bdcf77f15e33acef0b2b4cc" title="今すぐ探索をやめるべきなら true" alt="" coords="1009,827,1178,868"/>
<area shape="rect" href="classkomori_1_1_search_monitor.html#a0d7f5b2f59638e754faa4e7c4a6d1cb4" title="深さ depth の局面に訪れたことを報告する" alt="" coords="1009,892,1178,934"/>
<area shape="rect" href="classkomori_1_1tt_1_1_regular_table.html#abc27e107c2b787df207bc94082d05e3e" title="通常テーブルの中で、メモリ使用率が高いエントリを間引く" alt="" coords="1255,623,1432,664"/>
<area shape="rect" href="classkomori_1_1tt_1_1_regular_table.html#a9d2dd0f37b92f3af3f34b3b412a5c8a8" title="通常テーブルのメモリ使用率を見積もる。" alt="" coords="1754,430,1931,471"/>
<area shape="rect" href="classkomori_1_1tt_1_1_repetition_table.html#a164c681a2c3ac0b306e8807d2d6014cd" title="置換表のメモリ使用率を求める。" alt="" coords="1745,364,1940,406"/>
<area shape="rect" href="classkomori_1_1_pv_list.html#a85a551e599bdb9159a720d24ecba85a7" title="開始局面における PV を返す" alt="" coords="1246,433,1441,460"/>
<area shape="rect" href="classkomori_1_1_komoring_heights.html#a1716f99cbc6053f69973929c21bdd83f" title="現在の探索情報を取得する" alt="" coords="1250,316,1437,358"/>
<area shape="rect" href="classkomori_1_1_pv_list.html#ab154752ca42ecfacef247d2b3c241ce8" title="各手の探索結果とPVをまとめた配列を返す。" alt="" coords="1251,382,1435,409"/>
<area shape="rect" href="classkomori_1_1_search_result.html#ae03260ca26fcff04cc38cd1fc6bd27c0" title="詰み／不詰の結論が出ているか" alt="" coords="1517,98,1677,139"/>
</map>
</div>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1
</small></address>
</body>
</html>
