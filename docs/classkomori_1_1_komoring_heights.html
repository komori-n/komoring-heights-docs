<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>KomoringHeights: komori::KomoringHeights Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygen-awesome.css" rel="stylesheet" type="text/css"/>
<link href="custom.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">KomoringHeights
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespacekomori.html">komori</a></li><li class="navelem"><a class="el" href="classkomori_1_1_komoring_heights.html">KomoringHeights</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pri-methods">Private Member Functions</a> &#124;
<a href="#pri-attribs">Private Attributes</a> &#124;
<a href="classkomori_1_1_komoring_heights-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">komori::KomoringHeights Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>詰将棋探索の本体  
 <a href="classkomori_1_1_komoring_heights.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="komoring__heights_8hpp_source.html">komoring_heights.hpp</a>&gt;</code></p>
<div class="dynheader">
Collaboration diagram for komori::KomoringHeights:</div>
<div class="dyncontent">
<div class="center"><img src="classkomori_1_1_komoring_heights__coll__graph.png" border="0" usemap="#akomori_1_1_komoring_heights_coll__map" alt="Collaboration graph"/></div>
<map name="akomori_1_1_komoring_heights_coll__map" id="akomori_1_1_komoring_heights_coll__map">
<area shape="rect" title="詰将棋探索の本体" alt="" coords="1147,89,1333,115"/>
<area shape="rect" href="classkomori_1_1_score.html" title="現在の探索状況に基づく評価値。" alt="" coords="831,13,941,39"/>
<area shape="rect" href="structkomori_1_1_define_not_equal_by_equal.html" title=" " alt="" coords="461,5,654,47"/>
<area shape="rect" href="structkomori_1_1_define_not_equal_by_equal.html" title="operator== から operator!= を自動定義するクラス。" alt="" coords="5,5,199,47"/>
<area shape="rect" href="classkomori_1_1_expansion_stack.html" title="LocalExpansion をスタックで管理するクラス。" alt="" coords="797,63,975,90"/>
<area shape="rect" href="structkomori_1_1_engine_option.html" title="エンジンオプションの事前読み込みおよび提供を行うクラス。" alt="" coords="805,114,967,141"/>
<area shape="rect" href="classkomori_1_1detail_1_1_search_monitor.html" title="探索局面数を観測して nps を計算したり探索中断の判断をしたりするクラス。" alt="" coords="779,165,993,191"/>
<area shape="rect" href="classkomori_1_1_circular_array.html" title=" " alt="" coords="458,124,657,165"/>
<area shape="rect" href="classkomori_1_1_circular_array.html" title="長さ kSize 、型 T の循環配列。" alt="" coords="22,161,182,203"/>
<area shape="rect" href="classkomori_1_1_circular_array.html" title=" " alt="" coords="447,190,668,246"/>
</map>
<center><span class="legend">[<a href="graph_legend.html">legend</a>]</span></center></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:aa7b7d63d9edf2a4f065bfed9c4ab3fab"><td class="memItemLeft" align="right" valign="top"><a id="aa7b7d63d9edf2a4f065bfed9c4ab3fab"></a>
&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classkomori_1_1_komoring_heights.html#aa7b7d63d9edf2a4f065bfed9c4ab3fab">KomoringHeights</a> ()=default</td></tr>
<tr class="memdesc:aa7b7d63d9edf2a4f065bfed9c4ab3fab"><td class="mdescLeft">&#160;</td><td class="mdescRight">Default constructor(default) <br /></td></tr>
<tr class="separator:aa7b7d63d9edf2a4f065bfed9c4ab3fab"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7b49a5920fad8abe9e39dd989d253038"><td class="memItemLeft" align="right" valign="top"><a id="a7b49a5920fad8abe9e39dd989d253038"></a>
&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classkomori_1_1_komoring_heights.html#a7b49a5920fad8abe9e39dd989d253038">KomoringHeights</a> (const <a class="el" href="classkomori_1_1_komoring_heights.html">KomoringHeights</a> &amp;)=delete</td></tr>
<tr class="memdesc:a7b49a5920fad8abe9e39dd989d253038"><td class="mdescLeft">&#160;</td><td class="mdescRight">Copy constructor(delete) <br /></td></tr>
<tr class="separator:a7b49a5920fad8abe9e39dd989d253038"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4965afcca6f426bad2944d03145099ae"><td class="memItemLeft" align="right" valign="top"><a id="a4965afcca6f426bad2944d03145099ae"></a>
&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classkomori_1_1_komoring_heights.html#a4965afcca6f426bad2944d03145099ae">KomoringHeights</a> (<a class="el" href="classkomori_1_1_komoring_heights.html">KomoringHeights</a> &amp;&amp;)=delete</td></tr>
<tr class="memdesc:a4965afcca6f426bad2944d03145099ae"><td class="mdescLeft">&#160;</td><td class="mdescRight">Move constructor(delete) <br /></td></tr>
<tr class="separator:a4965afcca6f426bad2944d03145099ae"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0051d036f5c1afa117579c8ce8f11dcc"><td class="memItemLeft" align="right" valign="top"><a id="a0051d036f5c1afa117579c8ce8f11dcc"></a>
<a class="el" href="classkomori_1_1_komoring_heights.html">KomoringHeights</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classkomori_1_1_komoring_heights.html#a0051d036f5c1afa117579c8ce8f11dcc">operator=</a> (const <a class="el" href="classkomori_1_1_komoring_heights.html">KomoringHeights</a> &amp;)=delete</td></tr>
<tr class="memdesc:a0051d036f5c1afa117579c8ce8f11dcc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Copy assign operator(delete) <br /></td></tr>
<tr class="separator:a0051d036f5c1afa117579c8ce8f11dcc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a38f527a3713eb8eb3447bf94f23dd3ab"><td class="memItemLeft" align="right" valign="top"><a id="a38f527a3713eb8eb3447bf94f23dd3ab"></a>
<a class="el" href="classkomori_1_1_komoring_heights.html">KomoringHeights</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classkomori_1_1_komoring_heights.html#a38f527a3713eb8eb3447bf94f23dd3ab">operator=</a> (<a class="el" href="classkomori_1_1_komoring_heights.html">KomoringHeights</a> &amp;&amp;)=delete</td></tr>
<tr class="memdesc:a38f527a3713eb8eb3447bf94f23dd3ab"><td class="mdescLeft">&#160;</td><td class="mdescRight">Move assign operator(delete) <br /></td></tr>
<tr class="separator:a38f527a3713eb8eb3447bf94f23dd3ab"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4b0850956501700b699f55877bc64071"><td class="memItemLeft" align="right" valign="top"><a id="a4b0850956501700b699f55877bc64071"></a>
&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classkomori_1_1_komoring_heights.html#a4b0850956501700b699f55877bc64071">~KomoringHeights</a> ()=default</td></tr>
<tr class="memdesc:a4b0850956501700b699f55877bc64071"><td class="mdescLeft">&#160;</td><td class="mdescRight">Destructor(default) <br /></td></tr>
<tr class="separator:a4b0850956501700b699f55877bc64071"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7089c0f02e512e56c84d9e36b0dc2cf2"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classkomori_1_1_komoring_heights.html#a7089c0f02e512e56c84d9e36b0dc2cf2">Init</a> (const <a class="el" href="structkomori_1_1_engine_option.html">EngineOption</a> &amp;option, Thread *thread)</td></tr>
<tr class="memdesc:a7089c0f02e512e56c84d9e36b0dc2cf2"><td class="mdescLeft">&#160;</td><td class="mdescRight">エンジンを初期化する  <a href="classkomori_1_1_komoring_heights.html#a7089c0f02e512e56c84d9e36b0dc2cf2">More...</a><br /></td></tr>
<tr class="separator:a7089c0f02e512e56c84d9e36b0dc2cf2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0bfd75cce087f94880f136cc75e2740f"><td class="memItemLeft" align="right" valign="top"><a id="a0bfd75cce087f94880f136cc75e2740f"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classkomori_1_1_komoring_heights.html#a0bfd75cce087f94880f136cc75e2740f">Clear</a> ()</td></tr>
<tr class="memdesc:a0bfd75cce087f94880f136cc75e2740f"><td class="mdescLeft">&#160;</td><td class="mdescRight">置換表の内容をすべて削除する。ベンチマーク用。 <br /></td></tr>
<tr class="separator:a0bfd75cce087f94880f136cc75e2740f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a55bed6ec6a94e2352f53659a549f704d"><td class="memItemLeft" align="right" valign="top"><a id="a55bed6ec6a94e2352f53659a549f704d"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classkomori_1_1_komoring_heights.html#a55bed6ec6a94e2352f53659a549f704d">SetStop</a> ()</td></tr>
<tr class="memdesc:a55bed6ec6a94e2352f53659a549f704d"><td class="mdescLeft">&#160;</td><td class="mdescRight">探索を今すぐやめさせる <br /></td></tr>
<tr class="separator:a55bed6ec6a94e2352f53659a549f704d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1d9a0ea6a3fba7d5afff2dae6136545d"><td class="memItemLeft" align="right" valign="top"><a id="a1d9a0ea6a3fba7d5afff2dae6136545d"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classkomori_1_1_komoring_heights.html#a1d9a0ea6a3fba7d5afff2dae6136545d">ResetStop</a> ()</td></tr>
<tr class="memdesc:a1d9a0ea6a3fba7d5afff2dae6136545d"><td class="mdescLeft">&#160;</td><td class="mdescRight">探索可能な状態にする <br /></td></tr>
<tr class="separator:a1d9a0ea6a3fba7d5afff2dae6136545d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae53909f94a72dbea7ba3289eb6c7c3b7"><td class="memItemLeft" align="right" valign="top"><a id="ae53909f94a72dbea7ba3289eb6c7c3b7"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classkomori_1_1_komoring_heights.html#ae53909f94a72dbea7ba3289eb6c7c3b7">RequestPrint</a> ()</td></tr>
<tr class="memdesc:ae53909f94a72dbea7ba3289eb6c7c3b7"><td class="mdescLeft">&#160;</td><td class="mdescRight">探索情報の出力を要請する <br /></td></tr>
<tr class="separator:ae53909f94a72dbea7ba3289eb6c7c3b7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1716f99cbc6053f69973929c21bdd83f"><td class="memItemLeft" align="right" valign="top"><a id="a1716f99cbc6053f69973929c21bdd83f"></a>
<a class="el" href="classkomori_1_1_usi_info.html">UsiInfo</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classkomori_1_1_komoring_heights.html#a1716f99cbc6053f69973929c21bdd83f">CurrentInfo</a> () const</td></tr>
<tr class="memdesc:a1716f99cbc6053f69973929c21bdd83f"><td class="mdescLeft">&#160;</td><td class="mdescRight">現在の探索情報を取得する <br /></td></tr>
<tr class="separator:a1716f99cbc6053f69973929c21bdd83f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac8606e609eecf83f3274f6e3d04e4bf8"><td class="memItemLeft" align="right" valign="top">const std::vector&lt; Move &gt; &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classkomori_1_1_komoring_heights.html#ac8606e609eecf83f3274f6e3d04e4bf8">BestMoves</a> () const</td></tr>
<tr class="memdesc:ac8606e609eecf83f3274f6e3d04e4bf8"><td class="mdescLeft">&#160;</td><td class="mdescRight">詰み手順を取得する  <a href="classkomori_1_1_komoring_heights.html#ac8606e609eecf83f3274f6e3d04e4bf8">More...</a><br /></td></tr>
<tr class="separator:ac8606e609eecf83f3274f6e3d04e4bf8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a46ca7753e4ed402263f06e9bab0dd832"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespacekomori.html#ada1a4eeb6080f15a12a946bf93ff7488">NodeState</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classkomori_1_1_komoring_heights.html#a46ca7753e4ed402263f06e9bab0dd832">Search</a> (const Position &amp;n, bool is_root_or_node)</td></tr>
<tr class="memdesc:a46ca7753e4ed402263f06e9bab0dd832"><td class="mdescLeft">&#160;</td><td class="mdescRight">詰め探索を行う。（探索本体）  <a href="classkomori_1_1_komoring_heights.html#a46ca7753e4ed402263f06e9bab0dd832">More...</a><br /></td></tr>
<tr class="separator:a46ca7753e4ed402263f06e9bab0dd832"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-methods"></a>
Private Member Functions</h2></td></tr>
<tr class="memitem:adfb4b9e964208439548db90325b90c80"><td class="memItemLeft" align="right" valign="top">std::pair&lt; <a class="el" href="namespacekomori.html#ada1a4eeb6080f15a12a946bf93ff7488">NodeState</a>, <a class="el" href="namespacekomori.html#af2c3856a7c53116227693f8dcca64199">MateLen</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classkomori_1_1_komoring_heights.html#adfb4b9e964208439548db90325b90c80">SearchMainLoop</a> (<a class="el" href="classkomori_1_1_node.html">Node</a> &amp;n)</td></tr>
<tr class="memdesc:adfb4b9e964208439548db90325b90c80"><td class="mdescLeft">&#160;</td><td class="mdescRight">詰み手順を探す  <a href="classkomori_1_1_komoring_heights.html#adfb4b9e964208439548db90325b90c80">More...</a><br /></td></tr>
<tr class="separator:adfb4b9e964208439548db90325b90c80"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1d0e3beed5538993268bab3b4b4271f9"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classkomori_1_1_search_result.html">SearchResult</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classkomori_1_1_komoring_heights.html#a1d0e3beed5538993268bab3b4b4271f9">SearchEntry</a> (<a class="el" href="classkomori_1_1_node.html">Node</a> &amp;n, <a class="el" href="namespacekomori.html#af2c3856a7c53116227693f8dcca64199">MateLen</a> len)</td></tr>
<tr class="memdesc:a1d0e3beed5538993268bab3b4b4271f9"><td class="mdescLeft">&#160;</td><td class="mdescRight"><code>n</code> が <code>len</code> 手以下で詰むかを探索する  <a href="classkomori_1_1_komoring_heights.html#a1d0e3beed5538993268bab3b4b4271f9">More...</a><br /></td></tr>
<tr class="separator:a1d0e3beed5538993268bab3b4b4271f9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae18eeb5dea2a27dbfa7ed60939556170"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classkomori_1_1_search_result.html">SearchResult</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classkomori_1_1_komoring_heights.html#ae18eeb5dea2a27dbfa7ed60939556170">SearchImpl</a> (<a class="el" href="classkomori_1_1_node.html">Node</a> &amp;n, <a class="el" href="namespacekomori.html#ae2b179f7c8adb463807f13c9d73ec34a">PnDn</a> thpn, <a class="el" href="namespacekomori.html#ae2b179f7c8adb463807f13c9d73ec34a">PnDn</a> thdn, <a class="el" href="namespacekomori.html#af2c3856a7c53116227693f8dcca64199">MateLen</a> len, std::uint32_t &amp;inc_flag)</td></tr>
<tr class="memdesc:ae18eeb5dea2a27dbfa7ed60939556170"><td class="mdescLeft">&#160;</td><td class="mdescRight">詰め探索の本体。（再帰関数）  <a href="classkomori_1_1_komoring_heights.html#ae18eeb5dea2a27dbfa7ed60939556170">More...</a><br /></td></tr>
<tr class="separator:ae18eeb5dea2a27dbfa7ed60939556170"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afbbb83a9dab145498fae3e4ae05f0793"><td class="memItemLeft" align="right" valign="top">std::vector&lt; Move &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classkomori_1_1_komoring_heights.html#afbbb83a9dab145498fae3e4ae05f0793">GetMatePath</a> (<a class="el" href="classkomori_1_1_node.html">Node</a> &amp;n, <a class="el" href="namespacekomori.html#af2c3856a7c53116227693f8dcca64199">MateLen</a> len)</td></tr>
<tr class="memdesc:afbbb83a9dab145498fae3e4ae05f0793"><td class="mdescLeft">&#160;</td><td class="mdescRight">現時点の探索結果から詰め手順を取得する  <a href="classkomori_1_1_komoring_heights.html#afbbb83a9dab145498fae3e4ae05f0793">More...</a><br /></td></tr>
<tr class="separator:afbbb83a9dab145498fae3e4ae05f0793"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a67fdaf96d072661775e5997bb9440dc7"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classkomori_1_1_komoring_heights.html#a67fdaf96d072661775e5997bb9440dc7">PrintIfNeeded</a> (const <a class="el" href="classkomori_1_1_node.html">Node</a> &amp;n)</td></tr>
<tr class="memdesc:a67fdaf96d072661775e5997bb9440dc7"><td class="mdescLeft">&#160;</td><td class="mdescRight"><code>print_flag_</code> が立っていたら off にした上で探索情報を出力する  <a href="classkomori_1_1_komoring_heights.html#a67fdaf96d072661775e5997bb9440dc7">More...</a><br /></td></tr>
<tr class="separator:a67fdaf96d072661775e5997bb9440dc7"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-attribs"></a>
Private Attributes</h2></td></tr>
<tr class="memitem:a2eb40980781c686a6872134c50ac44c1"><td class="memItemLeft" align="right" valign="top"><a id="a2eb40980781c686a6872134c50ac44c1"></a>
<a class="el" href="namespacekomori_1_1tt.html#ab367c034eba59afd3939578f638b0ffb">tt::TranspositionTable</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classkomori_1_1_komoring_heights.html#a2eb40980781c686a6872134c50ac44c1">tt_</a></td></tr>
<tr class="memdesc:a2eb40980781c686a6872134c50ac44c1"><td class="mdescLeft">&#160;</td><td class="mdescRight">置換表 <br /></td></tr>
<tr class="separator:a2eb40980781c686a6872134c50ac44c1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a415304d73d4e58f2472b239cb4f803a2"><td class="memItemLeft" align="right" valign="top"><a id="a415304d73d4e58f2472b239cb4f803a2"></a>
<a class="el" href="structkomori_1_1_engine_option.html">EngineOption</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classkomori_1_1_komoring_heights.html#a415304d73d4e58f2472b239cb4f803a2">option_</a></td></tr>
<tr class="memdesc:a415304d73d4e58f2472b239cb4f803a2"><td class="mdescLeft">&#160;</td><td class="mdescRight">エンジンオプション <br /></td></tr>
<tr class="separator:a415304d73d4e58f2472b239cb4f803a2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1cfb337fe0d012dcde89d7e12df67306"><td class="memItemLeft" align="right" valign="top"><a id="a1cfb337fe0d012dcde89d7e12df67306"></a>
<a class="el" href="classkomori_1_1detail_1_1_search_monitor.html">detail::SearchMonitor</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classkomori_1_1_komoring_heights.html#a1cfb337fe0d012dcde89d7e12df67306">monitor_</a></td></tr>
<tr class="memdesc:a1cfb337fe0d012dcde89d7e12df67306"><td class="mdescLeft">&#160;</td><td class="mdescRight">探索モニター <br /></td></tr>
<tr class="separator:a1cfb337fe0d012dcde89d7e12df67306"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6802a2115e6b29d1cbf6d18c380b5f36"><td class="memItemLeft" align="right" valign="top"><a id="a6802a2115e6b29d1cbf6d18c380b5f36"></a>
<a class="el" href="classkomori_1_1_score.html">Score</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classkomori_1_1_komoring_heights.html#a6802a2115e6b29d1cbf6d18c380b5f36">score_</a> {}</td></tr>
<tr class="memdesc:a6802a2115e6b29d1cbf6d18c380b5f36"><td class="mdescLeft">&#160;</td><td class="mdescRight">現時点の評価値 <br /></td></tr>
<tr class="separator:a6802a2115e6b29d1cbf6d18c380b5f36"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a819aa87166797e3692709f3c0b9b9862"><td class="memItemLeft" align="right" valign="top"><a id="a819aa87166797e3692709f3c0b9b9862"></a>
std::atomic_bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classkomori_1_1_komoring_heights.html#a819aa87166797e3692709f3c0b9b9862">print_flag_</a> {false}</td></tr>
<tr class="memdesc:a819aa87166797e3692709f3c0b9b9862"><td class="mdescLeft">&#160;</td><td class="mdescRight">標準出力フラグ <br /></td></tr>
<tr class="separator:a819aa87166797e3692709f3c0b9b9862"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae8e5b63d79c00770185b1e4a01c8256c"><td class="memItemLeft" align="right" valign="top"><a id="ae8e5b63d79c00770185b1e4a01c8256c"></a>
std::vector&lt; Move &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classkomori_1_1_komoring_heights.html#ae8e5b63d79c00770185b1e4a01c8256c">best_moves_</a></td></tr>
<tr class="memdesc:ae8e5b63d79c00770185b1e4a01c8256c"><td class="mdescLeft">&#160;</td><td class="mdescRight">詰み手順 <br /></td></tr>
<tr class="separator:ae8e5b63d79c00770185b1e4a01c8256c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa1165459160dc3b30bd465b483acfcca"><td class="memItemLeft" align="right" valign="top"><a id="aa1165459160dc3b30bd465b483acfcca"></a>
<a class="el" href="classkomori_1_1_expansion_stack.html">ExpansionStack</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classkomori_1_1_komoring_heights.html#aa1165459160dc3b30bd465b483acfcca">expansion_list_</a> {}</td></tr>
<tr class="memdesc:aa1165459160dc3b30bd465b483acfcca"><td class="mdescLeft">&#160;</td><td class="mdescRight">局面展開のための一時領域 <br /></td></tr>
<tr class="separator:aa1165459160dc3b30bd465b483acfcca"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>詰将棋探索の本体 </p>

<p class="definition">Definition at line <a class="el" href="komoring__heights_8hpp_source.html#l00090">90</a> of file <a class="el" href="komoring__heights_8hpp_source.html">komoring_heights.hpp</a>.</p>
</div><h2 class="groupheader">Member Function Documentation</h2>
<a id="ac8606e609eecf83f3274f6e3d04e4bf8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac8606e609eecf83f3274f6e3d04e4bf8">&#9670;&nbsp;</a></span>BestMoves()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const std::vector&lt;Move&gt;&amp; komori::KomoringHeights::BestMoves </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>詰み手順を取得する </p>
<dl class="section pre"><dt>Precondition</dt><dd><a class="el" href="classkomori_1_1_komoring_heights.html#a46ca7753e4ed402263f06e9bab0dd832" title="詰め探索を行う。（探索本体）">Search()</a> の戻り値が <code><a class="el" href="namespacekomori.html#ada1a4eeb6080f15a12a946bf93ff7488a91941e19d11188fa06c946a61bef1d7d" title="詰み">NodeState::kProven</a></code> </dd></dl>
<dl class="section return"><dt>Returns</dt><dd>詰み手順 </dd></dl>

<p class="definition">Definition at line <a class="el" href="komoring__heights_8hpp_source.html#l00127">127</a> of file <a class="el" href="komoring__heights_8hpp_source.html">komoring_heights.hpp</a>.</p>

</div>
</div>
<a id="afbbb83a9dab145498fae3e4ae05f0793"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afbbb83a9dab145498fae3e4ae05f0793">&#9670;&nbsp;</a></span>GetMatePath()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt; Move &gt; komori::KomoringHeights::GetMatePath </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classkomori_1_1_node.html">Node</a> &amp;&#160;</td>
          <td class="paramname"><em>n</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespacekomori.html#af2c3856a7c53116227693f8dcca64199">MateLen</a>&#160;</td>
          <td class="paramname"><em>len</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>現時点の探索結果から詰め手順を取得する </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">n</td><td>現局面 </td></tr>
    <tr><td class="paramname">len</td><td>詰み手数の上限値 </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>詰み手順 </dd></dl>

<p class="definition">Definition at line <a class="el" href="komoring__heights_8cpp_source.html#l00353">353</a> of file <a class="el" href="komoring__heights_8cpp_source.html">komoring_heights.cpp</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classkomori_1_1_komoring_heights_afbbb83a9dab145498fae3e4ae05f0793_cgraph.png" border="0" usemap="#aclasskomori_1_1_komoring_heights_afbbb83a9dab145498fae3e4ae05f0793_cgraph" alt=""/></div>
<map name="aclasskomori_1_1_komoring_heights_afbbb83a9dab145498fae3e4ae05f0793_cgraph" id="aclasskomori_1_1_komoring_heights_afbbb83a9dab145498fae3e4ae05f0793_cgraph">
<area shape="rect" title="現時点の探索結果から詰め手順を取得する" alt="" coords="5,478,192,519"/>
<area shape="rect" href="namespacekomori.html#af60b97ffafc4e100347e046e86ef02ac" title="(OR node限定) n が 1 手詰かどうか判定する。" alt="" coords="539,281,715,308"/>
<area shape="rect" href="classkomori_1_1_node.html#a082d5d0045420c8978206fda2b518e17" title="move で1手進める" alt="" coords="801,231,971,257"/>
<area shape="rect" href="classkomori_1_1detail_1_1_mate_len_impl.html#ab53b046400e9408fdc8c744f56e09e27" title="詰み手数を返す" alt="" coords="240,719,476,745"/>
<area shape="rect" href="classkomori_1_1tt_1_1detail_1_1_transposition_table_impl.html#a60ba9bb9c00c85a2475c98b256ab1051" title="新しい探索を始める" alt="" coords="269,1112,447,1168"/>
<area shape="rect" href="namespacekomori.html#a13b1a743c345f921833c153fd537a50d" title="局面 n から moves で手を一気に戻す。n に対し、moves の後ろから順に n.UndoMove(m) を適用する。" alt="" coords="292,463,424,489"/>
<area shape="rect" href="classkomori_1_1_komoring_heights.html#a1d0e3beed5538993268bab3b4b4271f9" title="n が len 手以下で詰むかを探索する" alt="" coords="265,653,451,694"/>
<area shape="rect" href="namespacekomori.html#ace83f8e2ffff818bd25b6def2e075904" title="move 後の手駒が after_hand のとき、移動前の持ち駒を返す" alt="" coords="810,180,962,207"/>
<area shape="rect" href="classkomori_1_1_node.html#a485678f91b4653d87fcf5ee6071351de" title="このクラスが保持する Position への参照" alt="" coords="1339,340,1479,367"/>
<area shape="rect" href="classkomori_1_1_node.html#aad7fe2734b150a1d9645ea72e2fdda83" title="DoMove() で勧めた局面を元に戻す" alt="" coords="793,332,979,359"/>
<area shape="rect" href="classkomori_1_1_node.html#afc3ff609d7a14aae03aab36317148f63" title="現在の盤面ハッシュ値" alt="" coords="1058,239,1237,265"/>
<area shape="rect" href="classkomori_1_1_node.html#a2c10b9d22f4966f51b47495088f4fd4b" title="現在の攻め方の持ち駒" alt="" coords="1064,441,1231,468"/>
<area shape="rect" href="classkomori_1_1_node.html#a6dfeb2e63ce33d5b9043010cbb8428c3" title="move 後の経路ハッシュ値" alt="" coords="1047,5,1247,32"/>
<area shape="rect" href="classkomori_1_1_visit_history.html#a3ba89e53fbe90e03b07b2c68eea98334" title="(board_key, hand) を履歴に登録する" alt="" coords="1072,57,1223,98"/>
<area shape="rect" href="namespacekomori.html#ae0ab7ef1101897b620e05208fc8975ee" title="現在の path_key と手 move から1手後の path_key を計算する。" alt="" coords="1329,5,1488,32"/>
<area shape="rect" href="classkomori_1_1_visit_history.html#a62769876f5547de5b474300c666cea8a" title="index の次のインデックスを求める" alt="" coords="1333,122,1484,163"/>
<area shape="rect" href="classkomori_1_1_visit_history.html#ab3ed82ca4c526f4f34c90c9277ba7d5b" title="board_key に対する探索開始インデックスを求める" alt="" coords="1333,57,1484,98"/>
<area shape="rect" href="classkomori_1_1_visit_history.html#a3af0755f672c9b15c72253aebc682aa5" title="(board_key, hand) を履歴から消す" alt="" coords="1072,122,1223,163"/>
<area shape="rect" href="classkomori_1_1_node.html#a7f1c13d7f57b6af7f34ac77240342d71" title="move 直前の経路ハッシュ値" alt="" coords="1041,391,1253,417"/>
<area shape="rect" href="classkomori_1_1tt_1_1_repetition_table.html#a1cf06ccf4ee8c44a6f965ec43f21185a" title="置換表に保存された経路ハッシュ値をすべて削除する。" alt="" coords="530,1483,725,1525"/>
<area shape="rect" href="classkomori_1_1tt_1_1detail_1_1_transposition_table_impl.html#a96c4e38870490176e0053914a17c908c" title="局面 n のエントリを読み書きするためのクエリを返す" alt="" coords="797,551,975,607"/>
<area shape="rect" href="namespacekomori.html#a177c33b9356030cab989f275b6fd6ea4" title="pn/dn の値を [min, max] の範囲に収まるように丸める。" alt="" coords="552,1007,703,1033"/>
<area shape="rect" href="classkomori_1_1_komoring_heights.html#a1716f99cbc6053f69973929c21bdd83f" title="現在の探索情報を取得する" alt="" coords="1054,1370,1241,1411"/>
<area shape="rect" href="classkomori_1_1_expansion_stack.html#a9d4c5f980014a30b3a8cbb44f301c3fd" title="スタックの先頭に LocalExpansion オブジェクトを構築する。" alt="" coords="797,434,975,475"/>
<area shape="rect" href="classkomori_1_1_node.html#ad8aec0a7fdeb5376090cd1e5c3a833a2" title="開始局面が OR Node かどうか" alt="" coords="524,681,731,708"/>
<area shape="rect" href="classkomori_1_1_score.html#abde38682068f6f88a2a014aec7efb8bf" title="Score オブジェクトを構築する。" alt="" coords="550,388,705,415"/>
<area shape="rect" href="classkomori_1_1_expansion_stack.html#a4f790082fd98aae8613d2432881196bd" title="スタック先頭の LocalExpansion オブジェクトを開放する。" alt="" coords="781,732,991,759"/>
<area shape="rect" href="classkomori_1_1_komoring_heights.html#ae18eeb5dea2a27dbfa7ed60939556170" title="詰め探索の本体。（再帰関数）" alt="" coords="534,941,721,982"/>
<area shape="rect" href="classkomori_1_1detail_1_1_search_monitor.html#a8732d41a7d1f887a7059a511c0f0574a" title="今すぐ探索をやめるべきなら true" alt="" coords="779,1538,993,1579"/>
<area shape="rect" href="classkomori_1_1tt_1_1_query.html#add5f4c6c79b8cf305918bd62683a0078" title="探索結果 result を置換表に書き込む" alt="" coords="558,615,697,657"/>
<area shape="rect" href="classkomori_1_1_node.html#a19fbde5adf6e542e61f6c620df5b4d16" title="現在の探索深さ" alt="" coords="1058,733,1237,760"/>
<area shape="rect" href="classkomori_1_1_node.html#a4181d9d06d60b7f11701b8add6a2e69f" title="現在の経路ハッシュ値" alt="" coords="1051,507,1243,533"/>
<area shape="rect" href="classkomori_1_1tt_1_1_regular_table.html#aa6ac86c8e1152cbe7a18e8d81a55fcef" title="board_key に対応する循環領域へのポインタを取得する" alt="" coords="1059,609,1236,650"/>
<area shape="rect" href="classkomori_1_1detail_1_1_search_monitor.html#a5c89cae7c5c90289bf237ec54e775762" title="現在の探索情報を UsiInfo に詰めて返す。" alt="" coords="1301,1399,1516,1441"/>
<area shape="rect" href="classkomori_1_1_usi_info.html#a0168968e66135ba7225030c489243e57" title="key に val を設定する。" alt="" coords="1596,1352,1747,1379"/>
<area shape="rect" href="classkomori_1_1tt_1_1detail_1_1_transposition_table_impl.html#a4179ad57f2d4a73ece89f9c380a7751a" title="置換表使用率（千分率）を計算する" alt="" coords="1319,1217,1498,1273"/>
<area shape="rect" href="classkomori_1_1_score.html#a8d4d0c6ccf9d41846b8ebe16be1f7faa" title="現在の評価値を USI 文字列で返す" alt="" coords="1323,1348,1494,1375"/>
<area shape="rect" href="classkomori_1_1detail_1_1_search_monitor.html#afc31d019620df41e7762e5bc9a1d0133" title="現在の探索局面数" alt="" coords="1564,1497,1779,1538"/>
<area shape="rect" href="classkomori_1_1_node.html#a4340f73789f45570ffe593fc9d0aafa9" title="現在 OR node かどうか" alt="" coords="797,631,975,657"/>
<area shape="rect" href="classkomori_1_1_score.html#a992a9272df730122ff52335e7ef339d1" title="デフォルトコンストラクタ" alt="" coords="809,383,963,409"/>
<area shape="rect" href="classkomori_1_1tt_1_1detail_1_1_transposition_table_impl.html#a03fe64f10c6759a3d546410a9a5dd97c" title="ガベージコレクションを実行する" alt="" coords="797,900,975,956"/>
<area shape="rect" href="classkomori_1_1_expansion_stack.html#ae7188bab1b61788cc1cafe1e73384c26" title="スタック先頭要素を返す。" alt="" coords="1058,1027,1237,1069"/>
<area shape="rect" href="classkomori_1_1_search_result.html#af8b976b730b126e74a8c062f275444e9" title="dn" alt="" coords="793,1031,979,1057"/>
<area shape="rect" href="classkomori_1_1_expansion_stack.html#ad1bb984f52e71df980b5a105b41f71f2" title="現局面が終点となるの二重カウント解消を試みる" alt="" coords="797,1082,975,1123"/>
<area shape="rect" href="classkomori_1_1_search_result.html#a0d81252fa8281a46c86b05b609434429" title="千日手の探索結果で初期化する" alt="" coords="806,1147,966,1189"/>
<area shape="rect" href="classkomori_1_1_search_result.html#a87047b35fcd4a5b7be3b7ee76d8b740c" title="pn" alt="" coords="794,1213,978,1240"/>
<area shape="rect" href="classkomori_1_1_komoring_heights.html#a67fdaf96d072661775e5997bb9440dc7" title="print_flag_ が立っていたら off にした上で探索情報を出力する" alt="" coords="793,834,979,875"/>
<area shape="rect" href="classkomori_1_1detail_1_1_search_monitor.html#a4a738a1ed6f0aa22ce3d594c46f40c9c" title="次回の置換表使用率チェックタイミングを更新する" alt="" coords="1301,1530,1516,1571"/>
<area shape="rect" href="classkomori_1_1detail_1_1_search_monitor.html#a769465e6930f15973ab17ac204b1bfe8" title="今すぐ置換表使用率をチェックすべきなら true" alt="" coords="1301,1465,1516,1506"/>
<area shape="rect" href="classkomori_1_1detail_1_1_search_monitor.html#a0272905cf2ad091e3cf9f25d2f727cf5" title="深さ depth の局面に訪れたことを報告する" alt="" coords="779,1265,993,1306"/>
</map>
</div>

</div>
</div>
<a id="a7089c0f02e512e56c84d9e36b0dc2cf2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7089c0f02e512e56c84d9e36b0dc2cf2">&#9670;&nbsp;</a></span>Init()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void komori::KomoringHeights::Init </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structkomori_1_1_engine_option.html">EngineOption</a> &amp;&#160;</td>
          <td class="paramname"><em>option</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Thread *&#160;</td>
          <td class="paramname"><em>thread</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>エンジンを初期化する </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">option</td><td>探索オプション </td></tr>
    <tr><td class="paramname">thread</td><td>探索スレッド </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="komoring__heights_8cpp_source.html#l00104">104</a> of file <a class="el" href="komoring__heights_8cpp_source.html">komoring_heights.cpp</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classkomori_1_1_komoring_heights_a7089c0f02e512e56c84d9e36b0dc2cf2_cgraph.png" border="0" usemap="#aclasskomori_1_1_komoring_heights_a7089c0f02e512e56c84d9e36b0dc2cf2_cgraph" alt=""/></div>
<map name="aclasskomori_1_1_komoring_heights_a7089c0f02e512e56c84d9e36b0dc2cf2_cgraph" id="aclasskomori_1_1_komoring_heights_a7089c0f02e512e56c84d9e36b0dc2cf2_cgraph">
<area shape="rect" title="エンジンを初期化する" alt="" coords="5,143,192,184"/>
<area shape="rect" href="classkomori_1_1tt_1_1detail_1_1_transposition_table_impl.html#a38165a8d6b382f5b9454f51c717c90cd" title="バイナリ入力ストリーム in から置換表エントリを読み込む。" alt="" coords="240,69,459,111"/>
<area shape="rect" href="classkomori_1_1tt_1_1detail_1_1_transposition_table_impl.html#a315463f0ac29c325849d661a15cdc167" title="置換表サイズを hash_size_mb に変更し、書かれていた内容をすべて消去する。" alt="" coords="260,135,439,191"/>
<area shape="rect" href="classkomori_1_1detail_1_1_search_monitor.html#a5698f10ad45eda3404a3651b61854ca5" title="探索スレッドを渡す（初期化時に1回だけ必要）" alt="" coords="242,216,457,257"/>
<area shape="rect" href="classkomori_1_1tt_1_1_regular_table.html#a58fb5620ad6be47be76f6b33626ba643" title="バイナリ入力ストリーム in から置換表エントリを読み込む。" alt="" coords="515,69,693,111"/>
<area shape="rect" href="classkomori_1_1tt_1_1_entry.html#a5430ffd685eb1bc77cf93af169bfa37f" title="盤面ハッシュ値（コンパクション用）" alt="" coords="779,5,914,47"/>
<area shape="rect" href="classkomori_1_1tt_1_1_regular_table.html#aa6ac86c8e1152cbe7a18e8d81a55fcef" title="board_key に対応する循環領域へのポインタを取得する" alt="" coords="758,71,935,112"/>
<area shape="rect" href="classkomori_1_1tt_1_1_repetition_table.html#a3d0ab73a60dfafe31459ccf8423ca3d7" title="置換表サイズを table_size へ変更する。" alt="" coords="507,139,701,180"/>
<area shape="rect" href="classkomori_1_1tt_1_1_regular_table.html#a25ac332dc05bf44ac45e1e3aecd0a0c7" title="要素数が num_entries 個になるようにメモリの確保・解放を行う" alt="" coords="515,204,693,245"/>
<area shape="rect" href="classkomori_1_1tt_1_1_repetition_table.html#a1cf06ccf4ee8c44a6f965ec43f21185a" title="置換表に保存された経路ハッシュ値をすべて削除する。" alt="" coords="749,139,944,180"/>
<area shape="rect" href="classkomori_1_1tt_1_1_regular_table.html#a0fb34e7a1f84b14f29e014f9bb8b41f6" title="以前の探索結果をすべて消去する。" alt="" coords="758,204,935,245"/>
</map>
</div>

</div>
</div>
<a id="a67fdaf96d072661775e5997bb9440dc7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a67fdaf96d072661775e5997bb9440dc7">&#9670;&nbsp;</a></span>PrintIfNeeded()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void komori::KomoringHeights::PrintIfNeeded </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classkomori_1_1_node.html">Node</a> &amp;&#160;</td>
          <td class="paramname"><em>n</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p><code>print_flag_</code> が立っていたら off にした上で探索情報を出力する </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">n</td><td>現局面 </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="komoring__heights_8cpp_source.html#l00385">385</a> of file <a class="el" href="komoring__heights_8cpp_source.html">komoring_heights.cpp</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classkomori_1_1_komoring_heights_a67fdaf96d072661775e5997bb9440dc7_cgraph.png" border="0" usemap="#aclasskomori_1_1_komoring_heights_a67fdaf96d072661775e5997bb9440dc7_cgraph" alt=""/></div>
<map name="aclasskomori_1_1_komoring_heights_a67fdaf96d072661775e5997bb9440dc7_cgraph" id="aclasskomori_1_1_komoring_heights_a67fdaf96d072661775e5997bb9440dc7_cgraph">
<area shape="rect" title="print_flag_ が立っていたら off にした上で探索情報を出力する" alt="" coords="5,188,192,229"/>
<area shape="rect" href="classkomori_1_1_komoring_heights.html#a1716f99cbc6053f69973929c21bdd83f" title="現在の探索情報を取得する" alt="" coords="240,129,427,171"/>
<area shape="rect" href="classkomori_1_1_node.html#a19fbde5adf6e542e61f6c620df5b4d16" title="現在の探索深さ" alt="" coords="244,195,423,222"/>
<area shape="rect" href="classkomori_1_1_score.html#a41335f6ec3462b65044abc2e39f845bc" title="評価値が詰み／不詰かどうか。" alt="" coords="253,246,414,273"/>
<area shape="rect" href="classkomori_1_1_node.html#a485678f91b4653d87fcf5ee6071351de" title="このクラスが保持する Position への参照" alt="" coords="263,297,403,323"/>
<area shape="rect" href="classkomori_1_1detail_1_1_search_monitor.html#ab4df88051b4354971147ea25055e64f1" title="探索局面数を観測する。nps を正しく計算するためには定期的に呼び出しが必要。" alt="" coords="475,5,689,47"/>
<area shape="rect" href="classkomori_1_1detail_1_1_search_monitor.html#a5c89cae7c5c90289bf237ec54e775762" title="現在の探索情報を UsiInfo に詰めて返す。" alt="" coords="475,71,689,112"/>
<area shape="rect" href="classkomori_1_1_usi_info.html#a0168968e66135ba7225030c489243e57" title="key に val を設定する。" alt="" coords="769,94,920,121"/>
<area shape="rect" href="classkomori_1_1tt_1_1detail_1_1_transposition_table_impl.html#a4179ad57f2d4a73ece89f9c380a7751a" title="置換表使用率（千分率）を計算する" alt="" coords="493,187,671,243"/>
<area shape="rect" href="classkomori_1_1_score.html#a8d4d0c6ccf9d41846b8ebe16be1f7faa" title="現在の評価値を USI 文字列で返す" alt="" coords="497,267,667,294"/>
<area shape="rect" href="classkomori_1_1detail_1_1_search_monitor.html#afc31d019620df41e7762e5bc9a1d0133" title="現在の探索局面数" alt="" coords="737,25,952,67"/>
<area shape="rect" href="classkomori_1_1_usi_info.html#ac6b39b3ffe4360857101ab18c44ffffe" title="設定済のオプションの中に key が含まれているかどうか判定する。" alt="" coords="1000,94,1155,121"/>
<area shape="rect" href="classkomori_1_1tt_1_1_regular_table.html#a9d2dd0f37b92f3af3f34b3b412a5c8a8" title="通常テーブルのメモリ使用率を見積もる。" alt="" coords="756,177,933,219"/>
<area shape="rect" href="classkomori_1_1tt_1_1_repetition_table.html#a164c681a2c3ac0b306e8807d2d6014cd" title="置換表のメモリ使用率を求める。" alt="" coords="747,243,942,284"/>
</map>
</div>

</div>
</div>
<a id="a46ca7753e4ed402263f06e9bab0dd832"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a46ca7753e4ed402263f06e9bab0dd832">&#9670;&nbsp;</a></span>Search()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespacekomori.html#ada1a4eeb6080f15a12a946bf93ff7488">NodeState</a> komori::KomoringHeights::Search </td>
          <td>(</td>
          <td class="paramtype">const Position &amp;&#160;</td>
          <td class="paramname"><em>n</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>is_root_or_node</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>詰め探索を行う。（探索本体） </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">n</td><td>現局面 </td></tr>
    <tr><td class="paramname">is_root_or_node</td><td><code>n</code> が OR node かどうか </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>探索結果 </dd></dl>

<p class="definition">Definition at line <a class="el" href="komoring__heights_8cpp_source.html#l00133">133</a> of file <a class="el" href="komoring__heights_8cpp_source.html">komoring_heights.cpp</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classkomori_1_1_komoring_heights_a46ca7753e4ed402263f06e9bab0dd832_cgraph.png" border="0" usemap="#aclasskomori_1_1_komoring_heights_a46ca7753e4ed402263f06e9bab0dd832_cgraph" alt=""/></div>
<map name="aclasskomori_1_1_komoring_heights_a46ca7753e4ed402263f06e9bab0dd832_cgraph" id="aclasskomori_1_1_komoring_heights_a46ca7753e4ed402263f06e9bab0dd832_cgraph">
<area shape="rect" title="詰め探索を行う。（探索本体）" alt="" coords="5,918,192,959"/>
<area shape="rect" href="classkomori_1_1tt_1_1detail_1_1_transposition_table_impl.html#a153f8d7584e9c0cb08d8d3f6cf011cb3" title="置換表に保存可能な要素数の概算値を取得する。" alt="" coords="260,484,439,540"/>
<area shape="rect" href="classkomori_1_1tt_1_1detail_1_1_transposition_table_impl.html#a03fe64f10c6759a3d546410a9a5dd97c" title="ガベージコレクションを実行する" alt="" coords="1298,813,1477,869"/>
<area shape="rect" href="classkomori_1_1tt_1_1detail_1_1_transposition_table_impl.html#a4179ad57f2d4a73ece89f9c380a7751a" title="置換表使用率（千分率）を計算する" alt="" coords="1298,944,1477,1000"/>
<area shape="rect" href="classkomori_1_1tt_1_1detail_1_1_transposition_table_impl.html#a60ba9bb9c00c85a2475c98b256ab1051" title="新しい探索を始める" alt="" coords="770,1027,949,1083"/>
<area shape="rect" href="classkomori_1_1detail_1_1_search_monitor.html#af8c6ac2429ca88a1646bdc8ba072e5b2" title="変数を初期化して探索を開始する。" alt="" coords="242,1101,457,1142"/>
<area shape="rect" href="classkomori_1_1tt_1_1detail_1_1_transposition_table_impl.html#a1e58a8adc4d1f758e77aa32caa4b34ba" title="置換表の中身をバイナリ出力ストリーム os へ出力する" alt="" coords="240,1195,459,1237"/>
<area shape="rect" href="classkomori_1_1_komoring_heights.html#adfb4b9e964208439548db90325b90c80" title="詰み手順を探す" alt="" coords="256,699,443,741"/>
<area shape="rect" href="classkomori_1_1tt_1_1_regular_table.html#a95d62200a1d7e2346e4b2678eeec31e7" title="通常テーブルに保存可能な要素数。" alt="" coords="511,373,689,414"/>
<area shape="rect" href="classkomori_1_1tt_1_1_regular_table.html#abc27e107c2b787df207bc94082d05e3e" title="通常テーブルの中で、メモリ使用率が高いエントリを間引く" alt="" coords="1561,679,1739,721"/>
<area shape="rect" href="classkomori_1_1tt_1_1_regular_table.html#afa4c0e9340b321a94d0f21f42fd0ecbb" title="エントリをできるだけ手前の方に移動させる（コンパクション）" alt="" coords="1805,626,1983,667"/>
<area shape="rect" href="classkomori_1_1tt_1_1_regular_table.html#aa6ac86c8e1152cbe7a18e8d81a55fcef" title="board_key に対応する循環領域へのポインタを取得する" alt="" coords="2031,523,2208,565"/>
<area shape="rect" href="classkomori_1_1tt_1_1_regular_table.html#a9d2dd0f37b92f3af3f34b3b412a5c8a8" title="通常テーブルのメモリ使用率を見積もる。" alt="" coords="1561,890,1739,931"/>
<area shape="rect" href="classkomori_1_1tt_1_1_repetition_table.html#a164c681a2c3ac0b306e8807d2d6014cd" title="置換表のメモリ使用率を求める。" alt="" coords="1553,955,1747,997"/>
<area shape="rect" href="classkomori_1_1tt_1_1_repetition_table.html#a1cf06ccf4ee8c44a6f965ec43f21185a" title="置換表に保存された経路ハッシュ値をすべて削除する。" alt="" coords="1031,1042,1226,1083"/>
<area shape="rect" href="classkomori_1_1_circular_array.html#aa62e891f09071eefff29a06498526414" title="全要素をデフォルトコンストラクタで初期化する。" alt="" coords="520,1159,680,1201"/>
<area shape="rect" href="classkomori_1_1detail_1_1_search_monitor.html#a4a738a1ed6f0aa22ce3d594c46f40c9c" title="次回の置換表使用率チェックタイミングを更新する" alt="" coords="1280,1025,1495,1066"/>
<area shape="rect" href="classkomori_1_1detail_1_1_search_monitor.html#afc31d019620df41e7762e5bc9a1d0133" title="現在の探索局面数" alt="" coords="1543,1025,1757,1066"/>
<area shape="rect" href="classkomori_1_1tt_1_1_regular_table.html#ad675f3ae1432dd82b49b1a39b7286766" title="置換表の中身をバイナリ出力ストリーム os へ出力する" alt="" coords="511,1225,689,1266"/>
<area shape="rect" href="classkomori_1_1_komoring_heights.html#a1716f99cbc6053f69973929c21bdd83f" title="現在の探索情報を取得する" alt="" coords="1035,977,1222,1018"/>
<area shape="rect" href="classkomori_1_1_komoring_heights.html#afbbb83a9dab145498fae3e4ae05f0793" title="現時点の探索結果から詰め手順を取得する" alt="" coords="507,583,693,625"/>
<area shape="rect" href="classkomori_1_1_komoring_heights.html#a1d0e3beed5538993268bab3b4b4271f9" title="n が len 手以下で詰むかを探索する" alt="" coords="766,642,953,683"/>
<area shape="rect" href="classkomori_1_1_node.html#ad8aec0a7fdeb5376090cd1e5c3a833a2" title="開始局面が OR Node かどうか" alt="" coords="1025,824,1232,851"/>
<area shape="rect" href="classkomori_1_1_score.html#abde38682068f6f88a2a014aec7efb8bf" title="Score オブジェクトを構築する。" alt="" coords="1051,308,1206,335"/>
<area shape="rect" href="namespacekomori.html#ab4c8398dda0325cc3ecd032c30a01425" title="整数 i に対し、序数（Ordinal Number）の文字列を返す" alt="" coords="513,707,687,733"/>
<area shape="rect" href="classkomori_1_1detail_1_1_search_monitor.html#a5c89cae7c5c90289bf237ec54e775762" title="現在の探索情報を UsiInfo に詰めて返す。" alt="" coords="1280,1090,1495,1131"/>
<area shape="rect" href="classkomori_1_1_usi_info.html#a0168968e66135ba7225030c489243e57" title="key に val を設定する。" alt="" coords="1575,1127,1725,1153"/>
<area shape="rect" href="classkomori_1_1_score.html#a8d4d0c6ccf9d41846b8ebe16be1f7faa" title="現在の評価値を USI 文字列で返す" alt="" coords="1302,1207,1473,1233"/>
<area shape="rect" href="classkomori_1_1_usi_info.html#ac6b39b3ffe4360857101ab18c44ffffe" title="設定済のオプションの中に key が含まれているかどうか判定する。" alt="" coords="1817,1127,1971,1153"/>
<area shape="rect" href="namespacekomori.html#af60b97ffafc4e100347e046e86ef02ac" title="(OR node限定) n が 1 手詰かどうか判定する。" alt="" coords="1041,224,1217,251"/>
<area shape="rect" href="classkomori_1_1_node.html#a082d5d0045420c8978206fda2b518e17" title="move で1手進める" alt="" coords="1302,123,1473,149"/>
<area shape="rect" href="classkomori_1_1detail_1_1_mate_len_impl.html#ab53b046400e9408fdc8c744f56e09e27" title="詰み手数を返す" alt="" coords="741,540,977,567"/>
<area shape="rect" href="namespacekomori.html#a13b1a743c345f921833c153fd537a50d" title="局面 n から moves で手を一気に戻す。n に対し、moves の後ろから順に n.UndoMove(m) を適用する。" alt="" coords="793,591,925,617"/>
<area shape="rect" href="namespacekomori.html#ace83f8e2ffff818bd25b6def2e075904" title="move 後の手駒が after_hand のとき、移動前の持ち駒を返す" alt="" coords="1311,173,1463,200"/>
<area shape="rect" href="classkomori_1_1_node.html#a485678f91b4653d87fcf5ee6071351de" title="このクラスが保持する Position への参照" alt="" coords="1824,249,1964,276"/>
<area shape="rect" href="classkomori_1_1_node.html#aad7fe2734b150a1d9645ea72e2fdda83" title="DoMove() で勧めた局面を元に戻す" alt="" coords="1294,325,1481,352"/>
<area shape="rect" href="classkomori_1_1_node.html#afc3ff609d7a14aae03aab36317148f63" title="現在の盤面ハッシュ値" alt="" coords="1561,173,1739,200"/>
<area shape="rect" href="classkomori_1_1_node.html#a2c10b9d22f4966f51b47495088f4fd4b" title="現在の攻め方の持ち駒" alt="" coords="1567,325,1733,352"/>
<area shape="rect" href="classkomori_1_1_node.html#a6dfeb2e63ce33d5b9043010cbb8428c3" title="move 後の経路ハッシュ値" alt="" coords="1550,5,1750,32"/>
<area shape="rect" href="classkomori_1_1_visit_history.html#a3ba89e53fbe90e03b07b2c68eea98334" title="(board_key, hand) を履歴に登録する" alt="" coords="1575,57,1725,98"/>
<area shape="rect" href="classkomori_1_1tt_1_1detail_1_1_transposition_table_impl.html#a96c4e38870490176e0053914a17c908c" title="局面 n のエントリを読み書きするためのクエリを返す" alt="" coords="1039,409,1218,465"/>
<area shape="rect" href="namespacekomori.html#a177c33b9356030cab989f275b6fd6ea4" title="pn/dn の値を [min, max] の範囲に収まるように丸める。" alt="" coords="1053,591,1204,617"/>
<area shape="rect" href="classkomori_1_1_expansion_stack.html#a9d4c5f980014a30b3a8cbb44f301c3fd" title="スタックの先頭に LocalExpansion オブジェクトを構築する。" alt="" coords="1298,529,1477,570"/>
<area shape="rect" href="classkomori_1_1_expansion_stack.html#a4f790082fd98aae8613d2432881196bd" title="スタック先頭の LocalExpansion オブジェクトを開放する。" alt="" coords="1282,595,1493,621"/>
<area shape="rect" href="classkomori_1_1_komoring_heights.html#ae18eeb5dea2a27dbfa7ed60939556170" title="詰め探索の本体。（再帰関数）" alt="" coords="1035,642,1222,683"/>
<area shape="rect" href="classkomori_1_1detail_1_1_search_monitor.html#a8732d41a7d1f887a7059a511c0f0574a" title="今すぐ探索をやめるべきなら true" alt="" coords="1280,747,1495,789"/>
<area shape="rect" href="classkomori_1_1tt_1_1_query.html#add5f4c6c79b8cf305918bd62683a0078" title="探索結果 result を置換表に書き込む" alt="" coords="1059,707,1198,749"/>
<area shape="rect" href="classkomori_1_1_node.html#a19fbde5adf6e542e61f6c620df5b4d16" title="現在の探索深さ" alt="" coords="1298,645,1477,672"/>
<area shape="rect" href="classkomori_1_1_node.html#a4340f73789f45570ffe593fc9d0aafa9" title="現在 OR node かどうか" alt="" coords="1299,893,1476,920"/>
<area shape="rect" href="classkomori_1_1_score.html#a992a9272df730122ff52335e7ef339d1" title="デフォルトコンストラクタ" alt="" coords="1310,275,1465,301"/>
</map>
</div>

</div>
</div>
<a id="a1d0e3beed5538993268bab3b4b4271f9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1d0e3beed5538993268bab3b4b4271f9">&#9670;&nbsp;</a></span>SearchEntry()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classkomori_1_1_search_result.html">SearchResult</a> komori::KomoringHeights::SearchEntry </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classkomori_1_1_node.html">Node</a> &amp;&#160;</td>
          <td class="paramname"><em>n</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespacekomori.html#af2c3856a7c53116227693f8dcca64199">MateLen</a>&#160;</td>
          <td class="paramname"><em>len</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p><code>n</code> が <code>len</code> 手以下で詰むかを探索する </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">n</td><td>現局面 </td></tr>
    <tr><td class="paramname">len</td><td>詰み手数 </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>探索結果</dd></dl>
<p><code><a class="el" href="classkomori_1_1_komoring_heights.html#ae18eeb5dea2a27dbfa7ed60939556170" title="詰め探索の本体。（再帰関数）">SearchImpl()</a></code> による再帰探索のエントリポイント。しきい値をいい感じに変化させることで探索の途中経過を 標準出力に出しながら探索を進めることができる。 </p>

<p class="definition">Definition at line <a class="el" href="komoring__heights_8cpp_source.html#l00230">230</a> of file <a class="el" href="komoring__heights_8cpp_source.html">komoring_heights.cpp</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classkomori_1_1_komoring_heights_a1d0e3beed5538993268bab3b4b4271f9_cgraph.png" border="0" usemap="#aclasskomori_1_1_komoring_heights_a1d0e3beed5538993268bab3b4b4271f9_cgraph" alt=""/></div>
<map name="aclasskomori_1_1_komoring_heights_a1d0e3beed5538993268bab3b4b4271f9_cgraph" id="aclasskomori_1_1_komoring_heights_a1d0e3beed5538993268bab3b4b4271f9_cgraph">
<area shape="rect" title="n が len 手以下で詰むかを探索する" alt="" coords="5,241,192,282"/>
<area shape="rect" href="classkomori_1_1tt_1_1detail_1_1_transposition_table_impl.html#a96c4e38870490176e0053914a17c908c" title="局面 n のエントリを読み書きするためのクエリを返す" alt="" coords="755,129,934,185"/>
<area shape="rect" href="namespacekomori.html#a177c33b9356030cab989f275b6fd6ea4" title="pn/dn の値を [min, max] の範囲に収まるように丸める。" alt="" coords="258,56,409,83"/>
<area shape="rect" href="classkomori_1_1_komoring_heights.html#a1716f99cbc6053f69973929c21bdd83f" title="現在の探索情報を取得する" alt="" coords="751,1311,938,1353"/>
<area shape="rect" href="classkomori_1_1_expansion_stack.html#a9d4c5f980014a30b3a8cbb44f301c3fd" title="スタックの先頭に LocalExpansion オブジェクトを構築する。" alt="" coords="493,209,671,250"/>
<area shape="rect" href="classkomori_1_1_node.html#ad8aec0a7fdeb5376090cd1e5c3a833a2" title="開始局面が OR Node かどうか" alt="" coords="741,640,948,667"/>
<area shape="rect" href="classkomori_1_1_score.html#abde38682068f6f88a2a014aec7efb8bf" title="Score オブジェクトを構築する。" alt="" coords="256,5,411,32"/>
<area shape="rect" href="classkomori_1_1_expansion_stack.html#a4f790082fd98aae8613d2432881196bd" title="スタック先頭の LocalExpansion オブジェクトを開放する。" alt="" coords="477,275,687,301"/>
<area shape="rect" href="classkomori_1_1_komoring_heights.html#ae18eeb5dea2a27dbfa7ed60939556170" title="詰め探索の本体。（再帰関数）" alt="" coords="240,683,427,725"/>
<area shape="rect" href="classkomori_1_1detail_1_1_search_monitor.html#a8732d41a7d1f887a7059a511c0f0574a" title="今すぐ探索をやめるべきなら true" alt="" coords="475,1230,689,1271"/>
<area shape="rect" href="classkomori_1_1tt_1_1_query.html#add5f4c6c79b8cf305918bd62683a0078" title="探索結果 result を置換表に書き込む" alt="" coords="264,1347,403,1389"/>
<area shape="rect" href="classkomori_1_1_node.html#a19fbde5adf6e542e61f6c620df5b4d16" title="現在の探索深さ" alt="" coords="1018,784,1197,811"/>
<area shape="rect" href="classkomori_1_1_node.html#a4181d9d06d60b7f11701b8add6a2e69f" title="現在の経路ハッシュ値" alt="" coords="1011,65,1203,92"/>
<area shape="rect" href="classkomori_1_1_node.html#a2c10b9d22f4966f51b47495088f4fd4b" title="現在の攻め方の持ち駒" alt="" coords="1024,229,1191,256"/>
<area shape="rect" href="classkomori_1_1_node.html#a485678f91b4653d87fcf5ee6071351de" title="このクラスが保持する Position への参照" alt="" coords="1533,515,1673,541"/>
<area shape="rect" href="classkomori_1_1tt_1_1_regular_table.html#aa6ac86c8e1152cbe7a18e8d81a55fcef" title="board_key に対応する循環領域へのポインタを取得する" alt="" coords="1281,167,1459,209"/>
<area shape="rect" href="classkomori_1_1detail_1_1_search_monitor.html#a5c89cae7c5c90289bf237ec54e775762" title="現在の探索情報を UsiInfo に詰めて返す。" alt="" coords="1000,1362,1215,1403"/>
<area shape="rect" href="classkomori_1_1_usi_info.html#a0168968e66135ba7225030c489243e57" title="key に val を設定する。" alt="" coords="1295,1399,1445,1425"/>
<area shape="rect" href="classkomori_1_1tt_1_1detail_1_1_transposition_table_impl.html#a4179ad57f2d4a73ece89f9c380a7751a" title="置換表使用率（千分率）を計算する" alt="" coords="1018,1071,1197,1127"/>
<area shape="rect" href="classkomori_1_1_score.html#a8d4d0c6ccf9d41846b8ebe16be1f7faa" title="現在の評価値を USI 文字列で返す" alt="" coords="1022,1311,1193,1337"/>
<area shape="rect" href="classkomori_1_1detail_1_1_search_monitor.html#afc31d019620df41e7762e5bc9a1d0133" title="現在の探索局面数" alt="" coords="1263,1194,1477,1235"/>
<area shape="rect" href="classkomori_1_1_usi_info.html#ac6b39b3ffe4360857101ab18c44ffffe" title="設定済のオプションの中に key が含まれているかどうか判定する。" alt="" coords="1525,1399,1680,1425"/>
<area shape="rect" href="classkomori_1_1tt_1_1_regular_table.html#a9d2dd0f37b92f3af3f34b3b412a5c8a8" title="通常テーブルのメモリ使用率を見積もる。" alt="" coords="1281,1103,1459,1145"/>
<area shape="rect" href="classkomori_1_1tt_1_1_repetition_table.html#a164c681a2c3ac0b306e8807d2d6014cd" title="置換表のメモリ使用率を求める。" alt="" coords="1273,1038,1467,1079"/>
<area shape="rect" href="classkomori_1_1_node.html#a4340f73789f45570ffe593fc9d0aafa9" title="現在 OR node かどうか" alt="" coords="1019,733,1196,760"/>
<area shape="rect" href="classkomori_1_1_node.html#acd0ed0838fa087e459aadae9cf563b0c" title="現在の手番" alt="" coords="1303,700,1437,727"/>
<area shape="rect" href="classkomori_1_1_score.html#a992a9272df730122ff52335e7ef339d1" title="デフォルトコンストラクタ" alt="" coords="505,5,659,32"/>
<area shape="rect" href="classkomori_1_1tt_1_1detail_1_1_transposition_table_impl.html#a03fe64f10c6759a3d546410a9a5dd97c" title="ガベージコレクションを実行する" alt="" coords="493,427,671,483"/>
<area shape="rect" href="classkomori_1_1_expansion_stack.html#ae7188bab1b61788cc1cafe1e73384c26" title="スタック先頭要素を返す。" alt="" coords="755,742,934,783"/>
<area shape="rect" href="classkomori_1_1_search_result.html#af8b976b730b126e74a8c062f275444e9" title="dn" alt="" coords="489,909,675,936"/>
<area shape="rect" href="classkomori_1_1_node.html#a082d5d0045420c8978206fda2b518e17" title="move で1手進める" alt="" coords="759,571,930,597"/>
<area shape="rect" href="classkomori_1_1_expansion_stack.html#ad1bb984f52e71df980b5a105b41f71f2" title="現局面が終点となるの二重カウント解消を試みる" alt="" coords="493,742,671,783"/>
<area shape="rect" href="classkomori_1_1_search_result.html#a0d81252fa8281a46c86b05b609434429" title="千日手の探索結果で初期化する" alt="" coords="502,507,662,549"/>
<area shape="rect" href="classkomori_1_1_search_result.html#a87047b35fcd4a5b7be3b7ee76d8b740c" title="pn" alt="" coords="490,573,674,600"/>
<area shape="rect" href="classkomori_1_1_komoring_heights.html#a67fdaf96d072661775e5997bb9440dc7" title="print_flag_ が立っていたら off にした上で探索情報を出力する" alt="" coords="489,961,675,1002"/>
<area shape="rect" href="classkomori_1_1detail_1_1_search_monitor.html#a4a738a1ed6f0aa22ce3d594c46f40c9c" title="次回の置換表使用率チェックタイミングを更新する" alt="" coords="737,1129,952,1170"/>
<area shape="rect" href="classkomori_1_1detail_1_1_search_monitor.html#a769465e6930f15973ab17ac204b1bfe8" title="今すぐ置換表使用率をチェックすべきなら true" alt="" coords="737,1194,952,1235"/>
<area shape="rect" href="classkomori_1_1_node.html#aad7fe2734b150a1d9645ea72e2fdda83" title="DoMove() で勧めた局面を元に戻す" alt="" coords="751,376,938,403"/>
<area shape="rect" href="classkomori_1_1detail_1_1_search_monitor.html#a0272905cf2ad091e3cf9f25d2f727cf5" title="深さ depth の局面に訪れたことを報告する" alt="" coords="475,625,689,666"/>
<area shape="rect" href="classkomori_1_1tt_1_1_regular_table.html#abc27e107c2b787df207bc94082d05e3e" title="通常テーブルの中で、メモリ使用率が高いエントリを間引く" alt="" coords="756,443,933,485"/>
<area shape="rect" href="classkomori_1_1tt_1_1_regular_table.html#afa4c0e9340b321a94d0f21f42fd0ecbb" title="エントリをできるだけ手前の方に移動させる（コンパクション）" alt="" coords="1019,449,1196,490"/>
<area shape="rect" href="classkomori_1_1_node.html#afc3ff609d7a14aae03aab36317148f63" title="現在の盤面ハッシュ値" alt="" coords="1018,515,1197,541"/>
<area shape="rect" href="classkomori_1_1_node.html#a6dfeb2e63ce33d5b9043010cbb8428c3" title="move 後の経路ハッシュ値" alt="" coords="1007,616,1207,643"/>
<area shape="rect" href="classkomori_1_1_visit_history.html#a3ba89e53fbe90e03b07b2c68eea98334" title="(board_key, hand) を履歴に登録する" alt="" coords="1032,667,1183,709"/>
<area shape="rect" href="namespacekomori.html#ae0ab7ef1101897b620e05208fc8975ee" title="現在の path_key と手 move から1手後の path_key を計算する。" alt="" coords="1291,616,1449,643"/>
<area shape="rect" href="namespacekomori.html#aa8a333a0a9dfda36b2fc53731711e1f3" title="n を move した局面から置換表をたどると n の祖先に行き着くかどうか調べる" alt="" coords="743,691,946,717"/>
<area shape="rect" href="classkomori_1_1_score.html#a41335f6ec3462b65044abc2e39f845bc" title="評価値が詰み／不詰かどうか。" alt="" coords="764,960,925,987"/>
<area shape="rect" href="classkomori_1_1detail_1_1_search_monitor.html#ab4df88051b4354971147ea25055e64f1" title="探索局面数を観測する。nps を正しく計算するためには定期的に呼び出しが必要。" alt="" coords="737,1011,952,1053"/>
<area shape="rect" href="classkomori_1_1_visit_history.html#a3af0755f672c9b15c72253aebc682aa5" title="(board_key, hand) を履歴から消す" alt="" coords="1032,331,1183,373"/>
<area shape="rect" href="classkomori_1_1_node.html#a7f1c13d7f57b6af7f34ac77240342d71" title="move 直前の経路ハッシュ値" alt="" coords="1001,397,1213,424"/>
</map>
</div>

</div>
</div>
<a id="ae18eeb5dea2a27dbfa7ed60939556170"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae18eeb5dea2a27dbfa7ed60939556170">&#9670;&nbsp;</a></span>SearchImpl()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classkomori_1_1_search_result.html">SearchResult</a> komori::KomoringHeights::SearchImpl </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classkomori_1_1_node.html">Node</a> &amp;&#160;</td>
          <td class="paramname"><em>n</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespacekomori.html#ae2b179f7c8adb463807f13c9d73ec34a">PnDn</a>&#160;</td>
          <td class="paramname"><em>thpn</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespacekomori.html#ae2b179f7c8adb463807f13c9d73ec34a">PnDn</a>&#160;</td>
          <td class="paramname"><em>thdn</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespacekomori.html#af2c3856a7c53116227693f8dcca64199">MateLen</a>&#160;</td>
          <td class="paramname"><em>len</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::uint32_t &amp;&#160;</td>
          <td class="paramname"><em>inc_flag</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>詰め探索の本体。（再帰関数） </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">n</td><td>現局面 </td></tr>
    <tr><td class="paramname">thpn</td><td>pn のしきい値 </td></tr>
    <tr><td class="paramname">thdn</td><td>dn のしきい値 </td></tr>
    <tr><td class="paramname">len</td><td>残り手数 </td></tr>
    <tr><td class="paramname">inc_flag</td><td>TCA の探索延長フラグ </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>探索結果 </dd></dl>
<p><code>inc_flag</code> の値は探索前より小さくなっているはず</p>

<p class="definition">Definition at line <a class="el" href="komoring__heights_8cpp_source.html#l00263">263</a> of file <a class="el" href="komoring__heights_8cpp_source.html">komoring_heights.cpp</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classkomori_1_1_komoring_heights_ae18eeb5dea2a27dbfa7ed60939556170_cgraph.png" border="0" usemap="#aclasskomori_1_1_komoring_heights_ae18eeb5dea2a27dbfa7ed60939556170_cgraph" alt=""/></div>
<map name="aclasskomori_1_1_komoring_heights_ae18eeb5dea2a27dbfa7ed60939556170_cgraph" id="aclasskomori_1_1_komoring_heights_ae18eeb5dea2a27dbfa7ed60939556170_cgraph">
<area shape="rect" title="詰め探索の本体。（再帰関数）" alt="" coords="5,796,192,837"/>
<area shape="rect" href="classkomori_1_1tt_1_1detail_1_1_transposition_table_impl.html#a03fe64f10c6759a3d546410a9a5dd97c" title="ガベージコレクションを実行する" alt="" coords="258,350,437,406"/>
<area shape="rect" href="classkomori_1_1_expansion_stack.html#ae7188bab1b61788cc1cafe1e73384c26" title="スタック先頭要素を返す。" alt="" coords="521,573,699,615"/>
<area shape="rect" href="classkomori_1_1_search_result.html#af8b976b730b126e74a8c062f275444e9" title="dn" alt="" coords="254,985,441,1011"/>
<area shape="rect" href="classkomori_1_1_node.html#a082d5d0045420c8978206fda2b518e17" title="move で1手進める" alt="" coords="1050,147,1221,174"/>
<area shape="rect" href="classkomori_1_1_node.html#a2c10b9d22f4966f51b47495088f4fd4b" title="現在の攻め方の持ち駒" alt="" coords="1313,409,1480,435"/>
<area shape="rect" href="classkomori_1_1_expansion_stack.html#ad1bb984f52e71df980b5a105b41f71f2" title="現局面が終点となるの二重カウント解消を試みる" alt="" coords="258,548,437,589"/>
<area shape="rect" href="classkomori_1_1_node.html#a19fbde5adf6e542e61f6c620df5b4d16" title="現在の探索深さ" alt="" coords="783,665,962,691"/>
<area shape="rect" href="classkomori_1_1_expansion_stack.html#a9d4c5f980014a30b3a8cbb44f301c3fd" title="スタックの先頭に LocalExpansion オブジェクトを構築する。" alt="" coords="258,1036,437,1077"/>
<area shape="rect" href="classkomori_1_1tt_1_1detail_1_1_transposition_table_impl.html#a4179ad57f2d4a73ece89f9c380a7751a" title="置換表使用率（千分率）を計算する" alt="" coords="783,715,962,771"/>
<area shape="rect" href="classkomori_1_1_search_result.html#a0d81252fa8281a46c86b05b609434429" title="千日手の探索結果で初期化する" alt="" coords="267,1101,427,1143"/>
<area shape="rect" href="classkomori_1_1_search_result.html#a87047b35fcd4a5b7be3b7ee76d8b740c" title="pn" alt="" coords="255,1167,439,1194"/>
<area shape="rect" href="classkomori_1_1_expansion_stack.html#a4f790082fd98aae8613d2432881196bd" title="スタック先頭の LocalExpansion オブジェクトを開放する。" alt="" coords="242,1218,453,1245"/>
<area shape="rect" href="classkomori_1_1_komoring_heights.html#a67fdaf96d072661775e5997bb9440dc7" title="print_flag_ が立っていたら off にした上で探索情報を出力する" alt="" coords="254,767,441,808"/>
<area shape="rect" href="classkomori_1_1detail_1_1_search_monitor.html#a4a738a1ed6f0aa22ce3d594c46f40c9c" title="次回の置換表使用率チェックタイミングを更新する" alt="" coords="503,1124,717,1165"/>
<area shape="rect" href="classkomori_1_1detail_1_1_search_monitor.html#a769465e6930f15973ab17ac204b1bfe8" title="今すぐ置換表使用率をチェックすべきなら true" alt="" coords="503,1189,717,1231"/>
<area shape="rect" href="classkomori_1_1detail_1_1_search_monitor.html#a8732d41a7d1f887a7059a511c0f0574a" title="今すぐ探索をやめるべきなら true" alt="" coords="503,1059,717,1100"/>
<area shape="rect" href="classkomori_1_1_node.html#aad7fe2734b150a1d9645ea72e2fdda83" title="DoMove() で勧めた局面を元に戻す" alt="" coords="1042,89,1229,115"/>
<area shape="rect" href="classkomori_1_1detail_1_1_search_monitor.html#a0272905cf2ad091e3cf9f25d2f727cf5" title="深さ depth の局面に訪れたことを報告する" alt="" coords="240,1269,455,1311"/>
<area shape="rect" href="classkomori_1_1tt_1_1_regular_table.html#abc27e107c2b787df207bc94082d05e3e" title="通常テーブルの中で、メモリ使用率が高いエントリを間引く" alt="" coords="521,236,699,277"/>
<area shape="rect" href="classkomori_1_1tt_1_1_regular_table.html#afa4c0e9340b321a94d0f21f42fd0ecbb" title="エントリをできるだけ手前の方に移動させる（コンパクション）" alt="" coords="784,233,961,275"/>
<area shape="rect" href="classkomori_1_1tt_1_1_regular_table.html#aa6ac86c8e1152cbe7a18e8d81a55fcef" title="board_key に対応する循環領域へのポインタを取得する" alt="" coords="1047,275,1224,316"/>
<area shape="rect" href="classkomori_1_1_node.html#afc3ff609d7a14aae03aab36317148f63" title="現在の盤面ハッシュ値" alt="" coords="1307,358,1486,385"/>
<area shape="rect" href="classkomori_1_1_node.html#a485678f91b4653d87fcf5ee6071351de" title="このクラスが保持する Position への参照" alt="" coords="1581,409,1721,435"/>
<area shape="rect" href="classkomori_1_1_node.html#a6dfeb2e63ce33d5b9043010cbb8428c3" title="move 後の経路ハッシュ値" alt="" coords="1551,206,1751,233"/>
<area shape="rect" href="classkomori_1_1_visit_history.html#a3ba89e53fbe90e03b07b2c68eea98334" title="(board_key, hand) を履歴に登録する" alt="" coords="1321,140,1472,181"/>
<area shape="rect" href="namespacekomori.html#ae0ab7ef1101897b620e05208fc8975ee" title="現在の path_key と手 move から1手後の path_key を計算する。" alt="" coords="1799,115,1957,142"/>
<area shape="rect" href="classkomori_1_1_visit_history.html#a62769876f5547de5b474300c666cea8a" title="index の次のインデックスを求める" alt="" coords="1575,75,1726,116"/>
<area shape="rect" href="classkomori_1_1_visit_history.html#ab3ed82ca4c526f4f34c90c9277ba7d5b" title="board_key に対する探索開始インデックスを求める" alt="" coords="1575,140,1726,181"/>
<area shape="rect" href="namespacekomori.html#aa8a333a0a9dfda36b2fc53731711e1f3" title="n を move した局面から置換表をたどると n の祖先に行き着くかどうか調べる" alt="" coords="509,505,711,531"/>
<area shape="rect" href="classkomori_1_1_node.html#ae8e8fe23b128f7ae53c3878437828caa" title="move 後の盤面ハッシュ値と攻め方の持ち駒を同時に取得する" alt="" coords="766,481,979,523"/>
<area shape="rect" href="classkomori_1_1_node.html#a4340f73789f45570ffe593fc9d0aafa9" title="現在 OR node かどうか" alt="" coords="1308,539,1485,566"/>
<area shape="rect" href="classkomori_1_1tt_1_1detail_1_1_transposition_table_impl.html#ad0d9e65f7b1603b063cd8d3c7252a797" title="生のハッシュ値からクエリを構築する" alt="" coords="783,299,962,355"/>
<area shape="rect" href="classkomori_1_1_node.html#a518389ecf55b16ebf8f41dcb8c5ff731" title="(board_key, hand) が経路に含まれているかどうか" alt="" coords="1028,423,1243,450"/>
<area shape="rect" href="classkomori_1_1_node.html#a1e4f1da48b69fb3356543b7cf37aab12" title="盤面ハッシュ値と攻め方の持ち駒を同時に取得する" alt="" coords="1034,357,1237,399"/>
<area shape="rect" href="classkomori_1_1tt_1_1_query.html#ab73f7666d785f8b6cf94d64579260c22" title="置換表に保存された現局面の親局面を取得する" alt="" coords="803,599,942,640"/>
<area shape="rect" href="classkomori_1_1_node.html#ab47757b0ecd5c40af2b2246a17477a13" title="move 後の盤面ハッシュ値" alt="" coords="1291,598,1502,625"/>
<area shape="rect" href="classkomori_1_1_node.html#ac82d1552c36647cc88e62b104b77595d" title="move 後の攻め方の持ち駒" alt="" coords="1037,485,1234,511"/>
<area shape="rect" href="classkomori_1_1tt_1_1_regular_table.html#a9d2dd0f37b92f3af3f34b3b412a5c8a8" title="通常テーブルのメモリ使用率を見積もる。" alt="" coords="1047,660,1224,701"/>
<area shape="rect" href="classkomori_1_1tt_1_1_repetition_table.html#a164c681a2c3ac0b306e8807d2d6014cd" title="置換表のメモリ使用率を求める。" alt="" coords="1038,725,1233,767"/>
<area shape="rect" href="classkomori_1_1_komoring_heights.html#a1716f99cbc6053f69973929c21bdd83f" title="現在の探索情報を取得する" alt="" coords="517,817,703,859"/>
<area shape="rect" href="classkomori_1_1_score.html#a41335f6ec3462b65044abc2e39f845bc" title="評価値が詰み／不詰かどうか。" alt="" coords="529,883,691,910"/>
<area shape="rect" href="classkomori_1_1detail_1_1_search_monitor.html#ab4df88051b4354971147ea25055e64f1" title="探索局面数を観測する。nps を正しく計算するためには定期的に呼び出しが必要。" alt="" coords="765,1015,980,1056"/>
<area shape="rect" href="classkomori_1_1detail_1_1_search_monitor.html#a5c89cae7c5c90289bf237ec54e775762" title="現在の探索情報を UsiInfo に詰めて返す。" alt="" coords="765,847,980,888"/>
<area shape="rect" href="classkomori_1_1_usi_info.html#a0168968e66135ba7225030c489243e57" title="key に val を設定する。" alt="" coords="1060,825,1211,851"/>
<area shape="rect" href="classkomori_1_1_score.html#a8d4d0c6ccf9d41846b8ebe16be1f7faa" title="現在の評価値を USI 文字列で返す" alt="" coords="787,913,958,939"/>
<area shape="rect" href="classkomori_1_1detail_1_1_search_monitor.html#afc31d019620df41e7762e5bc9a1d0133" title="現在の探索局面数" alt="" coords="1028,1073,1243,1115"/>
<area shape="rect" href="classkomori_1_1_visit_history.html#a3af0755f672c9b15c72253aebc682aa5" title="(board_key, hand) を履歴から消す" alt="" coords="1321,75,1472,116"/>
<area shape="rect" href="classkomori_1_1_node.html#a7f1c13d7f57b6af7f34ac77240342d71" title="move 直前の経路ハッシュ値" alt="" coords="1291,23,1503,50"/>
<area shape="rect" href="namespacekomori.html#af65c288516ec71f448f2947aac9e755b" title="1手後の path_key と手 move から現在の path_key を計算する。" alt="" coords="1565,23,1736,50"/>
</map>
</div>

</div>
</div>
<a id="adfb4b9e964208439548db90325b90c80"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adfb4b9e964208439548db90325b90c80">&#9670;&nbsp;</a></span>SearchMainLoop()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::pair&lt; <a class="el" href="namespacekomori.html#ada1a4eeb6080f15a12a946bf93ff7488">NodeState</a>, <a class="el" href="namespacekomori.html#af2c3856a7c53116227693f8dcca64199">MateLen</a> &gt; komori::KomoringHeights::SearchMainLoop </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classkomori_1_1_node.html">Node</a> &amp;&#160;</td>
          <td class="paramname"><em>n</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>詰み手順を探す </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">n</td><td>現局面 </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>探索結果と詰み手数</dd></dl>
<p><code><a class="el" href="classkomori_1_1_komoring_heights.html#a1d0e3beed5538993268bab3b4b4271f9" title="n が len 手以下で詰むかを探索する">SearchEntry()</a></code> や <code><a class="el" href="classkomori_1_1_komoring_heights.html#ae18eeb5dea2a27dbfa7ed60939556170" title="詰め探索の本体。（再帰関数）">SearchImpl()</a></code> のような df-pn 探索では「詰みかどうか」の探索は得意だが 「最短の詰み手順かどうか」の判定は難しい。この関数では、詰み手数を変えながら <code><a class="el" href="classkomori_1_1_komoring_heights.html#a1d0e3beed5538993268bab3b4b4271f9" title="n が len 手以下で詰むかを探索する">SearchEntry()</a></code> を 呼ぶことで局面 <code>n</code> の詰み手数の区間を狭めていくことが目的の関数である。 </p>

<p class="definition">Definition at line <a class="el" href="komoring__heights_8cpp_source.html#l00171">171</a> of file <a class="el" href="komoring__heights_8cpp_source.html">komoring_heights.cpp</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classkomori_1_1_komoring_heights_adfb4b9e964208439548db90325b90c80_cgraph.png" border="0" usemap="#aclasskomori_1_1_komoring_heights_adfb4b9e964208439548db90325b90c80_cgraph" alt=""/></div>
<map name="aclasskomori_1_1_komoring_heights_adfb4b9e964208439548db90325b90c80_cgraph" id="aclasskomori_1_1_komoring_heights_adfb4b9e964208439548db90325b90c80_cgraph">
<area shape="rect" title="詰み手順を探す" alt="" coords="5,1282,192,1323"/>
<area shape="rect" href="classkomori_1_1_komoring_heights.html#a1716f99cbc6053f69973929c21bdd83f" title="現在の探索情報を取得する" alt="" coords="1283,1287,1469,1329"/>
<area shape="rect" href="classkomori_1_1_komoring_heights.html#afbbb83a9dab145498fae3e4ae05f0793" title="現時点の探索結果から詰め手順を取得する" alt="" coords="240,295,427,337"/>
<area shape="rect" href="classkomori_1_1_komoring_heights.html#a1d0e3beed5538993268bab3b4b4271f9" title="n が len 手以下で詰むかを探索する" alt="" coords="499,1147,686,1189"/>
<area shape="rect" href="classkomori_1_1_node.html#ad8aec0a7fdeb5376090cd1e5c3a833a2" title="開始局面が OR Node かどうか" alt="" coords="759,516,965,543"/>
<area shape="rect" href="classkomori_1_1_score.html#abde38682068f6f88a2a014aec7efb8bf" title="Score オブジェクトを構築する。" alt="" coords="785,1449,939,1476"/>
<area shape="rect" href="namespacekomori.html#ab4c8398dda0325cc3ecd032c30a01425" title="整数 i に対し、序数（Ordinal Number）の文字列を返す" alt="" coords="246,1500,421,1527"/>
<area shape="rect" href="classkomori_1_1detail_1_1_search_monitor.html#a5c89cae7c5c90289bf237ec54e775762" title="現在の探索情報を UsiInfo に詰めて返す。" alt="" coords="1524,1229,1739,1270"/>
<area shape="rect" href="classkomori_1_1_usi_info.html#a0168968e66135ba7225030c489243e57" title="key に val を設定する。" alt="" coords="1819,1301,1969,1328"/>
<area shape="rect" href="classkomori_1_1tt_1_1detail_1_1_transposition_table_impl.html#a4179ad57f2d4a73ece89f9c380a7751a" title="置換表使用率（千分率）を計算する" alt="" coords="1542,1148,1721,1204"/>
<area shape="rect" href="classkomori_1_1_score.html#a8d4d0c6ccf9d41846b8ebe16be1f7faa" title="現在の評価値を USI 文字列で返す" alt="" coords="1546,1295,1717,1321"/>
<area shape="rect" href="classkomori_1_1detail_1_1_search_monitor.html#afc31d019620df41e7762e5bc9a1d0133" title="現在の探索局面数" alt="" coords="1787,1046,2001,1087"/>
<area shape="rect" href="classkomori_1_1_usi_info.html#ac6b39b3ffe4360857101ab18c44ffffe" title="設定済のオプションの中に key が含まれているかどうか判定する。" alt="" coords="2049,1301,2204,1328"/>
<area shape="rect" href="classkomori_1_1tt_1_1_regular_table.html#a9d2dd0f37b92f3af3f34b3b412a5c8a8" title="通常テーブルのメモリ使用率を見積もる。" alt="" coords="1805,1141,1983,1182"/>
<area shape="rect" href="classkomori_1_1tt_1_1_repetition_table.html#a164c681a2c3ac0b306e8807d2d6014cd" title="置換表のメモリ使用率を求める。" alt="" coords="1797,1206,1991,1247"/>
<area shape="rect" href="namespacekomori.html#af60b97ffafc4e100347e046e86ef02ac" title="(OR node限定) n が 1 手詰かどうか判定する。" alt="" coords="774,151,950,177"/>
<area shape="rect" href="classkomori_1_1_node.html#a082d5d0045420c8978206fda2b518e17" title="move で1手進める" alt="" coords="1035,227,1206,253"/>
<area shape="rect" href="classkomori_1_1detail_1_1_mate_len_impl.html#ab53b046400e9408fdc8c744f56e09e27" title="詰み手数を返す" alt="" coords="475,303,711,329"/>
<area shape="rect" href="classkomori_1_1tt_1_1detail_1_1_transposition_table_impl.html#a60ba9bb9c00c85a2475c98b256ab1051" title="新しい探索を始める" alt="" coords="503,353,682,409"/>
<area shape="rect" href="namespacekomori.html#a13b1a743c345f921833c153fd537a50d" title="局面 n から moves で手を一気に戻す。n に対し、moves の後ろから順に n.UndoMove(m) を適用する。" alt="" coords="527,201,659,228"/>
<area shape="rect" href="namespacekomori.html#ace83f8e2ffff818bd25b6def2e075904" title="move 後の手駒が after_hand のとき、移動前の持ち駒を返す" alt="" coords="1045,125,1197,152"/>
<area shape="rect" href="classkomori_1_1_node.html#a485678f91b4653d87fcf5ee6071351de" title="このクラスが保持する Position への参照" alt="" coords="1561,285,1701,312"/>
<area shape="rect" href="classkomori_1_1_node.html#aad7fe2734b150a1d9645ea72e2fdda83" title="DoMove() で勧めた局面を元に戻す" alt="" coords="1027,176,1214,203"/>
<area shape="rect" href="classkomori_1_1_node.html#afc3ff609d7a14aae03aab36317148f63" title="現在の盤面ハッシュ値" alt="" coords="1287,92,1465,119"/>
<area shape="rect" href="classkomori_1_1_node.html#a2c10b9d22f4966f51b47495088f4fd4b" title="現在の攻め方の持ち駒" alt="" coords="1293,311,1459,337"/>
<area shape="rect" href="classkomori_1_1_node.html#a6dfeb2e63ce33d5b9043010cbb8428c3" title="move 後の経路ハッシュ値" alt="" coords="1276,143,1476,169"/>
<area shape="rect" href="classkomori_1_1_visit_history.html#a3ba89e53fbe90e03b07b2c68eea98334" title="(board_key, hand) を履歴に登録する" alt="" coords="1301,194,1451,235"/>
<area shape="rect" href="classkomori_1_1tt_1_1_repetition_table.html#a1cf06ccf4ee8c44a6f965ec43f21185a" title="置換表に保存された経路ハッシュ値をすべて削除する。" alt="" coords="765,361,959,402"/>
<area shape="rect" href="classkomori_1_1tt_1_1detail_1_1_transposition_table_impl.html#a96c4e38870490176e0053914a17c908c" title="局面 n のエントリを読み書きするためのクエリを返す" alt="" coords="1031,379,1210,435"/>
<area shape="rect" href="namespacekomori.html#a177c33b9356030cab989f275b6fd6ea4" title="pn/dn の値を [min, max] の範囲に収まるように丸める。" alt="" coords="787,1079,937,1105"/>
<area shape="rect" href="classkomori_1_1_expansion_stack.html#a9d4c5f980014a30b3a8cbb44f301c3fd" title="スタックの先頭に LocalExpansion オブジェクトを構築する。" alt="" coords="1031,1210,1210,1251"/>
<area shape="rect" href="classkomori_1_1_expansion_stack.html#a4f790082fd98aae8613d2432881196bd" title="スタック先頭の LocalExpansion オブジェクトを開放する。" alt="" coords="1015,1276,1226,1303"/>
<area shape="rect" href="classkomori_1_1_komoring_heights.html#ae18eeb5dea2a27dbfa7ed60939556170" title="詰め探索の本体。（再帰関数）" alt="" coords="769,821,955,862"/>
<area shape="rect" href="classkomori_1_1detail_1_1_search_monitor.html#a8732d41a7d1f887a7059a511c0f0574a" title="今すぐ探索をやめるべきなら true" alt="" coords="1013,1145,1228,1186"/>
<area shape="rect" href="classkomori_1_1tt_1_1_query.html#add5f4c6c79b8cf305918bd62683a0078" title="探索結果 result を置換表に書き込む" alt="" coords="793,1333,931,1374"/>
<area shape="rect" href="classkomori_1_1_node.html#a19fbde5adf6e542e61f6c620df5b4d16" title="現在の探索深さ" alt="" coords="1287,701,1465,728"/>
<area shape="rect" href="classkomori_1_1_node.html#a4181d9d06d60b7f11701b8add6a2e69f" title="現在の経路ハッシュ値" alt="" coords="1280,529,1472,556"/>
<area shape="rect" href="classkomori_1_1tt_1_1_regular_table.html#aa6ac86c8e1152cbe7a18e8d81a55fcef" title="board_key に対応する循環領域へのポインタを取得する" alt="" coords="1287,463,1465,505"/>
<area shape="rect" href="classkomori_1_1_node.html#a4340f73789f45570ffe593fc9d0aafa9" title="現在 OR node かどうか" alt="" coords="1032,277,1209,304"/>
<area shape="rect" href="classkomori_1_1_node.html#acd0ed0838fa087e459aadae9cf563b0c" title="現在の手番" alt="" coords="1309,361,1443,388"/>
<area shape="rect" href="classkomori_1_1_score.html#a992a9272df730122ff52335e7ef339d1" title="デフォルトコンストラクタ" alt="" coords="1043,1449,1198,1476"/>
<area shape="rect" href="classkomori_1_1tt_1_1detail_1_1_transposition_table_impl.html#a03fe64f10c6759a3d546410a9a5dd97c" title="ガベージコレクションを実行する" alt="" coords="1031,845,1210,901"/>
<area shape="rect" href="classkomori_1_1_expansion_stack.html#ae7188bab1b61788cc1cafe1e73384c26" title="スタック先頭要素を返す。" alt="" coords="1287,581,1465,622"/>
<area shape="rect" href="classkomori_1_1_search_result.html#af8b976b730b126e74a8c062f275444e9" title="dn" alt="" coords="1027,627,1214,653"/>
<area shape="rect" href="classkomori_1_1_expansion_stack.html#ad1bb984f52e71df980b5a105b41f71f2" title="現局面が終点となるの二重カウント解消を試みる" alt="" coords="1031,561,1210,602"/>
<area shape="rect" href="classkomori_1_1_search_result.html#a0d81252fa8281a46c86b05b609434429" title="千日手の探索結果で初期化する" alt="" coords="1041,678,1201,719"/>
<area shape="rect" href="classkomori_1_1_search_result.html#a87047b35fcd4a5b7be3b7ee76d8b740c" title="pn" alt="" coords="1029,744,1213,771"/>
<area shape="rect" href="classkomori_1_1_komoring_heights.html#a67fdaf96d072661775e5997bb9440dc7" title="print_flag_ が立っていたら off にした上で探索情報を出力する" alt="" coords="1027,926,1214,967"/>
<area shape="rect" href="classkomori_1_1detail_1_1_search_monitor.html#a4a738a1ed6f0aa22ce3d594c46f40c9c" title="次回の置換表使用率チェックタイミングを更新する" alt="" coords="1524,1031,1739,1073"/>
<area shape="rect" href="classkomori_1_1detail_1_1_search_monitor.html#a769465e6930f15973ab17ac204b1bfe8" title="今すぐ置換表使用率をチェックすべきなら true" alt="" coords="1524,966,1739,1007"/>
</map>
</div>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1
</small></address>
</body>
</html>
